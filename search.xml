<?xml version="1.0" encoding="utf-8"?>
<search>
  
    
    <entry>
      <title><![CDATA[Answer-Polar Code-高斯近似之$\varphi \left( x \right)$反函数]]></title>
      <url>%2F2017%2F11%2F02%2Fanswer-polar-code-ga-inverse-phix%2F</url>
      <content type="text"><![CDATA[前言《Polar Code（8）高斯近似》中$\varphi \left( x \right)$的反函数，计算式（8）比较困难，而式（9）、式（10）比较容易。本文以式（9）为例详述$\varphi \left( x \right)$的反函数。\begin{align} { {\varphi }_{AGA-2}}\left( x \right)=\left\{ \begin{matrix} { {e}^{0.0116{ {x}^{2}}-0.4212x}},\ 07.0633 \\ \end{matrix} \right. \end{align}$ { {y}_{1}}={ {e}^{0.0116{ {x}^{2}}-0.4212x}},x\in \left( 0,7.0633 \right] $的反函数\begin{align} \ln { {y}_{1}}=0.0116{ {x}^{2}}-0.4212x \end{align}\begin{align} 0.0116{ {x}^{2}}-0.4212x-\ln { {y}_{1}}=0 \end{align}一元二次方程的根为\begin{align} x=\frac{-b\pm \sqrt{ { {b}^{2}}-4ac}}{2a}=\frac{0.4212\pm \sqrt{ { {0.4212}^{2}}+4\times 0.0116\times \ln { {y}_{1}}}}{2\times 0.0116} \end{align}其中$a=0.0116,b=-0.4212,c=-\ln { {y}_{1}}$，而$\pm $的选取要做一番比较：\begin{align} \sqrt{ { {b}^{2}}-4ac}=\sqrt{ { {0.4212}^{2}}+4\times 0.0116\times \ln { {y}_{1}}} \end{align}根据定义域$ x\in \left( 0,7.0633 \right] $，得到${ {y}_{1}}$的值域${ {y}_{1}}\in \left[ \text{0}\text{.0911},1 \right)$，则有\begin{align} \nonumber & -\text{2}\text{.3963}\le \ln { {y}_{1}}]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[5G-NR物理信道与调制-下行链路v1.1.0]]></title>
      <url>%2F2017%2F10%2F24%2Fnr-v110-l1-channel-modulation-dl%2F</url>
      <content type="text"><![CDATA[上接《5G-NR物理信道与调制v1.1.0》下行链路ScopeReferencesDefinitions, symbols and abbreviations帧结构与物理资源通用函数上行链路5G-NR物理信道与调制-上行链路v1.1.0下行链路概述物理信道概述下行链路物理信道对应于一组资源粒子（REs）的集合，用于承载源自高层的信息。本规范定义了如下下行信道：物理下行共享信道（PDSCH）物理广播信道（PBCH）物理下行控制信道（PDCCH）物理信号概述下行物理信号是物理层使用的但不承载任何来自高层信息的信号。本规范定义了如下下行物理信号：解调参考信号（Demodulation reference signals，DM-RS）相位跟踪参考信号（Phase-tracking reference signals，PT-RS）信道状态信息参考信号（Channel-state information reference signal，CSI-RS）主同步信号（Primary synchronization signal，PSS）辅同步信号（Secondary synchronization signal，SSS）物理资源当接收下行链路发送的数据时，UE应假定采用第4章定义的帧结构和物理资源。定义下列天线端口用于下行链路：PDSCH相关的DM-RS使用以1000为起始的天线端口PDCCH相关的DM-RS使用以2000为起始的天线端口CSI-RS使用以3000为起始的天线端口SS/PBCH块传输使用以4000为起始的天线端口物理信道PDSCH加扰对于每个码字$ q $，UE应假定比特块$ { {b}^{(q)}}(0),…,{ {b}^{(q)}}(M_{\text{bit}}^{(q)}-1) $，其中$ M_{\text{bit}}^{(q)} $物理信道发送的码字$ q $的比特数，在调制之前被加扰，根据以下方式得到加扰比特块$ { {\tilde{b}}^{(q)}}(0),…,{ {\tilde{b}}^{(q)}}(M_{\text{bit}}^{\text{(q)}}-1) ${ {\tilde{b}}^{(q)}}(i)=\left( { {b}^{(q)}}(i)+{ {c}^{(q)}}(i) \right)\bmod 2其中加扰序列$ { {c}^{(q)}}(i) $由5.2节给定。调制对于每个码字$ q $，UE应假定加扰比特块$ { {\tilde{b}}^{(q)}}(0),…,{ {\tilde{b}}^{(q)}}(M_{\text{bit}}^{\text{(q)}}-1) $按照5.1节的描述进行调制，调制方案详见Table 7.3.1.2-1，得到复值调制符号块$ { {d}^{(q)}}(0),…,{ {d}^{(q)}}(M_{\text{symb}}^{\text{(q)}}-1) $。层映射UE应假定每个码字的复值调制符号根据Table 7.3.1.3-1被映射到1个或多个层。码字$ q $的复值调制符号$ { {d}^{(q)}}(0),…,{ {d}^{(q)}}(M_{\text{symb}}^{\text{(q)}}-1) $应被映射到层$ x(i)={ {\left[ \begin{matrix}{ {x}^{(0)}}(i) &amp; … &amp; { {x}^{(\upsilon -1)}}(i) \\\end{matrix} \right]}^{T}} $，$ i=0,1,…,M_{\text{symb}}^{\text{layer}}-1 $，其中$ \upsilon $是层数，$ M_{\text{symb}}^{\text{layer}} $是每层的调制符号数。预编码预编码是透明的，\left[ \begin{matrix} \vdots \\ { {y}^{(p)}}(i) \\ \vdots \\ \end{matrix} \right]=\left[ \begin{matrix} { {x}^{(0)}}(i) \\ \vdots \\ { {x}^{(\upsilon -1)}}(i) \\ \end{matrix} \right]其中$ P=\upsilon $。物理资源映射UE应假定用于物理信道传输的每个天线端口，复值符号块$ { {y}^{(p)}}(0),…,{ {y}^{(p)}}(M_{\text{symb}}^{\text{ap}}-1) $符合TS38.214中的下行功率分配规定，并从$ { {y}^{(p)}}(0) $开始映射到资源粒子$ \left( k,l \right) $，这些REs应满足下列所有条件：它们在已分配的用于传输的RB中根据TS38.214中5.1.2.2.3节，它们被声明为可用于PDSCH根据7.4.1.5节，它们不能用于CSI-RS根据TS38.214中5.1节，它们不为SS/PBCH保留映射过程中不保留用于其他目的资源粒子$ { {\left( k,l \right)}_{p,\mu }} $，并按递增顺序先$k$后$l$映射，起始符号$ l={ {l}_{0}} $根据TS38.213的描述得到。UE可假定在一个PRB bundle内在频域上使用相同的预编码，1个PRB bundle由2个或4个PRBs组成，PRB bundle基于绝对资源格进行定义。PRB bundle大小如果由高层参数配置，那么由参数PDSCH-bundle-size进行配置，否则通过DCI调度传输配置。PDCCH控制信道单元（CCE）PDCCH有1个或多个CCE组成，如Table 7.3.2.1-1所示。控制资源集（CORESET）控制资源集（CORESET）在频域上由$ N_{\text{RB}}^{\text{CORESET}} $个RB组成，在时域上由$ N_{\text{symb}}^{\text{CORESET}}\in \left\{ 1,2,3 \right\} $个符号组成。$ N_{\text{RB}}^{\text{CORESET}} $由高层参数CORESET-freq-dom给定，$ N_{\text{symb}}^{\text{CORESET}} $由高层参数CORESET-time-dur给定。仅当高层参数DL-DMRS-typeA-pos = 3时，支持$ N_{\text{symb}}^{\text{CORESET}}=3 $。1个CCE由6个REGs组成，1个REG等于1个OFDM符号上的1个RB。CORESET内的REGs按时域优先的顺序编号，从第1个OFDM符号且最低编号的RB以0开始编号。UE可配置多个CORESETs，每个CORESET只与一个种CCE-to-REG映射关联。在CORESET内，CCE-to-REG映射可以交织也可以不交织，这由高层参数CORESET-Trans-type来配置，并且由REG bundles来描述：REG bundle $i$ 定义为一组REGs $ \left\{ iL,iL+1,…,iL+L-1 \right\} $，其中REG bundle大小$ L $由高层参数CORESET-REG-bundle-size来配置，$ i=0,1,…,{N_{\text{REG}}^{\text{CORESET}}}/{L}\;-1 $是CORESET内REGs的数目。CCE $j$ 由REG bundles $ \left\{ f({6j}/{L}\;),f({6j}/{L}\;+1),…,f({6j}/{L}\;+{6}/{L}\;-1) \right\} $组成，其中$ f(\cdot ) $是交织器。对于非交织的CCE-to-REG映射，有$ L=6 $且$ f(j)=j $。对于交织的CCE-to-REG映射，对于$ N_{\text{symb}}^{\text{CORESET}}=1 $，有$ L\in \left\{ 2,6 \right\} $；对于$ N_{\text{symb}}^{\text{CORESET}}\in \left\{ 2,3 \right\} $，有$ L\in \left\{ N_{\text{symb}}^{\text{CORSET}},6 \right\} $。UE可假定如果高层参数CORESET-wideband-bundle没有对CORESET进行设置，那么在1个REG bundle内的频域上使用相同的预编码如果高层参数CORESET-wideband-bundle对CORESET进行了设置，那么在整个CORESET内的频域上使用相同的预编码加扰调制UE应假定比特块$ \tilde{b}(0),…,\tilde{b}({ {M}_{\text{bit}}}-1) $按照5.1.3节的描述进行QPSK调制，得到复值调制符号块$ d(0),…,d({ {M}_{\text{symb}}}-1) $。物理资源映射UE应假定复值调制符号块$ d(0),…,d({ {M}_{\text{symb}}}-1) $乘以一个幅值因子$ { {\beta }_{\text{PDCCH}}} $，并在用于监测PDCCH的CCEs上先$ l $后$k$按递增顺序映射到资源粒子$ { {\left( k,l \right)}_{p,\mu }} $。PBCH加扰UE应假定比特块$ { {b}^{(q)}}(0),…,{ {b}^{(q)}}(M_{\text{bit}}^{(q)}-1) $，其中$ { {M}_{\text{bit}}} $是PBCH发送的比特数，应根据以下方式在调制之前进行加扰，得到加扰比特块$ \tilde{b}(0),…,\tilde{b}({ {M}_{\text{bit}}}-1) ${ {\tilde{b}}^{(q)}}(i)=\left( { {b}^{(q)}}(i)+{ {c}^{(q)}}(i) \right)\bmod 2其中加扰序列$ { {c}^{(q)}}(i) $由5.2节给定。调制UE应假定比特块$ \tilde{b}(0),…,\tilde{b}({ {M}_{\text{bit}}}-1) $按照5.1节的描述进行QPSK调制，得到复值调制符号块$ { {d}_{\text{PBCH}}}(0),…,{ {d}_{\text{PBCH}}}({ {M}_{\text{symb}}}-1) $。物理资源映射物理资源映射在7.4.3节中描述。物理信号参考信号PDSCH DM-RS序列生成UE应假定参考信号序列$ r(m) $定义为r(m)=\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m) \right)+j\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m+1) \right)其中伪随机序列$ c(i) $在5.2节中定义。物理资源映射UE应假定PDSCH DM-RS根据高层参数DL-DMRS-config-type给定的类型1或类型2进行物理资源映射。UE应假定序列$ r(m) $根据以下方式进行物理资源映射\begin{align} \nonumber & a_{k,l}^{(p,\mu )}={ {\beta }_{\text{DMRS}}}{ {w}_{\text{f}}}\left( { {k}'} \right)\cdot { {w}_{\text{t}}}\left( { {l}'} \right)\cdot r\left( 2m+{k}'+{ {m}_{0}} \right) \\ \nonumber & k=\left\{ \begin{array}{*{35}{l}} { {k}_{\text{0}}}+4m+2{k}'+\Delta & \text{Configuration type 1} \\ { {k}_{\text{0}}}+6m+{k}'+\Delta & \text{Configuration type 2} \\ \end{array} \right. \\ \nonumber & {k}'=0,1 \\ \nonumber & l=\left\{ { {l}_{0}},\bar{l} \right\}+{l}' \end{align}其中$ { {w}_{\text{f}}}\left( { {k}’} \right) $，$ { {w}_{\text{t}}}\left( { {l}’} \right) $和$ \Delta $由Tables 7.4.1.1.2-1和7.4.1.1.2-2给定。第1个DM-RS符号的参考点$l$和位置$ { {l}_{0}} $依赖于映射类型（mapping type）：对于PDSCH映射类型A：$ l $定义为起始时隙如果高层参数DL-DMRS-typeA-pos = 3，则$ { {l}_{0}}=3 $；否则，$ { {l}_{0}}=2 $对于PDSCH映射类型B:$ l $定义为被调度的PDSCH资源的起始$ { {l}_{0}}=0 $附加的DM-RS符号的位置由 和时隙内最后一个用于PDSCH的OFDM符号确定，详见Tables 7.4.1.1.2-3和7.4.1.1.2-4。时域索引$ {l}’ $和所支持的天线端口$ p $根据DL-DMRS-len和Table 7.4.1.1.2-5得到。在未给定CSI-RS或TRS配置的情况下，UE应假定PDSCH DM-RS和SS/PBCH块是关于多普勒频移、平均时延、时延扩展和空间RX准共定位的（quasi co-located）。PDSCH PT-RS序列生成物理资源映射UE应假定仅当高层参数DL-PTRS-present指示PT-RS被使用时，PT-RS仅呈现在用于PDSCH的RB中。如果PT-RS呈现，UE应假定PDSCH PT-RS按以下方式映射到物理资源\begin{align} \nonumber & a_{k,l}^{(p,\mu )}={ {\beta }_{\text{PTRS}}}r(m) \\ \nonumber & l={ {l}_{\text{DMRS}}}+1+{ {L}_{\text{PTRS}}}\cdot {l}' \\ \nonumber & l'=0,1,2,... \end{align}在每$ { {K}_{\text{PTRS}}} $个被调度的RBs中，当满足下列条件时，PT-RS在最低编号的被调度的RB上传输$ l $在被分配的用于传输PDSCH的OFDM符号内资源粒子$ \left( k,l \right) $不用于DM-RS其中$k$是RB内的子载波索引对于1个符号的DM-RS，有$ { {l}_{\text{DM-RS}}}={ {l}_{0}} $；对于2个符号的DM-RS，有$ { {l}_{\text{DM-RS}}}={ {l}_{0}}+1 $，其中$ { {l}_{0}}+1 $在7.4.1.1.2中定义$ { {K}_{\text{PTRS}}}\in \left\{ 2,4 \right\} $由TS38.214给定$ { {L}_{\text{PT-RS}}}\in \left\{ 1,2,4 \right\} $由TS38.214给定PDCCH DM-RS序列生成UE应假定参考信号序列$ r(m) $定义为r(m)=\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m) \right)+j\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m+1) \right)其中伪随机序列$ c(i) $在5.2节中定义。物理资源映射UE应假定序列$ r(m) $根据以下方式映射到物理资源a_{k,l}^{(p,\mu )}={ {\beta }_{\text{DMRS}}}\cdot r\left( m \right)其中$ k=1,5,9 $，$ l=0 $分别是在一组REGs内的频域和时域索引，这组REGs等于如果高层参数CORESET-wideband-bundle没有对CORESET进行设置，那么这组REGs是UE尝试译码的构成PDCCH的REGs如果高层参数CORESET-wideband-bundle对CORESET进行了设置，那么这组REGs是UE尝试译码的在整个CORESET内的所有REGsPBCH DM-RS序列生成UE应假定用于SS/PBCH块的参考信号序列$ r(m) $定义为r(m)=\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m) \right)+j\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m+1) \right)其中$ c(n) $由5.2节给定。加扰序列生成器应在每个SS/PBCH块的开始处通过小区ID $ N_{\text{ID}}^{\text{cell}} $和$ { {n}_{\text{t}}} $被初始化，SS/PBCH块时间索引由PBCH DM-RS承载。物理资源映射物理资源映射在7.4.3节中定义。CSI-RS序列生成UE应假定参考信号序列$ r(m) $定义为r(m)=\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m) \right)+j\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m+1) \right)其中伪随机序列$ c(i) $在5.2节中定义。物理资源映射对于每个CSI-RS成员配置，UE应假定序列$ r(m) $按以下方式映射到物理资源\begin{align} \nonumber & a_{k,l}^{(p,\mu )}={ {\beta }_{\text{CSIRS}}}{ {w}_{\text{f}}}\left( { {k}'} \right)\cdot { {w}_{\text{t}}}\left( { {l}'} \right)\cdot r\left( m \right) \\ \nonumber& k=\bar{k}+{k}' \\ \nonumber& l=\bar{l}+{l}' \end{align}下列情况除外与所配置的CORESET重叠的REs应从CSI-RS发送中排除$ {k}’ $和$ {l}’ $由Table 7.4.1.5.2-1和$ { {w}_{\text{f}}}\left( { {k}’} \right),{ {w}_{\text{t}}}\left( { {l}’} \right)\in \left\{ \left[ \begin{matrix}+1 &amp; +1 \\\end{matrix} \right],\left[ \begin{matrix}+1 &amp; -1 \\\end{matrix} \right],\left[ \begin{matrix}-1 &amp; +1 \\\end{matrix} \right],\left[ \begin{matrix}-1 &amp; -1 \\\end{matrix} \right] \right\}$确定。时域位置$ l $定义为起始时隙，其中$ \bar{l}\in \left\{ 5,6,12,13 \right\} $是时隙内CSI-RS的起始符号位置，$ \bar{l} $由高层参数CSI-RS-ResourceMapping配置。除单端口之外，频域位置由位图$ \left[ { {b}_{5}}\cdots { {b}_{0}} \right]or\left[ { {b}_{11}}\cdots { {b}_{0}} \right] $通过高层参数CSI-RS-ResourceMapping给定，Table 7.4.1.5.2-1中的$ { {k}_{i}} $对应于位图中从$ { {b}_{0}} $开始的第$i$个集合点，$ { {k}_{i}} $的值由$ { {k}_{i}}=\left[ 1or2 \right]f\left( i \right) $给定，其中$ f\left( i \right) $是第$i$个集合点的位图中的比特号。CSI-RS频域位置在所配置的PRBs上重复。TRS序列生成UE应假定参考信号序列$ r(m) $定义为r(m)=\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m) \right)+j\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m+1) \right)其中伪随机序列$ c(i) $在5.2节中定义。物理资源映射TRS（tracking reference signal） burst由4个OFDM符号组成，在2个连续时隙内发送。UE应假定TRS在1个burst中根据以下方式映射到物理资源\begin{align} \nonumber & a_{k,l}^{(p,\mu )}={ {\beta }_{\text{TRS}}}r(m) \\ \nonumber & k=4m+{ {k}_{0}} \end{align}The UE may assume that a TRS burst is quasi co-located with respect to delay spread, average delay, Doppler shift, and Doppler spread with the PDSCH DM-RS.同步信号物理层小区IDNR有1008个唯一的物理层小区ID，根据下式得到N_{\text{ID}}^{\text{cell}}=3N_{\text{ID}}^{\text{(1)}}+N_{\text{ID}}^{\text{(2)}}其中$ N_{\text{ID}}^{\text{(1)}}\in \left\{ 0,1,…,335 \right\} $且$ N_{\text{ID}}^{\text{(2)}}\in \left\{ 0,1,2 \right\} $。PSS序列生成主同步信号序列$ { {d}_{\text{PSS}}}(n) $定义为\begin{align} \nonumber & { {d}_{\text{PSS}}}\left( n \right)=1-2x\left( m \right) \\ \nonumber & m=\left( n+43N_{\text{ID}}^{\text{(2)}} \right)\bmod 127 \\ \nonumber & 0\le n]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[5G-NR物理信道与调制-上行链路v1.1.0]]></title>
      <url>%2F2017%2F10%2F23%2Fnr-v110-l1-channel-modulation-ul%2F</url>
      <content type="text"><![CDATA[上接《5G-NR物理信道与调制v1.1.0》上行链路ScopeReferencesDefinitions, symbols and abbreviations帧结构与物理资源通用函数上行链路概述物理信道概述上行链路物理信道对应于一组资源粒子（REs）的集合，用于承载源自高层的信息。本规范定义了如下上行信道：物理上行共享信道（PUSCH）物理上行控制信道（PUCCH）物理随机接入信道（PRACH）物理信号概述上行物理信号是物理层使用的，但不承载任何来自高层信息的信号。本规范定义了如下上行物理信号：解调参考信号（Demodulation reference signals，DM-RS）相位跟踪参考信号（Phase-tracking reference signals，PT-RS）探测参考信号（Sounding reference signal，SRS）物理资源当UE进行上行传输时，使用的帧结构和物理资源在第4章定义。定义下列天线端口用于上行链路：PUSCH相关的DMRS使用以1000为起始的天线端口PUCCH相关的DMRS使用以2000为起始的天线端口SRS使用以3000为起始的天线端口PRACH使用天线端口4000物理信道PUSCH加扰对于每个码字$ q $，比特块$ { {b}^{(q)}}(0),…,{ {b}^{(q)}}(M_{\text{bit}}^{(q)}-1) $在调制之前应当被加扰，其中$ M_{\text{bit}}^{(q)} $是在物理信道上传输的码字$ q $的比特数。加扰的比特块$ { {\tilde{b}}^{(q)}}(0),…,{ {\tilde{b}}^{(q)}}(M_{\text{bit}}^{\text{(q)}}-1) $由下式得到{ {\tilde{b}}^{(q)}}(i)=\left( { {b}^{(q)}}(i)+{ {c}^{(q)}}(i) \right)\bmod 2其中加扰序列$ { {c}^{(q)}}(i) $在5.2节给定。调制对于每个码字$ q $，加扰比特块$ { {\tilde{b}}^{(q)}}(0),…,{ {\tilde{b}}^{(q)}}(M_{\text{bit}}^{\text{(q)}}-1) $应按照5.1节所描述的方法进行调制，调制方案见Table 6.3.1.2-1，得到复值调制符号块$ { {d}^{(q)}}(0),…,{ {d}^{(q)}}(M_{\text{symb}}^{\text{(q)}}-1) $。层映射每个码字的复值调制符号根据Table 7.3.1.3-1应被映射到至多4个层。码字$ q $的复值调制符号$ { {d}^{(q)}}(0),…,{ {d}^{(q)}}(M_{\text{symb}}^{\text{(q)}}-1) $应被映射到层$ x(i)={ {\left[ \begin{matrix}{ {x}^{(0)}}(i) &amp; … &amp; { {x}^{(\upsilon -1)}}(i) \\\end{matrix} \right]}^{T}} $，$ i=0,1,…,M_{\text{symb}}^{\text{layer}}-1 $，其中$ \upsilon $是层数，$ M_{\text{symb}}^{\text{layer}} $是每层的调制符号数。TF预编码如果不启用TF预编码（transform precoding），对于每个$ \lambda =0,1,…,\upsilon -1 $有$ { {y}^{(\lambda )}}(i)={ {x}^{(\lambda )}}(i) $。如果启用TF预编码，此时$ \upsilon =1 $，则单层$ \lambda =0 $下复值符号块$ { {x}^{(0)}}(0),…,{ {x}^{(0)}}(M_{\text{symb}}^{\text{layer}}-1) $被分为$ {M_{\text{symb}}^{\text{layer}}}/{M_{\text{sc}}^{\text{PUSCH}}}\; $个集，每个集对应1个OFDM符号。TF预编码由下列方法得到\begin{align} \nonumber & { {y}^{(0)}}(l\cdot M_{\text{sc}}^{\text{PUSCH}}+k)=\frac{1}{\sqrt{M_{\text{sc}}^{\text{PUSCH}}}}\sum\limits_{i=0}^{M_{\text{sc}}^{\text{PUSCH}}-1}{ { {x}^{(0)}}(l\cdot M_{\text{sc}}^{\text{PUSCH}}+i){ {e}^{-j\frac{2\pi ik}{M_{\text{sc}}^{\text{PUSCH}}}}}} \\ \nonumber & k=0,...,M_{\text{sc}}^{\text{PUSCH}}-1 \\ \nonumber & l=0,...,{M_{\text{symb}}^{\text{layer}}}/{M_{\text{sc}}^{\text{PUSCH}}}\;-1 \end{align}得到复值符号块$ { {y}^{(0)}}(0),…,{ {y}^{(0)}}(M_{\text{symb}}^{\text{layer}}-1) $。$ M_{\text{sc}}^{\text{PUSCH}}=M_{\text{RB}}^{\text{PUSCH}}\cdot N_{\text{sc}}^{\text{RB}} $，其中$ M_{\text{RB}}^{\text{PUSCH}} $表示PUSCH带宽（RB），应满足M_{RB}^{PUSCH}={ {2}^{ { {\alpha }_{2}}}}\cdot { {3}^{ { {\alpha }_{3}}}}\cdot { {5}^{ { {\alpha }_{5}}}}其中$ { {\alpha }_{2}},{ {\alpha }_{3}},{ {\alpha }_{5}} $是非负整数集。预编码矢量块$ { {\left[ \begin{matrix}{ {y}^{(0)}}(i) &amp; … &amp; { {y}^{(\upsilon -1)}}(i) \\\end{matrix} \right]}^{T}}$，$ i=0,1,…,M_{\text{symb}}^{\text{layer}}-1 $应根据下式进行预编码\left[ \begin{matrix} { {z}^{(0)}}(i) \\ \vdots \\ { {z}^{(P-1)}}(i) \\ \end{matrix} \right]=W\left[ \begin{matrix} { {y}^{(0)}}(i) \\ \vdots \\ { {y}^{(\upsilon -1)}}(i) \\ \end{matrix} \right]其中，$ i=0,1,…,M_{\text{symb}}^{\text{ap}}-1 $，$ M_{\text{symb}}^{\text{ap}}=M_{\text{symb}}^{\text{layer}} $。对基于非码本的传输，预编码矩阵$ W $根据TS38.214中6.1.1节的描述得到。对基于码本的传输，预编码矩阵$ W $由Table 6.3.1.5-1给定，其中TPMI index从调度上行传输的DCI中获得。物理资源映射对于PUSCH传输所使用的每个天线端口，复值符号块$ { {z}^{(p)}}(0),…,{ {z}^{(p)}}(M_{\text{symb}}^{\text{ap}}-1) $应乘以一个幅值因子$ { {\beta }_{\text{PUSCH}}} $，以符合TS38.213对发送功率$ { {P}_{\text{PUSCH}}} $的规定，并且从$ { {z}^{(p)}}(0) $开始映射到资源粒子$ { {\left( k,l \right)}_{p,\mu }} $。这些REs满足下列条件：这些REs存在于用于传输的已分配的资源中，如果启用TF预编码，they are not in the OFDM symbols used for transmission如果不启用TF预编码，they are not in the OFDM symbols used for transmission of the associated DM-RS如果不启用TF预编码，或者如果是TF预编码但不进行跳频，那么对于其他目的的资源粒子$ { {\left( k,l \right)}_{p,\mu }} $映射是不进行保留的，资源映射顺序为先天线端口$ p $，再频域子载波索引$ k $，然后是时域符号索引$ l $，初始值$ l={ {l}_{0}} $。PUCCHPUCCH支持多种格式，如Table 6.3.2-1所示。对于单个UE，支持采用格式0或格式2的2个PUCCH同时传输，或支持采用格式1或格式3的其中一个PUCCH与采用格式0或格式2的其中一个PUCCH同时传输。PUCCH格式0序列选择定义一组序列$ \left\{ \begin{matrix}{ {x}_{0}}(n) &amp; { {x}_{1}}(n) &amp; { {x}_{2}}(n) &amp; { {x}_{3}}(n) \\\end{matrix} \right\}$，每组序列长度为12。比特块$ b(0),…,b({ {M}_{\text{bit}}}-1) $，其中$ { {M}_{\text{bit}}}\in \left\{ 1,2 \right\} $是PUCCH发送的比特数，应根据下列方法选择发送序列\begin{align} \nonumber & y(n)={ {x}_{j}}(n) \\ \nonumber & j=\sum\nolimits_{i=0}^{ { {M}_{\text{bit}}}-1}{b(i)\cdot { {2}^{i}}} \end{align}物理资源映射序列$ y(n) $应乘以一个幅值因子$ { {\beta }_{\text{PUCCH,0}}} $，以符合TS38.213对发送功率$ { {P}_{\text{PUCCH,0}}} $的规定，并且从$ y(0) $开始映射到资源粒子$开始映射到资源粒子$，在天线端口$ p=2000 $上，按递增顺序先$k$后$l$映射。PUCCH格式1序列调制比特块$ b(0),…,b({ {M}_{\text{bit}}}-1) $应按5.1节的描述进行调制，若$ { {M}_{\text{bit}}}=1 $则使用BPSK，若$ { {M}_{\text{bit}}}=2 $则使用QPSK，得到复值符号$ d(0) $。复值符号$ d(0) $按如下方式乘以序列$ r_{u,v}^{({ {\alpha }_{p}})}(n) $\begin{align} \nonumber & y(n)=d(0)\cdot r_{u,v}^{(\alpha )}(n) \\ \nonumber & n=0,1,...,{ {N}_{\text{seq}}}-1 \end{align}复值符号块$ y(0),…,y({ {N}_{\text{seq}}}-1) $应根据如下方式使用正交序列$ { {w}_{i}}(m) $进行块扩展（block-wise spread）\begin{align} \nonumber & z\left( {m}'{ {N}_{\text{seq}}}{ {N}_{\text{SF}}}+m{ {N}_{\text{seq}}}+n \right)={ {w}_{i}}(m)\cdot y\left( n \right) \\ \nonumber & n=0,1,...,{ {N}_{\text{seq}}}-1 \\ \nonumber & m=0,1,...,N_{\text{SF}}^{ { {m}'}}-1 \\ \nonumber & {m}'=\left\{ \begin{array}{*{35}{l}} 0 & \text{no frequency hopping} \\ 0,1 & \text{frequency hopping enabled} \\ \end{array} \right. \end{align}其中$ { {N}_{\text{seq}}}=N_{\text{sc}}^{\text{RB}} $。正交序列$ { {w}_{i}}(m) $在Table 6.3.2.2.1-1中给定。物理资源映射序列$ { {z}^{(p)}}(n) $应乘以一个幅值因子$ { {\beta }_{\text{PUCCH,1}}} $，以符合TS38.213对发送功率$ { {P}_{\text{PUCCH,1}}} $的规定，并从$ { {z}^{(p)}}(0) $开始映射到资源粒子$ { {\left( k,l \right)}_{p,\mu }} $，这些REs应满足下列条件：它们在被分配的用于传输的RB中它们不能被DM-RS所使用映射过程中不保留用于其他目的资源粒子$ { {\left( k,l \right)}_{p,\mu }} $，在天线端口$ p=2000 $上，按递增顺序先$ k $后$ l $映射。PUCCH格式2加扰比特块$ b(0),…,b(M_{\text{bit}}^{ {}}-1) $，其中$ M_{\text{bit}}^{ {}} $是物理信道发送的比特数，应在调制前按如下方式被加扰，得到加扰比特块$ \tilde{b}(0),…,\tilde{b}({ {M}_{\text{bit}}}-1) ${ {\tilde{b}}^{(q)}}(i)=\left( { {b}^{(q)}}(i)+{ {c}^{(q)}}(i) \right)\bmod 2其中加扰序列$ { {c}^{(q)}}(i) $由5.2节给定。调制加扰比特块$ \tilde{b}(0),…,\tilde{b}({ {M}_{\text{bit}}}-1) $应按5.1节的描述进行QPSK调制，得到复值调制符号块$ d(0),…,d({ {M}_{\text{symb}}}-1) $。物理资源映射调制符号块$ d(0),…,d({ {M}_{\text{symb}}}-1) $应乘以一个幅值因子$ { {\beta }_{\text{PUCCH,2}}} $，以符合TS38.213对发送功率$ { {P}_{\text{PUCCH,2}}} $的规定，并从$ d(0) $开始映射到资源粒子$ { {\left( k,l \right)}_{p,\mu }} $，这些REs应满足下列条件：它们在被分配的用于传输的RB中它们不能被DM-RS所使用映射过程中不保留用于其他目的资源粒子$ { {\left( k,l \right)}_{p,\mu }} $，在天线端口$ p=2000 $上，按递增顺序先$ k $后$ l $映射。PUCCH格式3PRACH序列生成随机接入前导$ { {x}_{u,v}}(n) $按如下方式生成\begin{align} \nonumber & { {x}_{u,v}}(n)={ {x}_{u}}((n+{ {C}_{v}})\bmod { {L}_{\text{RA}}}) \\ \nonumber & { {x}_{u}}(i)={ {e}^{-j\frac{\pi ui(i+1)}{ { {L}_{\text{RA}}}}}},i=0,1,...,{ {L}_{\text{RA}}}-1 \end{align}频域表示按以下方式生成{ {y}_{u,v}}(n)=\sum\limits_{m=0}^{ { {L}_{\text{RA}}}-1}{ { {x}_{u,v}}(m)\cdot { {e}^{-j\frac{2\pi mn}{ { {L}_{\text{RA}}}}}}}其中$ { {L}_{\text{RA}}}=839 $或$ { {L}_{\text{RA}}}=139 $，并根据随机接入前导格式来确定，详见Tables 6.3.3.1-1 and 6.3.3.1-2。循环移位$ { {C}_{v}} $为\begin{align} \nonumber & C{}_{v}=\left\{ \begin{array}{*{35}{l}} v{ {N}_{\text{CS}}} & \text{v}=\text{0,1,}...\text{,}\left\lfloor { { {L}_{\text{RA}}}}/{ { {N}_{\text{CS}}}}\; \right\rfloor -1,{ {N}_{\text{CS}}}\ne 0 & \text{for unrestricted sets} \\ \text{0} & { {N}_{\text{CS}}}=0 & \text{for unrestricted sets} \\ { {d}_{\text{start}}}\left\lfloor {v}/{n_{\text{shift}}^{\text{RA}}}\; \right\rfloor +\left( v\bmod n_{\text{shift}}^{\text{RA}} \right){ {N}_{\text{CS}}} \nonumber & v=0,1,...,w-1 & \text{for restricted sets type A and B} \\ { { {\bar{\bar{d}}}}_{\text{start}}}+\left( v-w \right){ {N}_{\text{CS}}} & v=w,...,w+\bar{\bar{n}}_{\text{shift}}^{\text{RA}}-1 & \text{for restricted sets type B} \\ { { {\bar{\bar{\bar{d}}}}}_{\text{start}}}+\left( v-w-\bar{\bar{n}}_{\text{shift}}^{\text{RA}} \right){ {N}_{\text{CS}}} & v=w+\bar{\bar{n}}_{\text{shift}}^{\text{RA}},...,w+\bar{\bar{n}}_{\text{shift}}^{\text{RA}}+\bar{\bar{\bar{n}}}_{\text{shift}}^{\text{RA}}-1 & \text{for restricted sets type B} \\ \end{array} \right. \\ \nonumber & w=n_{\text{shift}}^{\text{RA}}n_{\text{group}}^{\text{RA}}+\bar{n}_{\text{shift}}^{\text{RA}} \end{align}其中$ { {N}_{\text{CS}}} $由Tables 6.3.3.1-3到6.3.3.1-5给定，高层参数restrictedSetConfig决定受限集合类型，Tables 6.3.3.1-1和6.3.3.1-2指示不同前导格式下所支持的受限集合类型。$ { {d}_{u}} $的值为{ {d}_{u}}=\left\{ \begin{array}{*{35}{l}} q & 0\le q]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[5G-NR物理信道与调制v1.1.0]]></title>
      <url>%2F2017%2F10%2F23%2Fnr-v110-l1-channel-modulation%2F</url>
      <content type="text"><![CDATA[Marshall：5G NR物理层规范已更新到v1.1.0版本，本文整理了38.211规范v1.1.0版，同时宣告v1.0.0版本过时。ScopeReferencesDefinitions, symbols and abbreviations帧结构与物理资源概述在本规范中，除非另有说明，时域中各个域的大小表示为若干时间单位${ {T}_{\text{c}}}={1}/{\left( \Delta { {f}_{\max }}\cdot { {N}_{\text{f}}} \right)}\;$，其中$\Delta { {f}_{\max }}=480\cdot { {10}^{3}}\text{ Hz}$，${ {N}_{\text{f}}}=4096$。常数$\kappa ={ { {T}_{\text{s}}}}/{ { {T}_{\text{c}}}}\;=64$，其中${ {T}_{\text{s}}}={1}/{\left( \Delta { {f}_{\text{ref}}}\cdot { {N}_{\text{f,ref}}} \right)}\;$，$\Delta { {f}_{\text{ref}}}=15\cdot { {10}^{3}}\text{ Hz}$，${ {N}_{\text{f,ref}}}=2048$。${ {T}_{\text{s}}}$是LTE的采样间隔，为了不引起混淆，NR的采样间隔用新的符号${ {T}_{c}}$命名，${ {T}_{c}}=64{ {T}_{s}}$。波形参数如Table 4.2-1所示，NR支持多种OFDM波形参数。部分载波带宽（carrier bandwidth part）的$ \mu $和CP由高层参数给定，其中下行链路由DL_BWP_mu和DL_BWP_cp给定，上行链路由UL_BWP_mu和UL_BWP_cp给定。Marshall：NR支持多种子载波间隔，当$ \mu =0 $时即为LTE的参数配置，也就是说LTE的参数配置是NR的一个特例。帧结构帧和子帧下行与上行链路传输于帧中，一帧的时域为$ { {T}_{\text{f}}}=\left( {\Delta { {f}_{\max }}{ {N}_{\text{f}}}}/{100}\; \right)\cdot { {T}_{\text{c}}}=10\text{ ms} $，一帧包含10个子帧，每个子帧时域为$ { {T}_{\text{sf}}}=\left( {\Delta { {f}_{\max }}{ {N}_{\text{f}}}}/{1000}\; \right)\cdot { {T}_{\text{c}}}=1\text{ ms} $。每个子帧内连续的OFDM符号数为$ N_{\text{symb}}^{\text{subframe},\mu }=N_{\text{symb}}^{\text{slot}}N_{\text{slot}}^{\text{subframe},\mu } $。每帧分为两个相等大小的半帧，每个半帧包含5个子帧，即半帧0由子帧0-4组成，半帧1由子帧5-9组成。在一个载波上有一组帧用于上行链路，有一组帧用于下行链路。来自UE的上行帧$i$应在UE对应的下行帧开始前$ { {T}_{\text{TA}}}={ {N}_{\text{TA}}}{ {T}_{\text{c}}} $传输。时隙对于子载波间隔配置$ \mu $，时隙在子帧内按递增顺序编号为$ n_{\text{s}}^{\mu }\in \left\{ 0,…,N_{\text{slot}}^{\text{subframe,}\mu }-1 \right\} $，在帧内按递增顺序编号为$ n_{\text{s,f}}^{\mu }\in \left\{ 0,…,N_{\text{slot}}^{\text{frame,}\mu }-1 \right\} $。一个时隙内有$ N_{\text{symb}}^{\text{slot}} $个连续的OFDM符号，其中$ N_{\text{symb}}^{\text{slot}} $的值依赖于CP长度，CP长度由Tables 4.3.2-1 and 4.3.2-2给定。一个子帧内的起始时隙$ n_{\text{s}}^{\mu } $与这个子帧内起始OFDM符号$n_{\text{s}}^{\mu }N_{\text{symb}}^{\text{slot}}$在时间上对齐。Marshall：一个帧是10ms，一个子帧是1ms，一个子帧内的时隙数是不定的，而一个时隙内的符号数是固定的，因此一个子帧内的符号数是不定的。这里唯一变化的参数就是时隙数，而时隙数是根据子载波间隔配置$ \mu $来确定的。追溯到源头，是由于$ \mu $的不同配置，带来了上述参数的变化。物理资源天线端口天线端口定义为，在同一个天线端口上，传输某一符号的信道可以从传输另一个符号的信道推知。若在一个天线端口上传输的某一符号的信道的大尺度特性，可以从另一个天线端口上传输的某一符号的信道推知，则这两个天线端口被称为是准共定位（quasi co-located，QCL）的。大尺度特性包括一个或多个时延扩展，多普勒频移，平均增益，平均时延，空间Rx参数。资源格对于给定的波形参数和子载波间隔配置，资源格定义为$ N_{\text{RB,}x}^{\text{max,}\mu }N_{\text{sc}}^{\text{RB}} $个频域子载波和$ N_{\text{symb}}^{\text{subframe},\mu } $个时域OFDM符号，其中$ N_{\text{RB,}x}^{\text{max,}\mu } $由Table 4.4.2-1给定，$ x $表示DL（downlink）或UL（uplink）。在不会产生混淆时，下标$ x $可省略。每个天线端口$ p $、每个子载波间隔配置$ \mu $以及每个传输方向（上行或下行），对应一个资源格。资源粒子对于天线端口$ p $和子载波间隔配置$ \mu $，资源格中的每个元素被称为资源粒子，并且由索引对$ \left( k,l \right) $唯一地标识，其中$ k $是频域索引，$ l $是时域符号索引。天线端口$ p $和子载波间隔配置$ \mu $下的资源粒子表示为$ { {\left( k,l \right)}_{p,\mu }} $，其对应的复数值为$ a_{k,l}^{(p,\mu )} $。在不会产生混淆时，或在没有指定某一天线端口或子载波间隔时，索引$ p $和$ \mu $可以省略，表示为$ a_{k,l}^{(p)} $或$ { {a}_{k,l}} $。一个资源粒子可分为“上行链路”、“下行链路”、“灵活”或“保留”。如果一个资源粒子被配置为“保留”，UE不应在上行链路资源粒子中传输任何数据，也不应假设下行链路资源粒子中有任何内容。资源块在频域内，物理资源块定义为$ N_{\text{sc}}^{\text{RB}}=12 $连续的子载波。在频域内，物理资源块从0到$ N_{\text{RB}}^{\text{max,}\mu }-1 $进行编号。在频域内，物理资源块号$ { {n}_{\text{PRB}}} $与资源粒子 的关系如下：{ {n}_{\text{PRB}}}=\left\lfloor \frac{k}{N_{\text{sc}}^{\text{RB}}} \right\rfloor部分载波带宽对于给定载波上的给定波形参数$ { {\mu }_{i}} $，部分载波带宽（Carrier bandwidth part）定义为一个物理资源块（在4.4.4中定义）的连续子集。BWP中的资源块从0到$ N_{\text{RB,}x}^{\mu }-1 $进行编号，其中$ x $表示DL（downlink）或UL（uplink）。$ N_{\text{BWP}}^{i} $是4.4.4节中绝对资源块格栅中的PRB0与编号为$i$的部分载波载波带宽中的PRB0之间的偏移。一个BWP内的资源块数应满足$ N_{\text{RB, }x}^{\text{min, }\mu }\le N_{\text{RB,}x}^{\mu }\le N_{\text{RB, }x}^{\text{max, }\mu } $，其中最小与最大值由Table 4.4.2-1给定。在下行链路，UE可以配置一个或多个BWP，并且可以在指定的时间对下行BWP进行激活。在激活的BWP之外，UE不会接收PDSCH或PDCCH。在上行链路，UE可以配置一个或多个BWP，并且可以在指定的时间对上行BWP进行激活。在激活的BWP之外，UE不会接收PUSCH或PUCCH。载波聚合多个小区的传输可以被聚合起来，除了主小区之外最多可聚合15个次级小区。除非另有说明，本规范中的描述适用于多达16个服务小区中的每一个。通用函数调制映射器调制映射器采用二进制0或1作为输入，产生复值调制符号作为输出。π/2-BPSK对于π/2-BPSK调制，比特$b(i)$根据下式映射为复值调制符号$x$x=\frac{ { {e}^{j{i\pi }/{2}\;}}}{\sqrt{2}}\left[ \left( 1-2b(i) \right)+j\left( 1-2b(i) \right) \right]BPSK对于BPSK调制，比特$b(i)$根据下式映射为复值调制符号$x$x=\frac{1}{\sqrt{2}}\left[ \left( 1-2b(i) \right)+j\left( 1-2b(i) \right) \right]QPSK对于QPSK调制，成对比特$b(i),b(i+1)$根据下式映射为复值调制符号$x$x=\frac{1}{\sqrt{2}}\left[ \left( 1-2b(i) \right)+j\left( 1-2b(i+1) \right) \right]16QAM对于16QAM调制，四位比特$b(i),b(i+1),b(i+2),b(i+3)$根据下式映射为复值调制符号$x$x=\frac{1}{\sqrt{10}}\left[ \left( 1-2b(i) \right)\left( 2-\left( 1-2b(i+2) \right) \right)+j\left( 1-2b(i+1) \right)\left( 2-\left( 1-2b(i+3) \right) \right) \right]64QAM对于64QAM调制，六位比特$b(i),b(i+1),b(i+2),b(i+3),b(i+4),b(i+5)$根据下式映射为复值调制符号$x$\begin{align} \nonumber & x=\frac{1}{\sqrt{42}}\left[ \left( 1-2b(i) \right)\left( 4-\left( 1-2b(i+2) \right)\left( 2-\left( 1-2b(i+4) \right) \right) \right) \right. \\ \nonumber & \ \ \ \ \ \ \left. +j\left( 1-2b(i+1) \right)\left( 4-\left( 1-2b(i+3) \right)\left( 2-\left( 1-2b(i+5) \right) \right) \right) \right] \\ \end{align}256QAM对于256QAM调制，八位比特$b(i),b(i+1),b(i+2),b(i+3),b(i+4),b(i+5),b(i+6),b(i+7)$根据下式映射为复值调制符号$x$\begin{align} \nonumber & x=\frac{1}{\sqrt{170}}\left[ \left( 1-2b(i) \right)\left( 8-\left( 1-2b(i+2) \right)\left( 4-\left( 1-2b(i+4) \right)\left( 2-\left( 1-2b(i+6) \right) \right) \right) \right) \right. \\ \ \ \ \nonumber & \left. +j\left( 1-2b(i+1) \right)\left( 8-\left( 1-2b(i+3) \right)\left( 4-\left( 1-2b(i+5) \right)\left( 2-\left( 1-2b(i+7) \right) \right) \right) \right) \right] \end{align}序列生成伪随机序列生成伪随机序列由长度为31的Gold序列定义。输出序列$ c(n) $长度为$ { {M}_{\text{PN}}} $，其中$ n=0,1,…,{ {M}_{\text{PN}}}-1 $，$ c(n) $由下式定义\begin{align} \nonumber & c(n)=\left( { {x}_{1}}(n+{ {N}_{C}})+{ {x}_{2}}(n+{ {N}_{C}}) \right)\bmod 2 \\ \nonumber & { {x}_{1}}(n+31)=\left( { {x}_{1}}(n+3)+{ {x}_{1}}(n) \right)\bmod 2 \\ \nonumber & { {x}_{2}}(n+31)=\left( { {x}_{2}}(n+3)+{ {x}_{2}}(n+2)+{ {x}_{2}}(n+1)+{ {x}_{2}}(n) \right)\bmod 2 \end{align}其中$ { {N}_{C}}=1600 $，第一m序列应由$ { {x}_{1}}(0)=1,{ {x}_{1}}(n)=0,n=1,2,…,30 $初始化。第二m序列由$ { {c}_{\text{init}}}=\sum\nolimits_{i=0}^{30}{ { {x}_{2}}(i)\cdot { {2}^{i}}} $进行初始化，其值取决于序列的应用。ZC序列生成序列$ r_{u,v}^{(\alpha ,\delta )}(n) $由基序列$ { {\bar{r}}_{u,v}}(n) $根据下式的循环移位$ \alpha $得到：r_{u,v}^{(\alpha ,\delta )}(n)=\begin{matrix} { {e}^{j\alpha \left( n+\delta \frac{\omega \bmod 2}{2} \right)}}{ { {\bar{r}}}_{u,v}}(n), & 0\le n]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（23）3GPP RAN1#90bis]]></title>
      <url>%2F2017%2F10%2F20%2Fpolar-code-23-3gpp-ran1-90b%2F</url>
      <content type="text"><![CDATA[前言2017年10月9~13日，3GPP RAN1#90bis会议在布拉格召开。本次会议对Polar coding的遗留问题继续进行讨论。Remaining issues of code construction关于code construction只剩下3个议题悬而未决：冻结比特的赋值问题，加扰方式以及CRC masking。关于CRC masking的比特数，本次会议达成如下结论：RNTI隐含在PDCCH的最后${ {N}_{RNTI}}$个CRC bits上，${ {N}_{RNTI}}$就是RNTI的比特数。工作假设认为${ {N}_{RNTI}}=16$。RAN1通知RAN2，PDCCH信道编码对RNTI的承载能力可达到17 bits，也可能是21 bits。RAN1要求RAN2在确定RNTI长度时通知RAN1。Remaining details of DL channel interleaver3GPP RAN1 adhoc#3会议中信道交织一节提到，是否进行下行信道交织。本次会议明确结论：不采用下行信道交织。Other对于较大的上行控制信息（UCI）要进行分段操作。本次会议达成如下结论：UCI要分为相同大小的两段（如需要，则在第一个分段的开始处插入零）。是否进行分段的阈值根据K和R确定，例如K&gt;=threshold且R&lt;=threshold。threshold的值待定。先对第一个分段进行CRC添加，然后使用与第一个分段相同的CRC多项式对第二个段进行CRC添加。（也就是两个分段采用相同的CRC多项式。）参考资料[1] Draft_Minutes_report_RAN1#90b_v010]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（22）3GPP RAN1 adhoc#3]]></title>
      <url>%2F2017%2F10%2F20%2Fpolar-code-22-3gpp-ran1-adhoc3%2F</url>
      <content type="text"><![CDATA[前言Polar coding大部分内容已在3GPP RAN1#90会议中确定下来。2017年9月18~21日，3GPP RAN1 adhoc#3会议在日本名古屋召开，对Polar coding遗留的问题继续进行讨论。Downlink code construction本次会议达成如下结论：确认了38.212v1.0.0协议中关于CRC添加和交织器的工作假设。目前协议假设下行控制信息（DCI）载荷最大为200 bits，即Kmax=200。日后正式确定下来的Kmax值应小于200。Uplink code construction对于上行控制信道编码，本次会议达成如下结论：确认了CRC bits添加在信息比特末位的工作假设。确定了上行控制信道编码CRC的长度，${ {L}_{CRC}}\text{=}11$，生成多项式为${ {D}^{11}}+{ {D}^{10}}+{ {D}^{9}}+{ {D}^{5}}+1$。Remaining details of rate matching关于速率匹配，本次会议确认了上次会议的工作假设：即下图所示参数设置：母码长度N由$\left( { {N}_{M}},{ {N}_{R}},{ {N}_{\max }} \right)$的最小值确定。Remaining details of channel interleaversdownlink关于是否采用下行比特级信道交织，本次会议有工作假设，如果采用信道交织，那么比特信道交织的跨度等于1个CCE对应的编码比特数。高CCE聚合等级下，有没有必要进行比特信道交织有待进一步讨论。uplink3GPP RAN1#90会议Channel interleaver的部分提到工作假设，上行链路信道交织采用Triangular interleaver，本次会议确认了这一工作假设。参考资料[1] Final_Minutes_report_RAN1#AH_NR3_v100]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（21）3GPP RAN1#90]]></title>
      <url>%2F2017%2F10%2F20%2Fpolar-code-21-3gpp-ran1-90%2F</url>
      <content type="text"><![CDATA[前言我一直有意将Polar Code系列和3GPP_PolarCode系列区分开，因此把它们放在不同的分类里，虽然它们都是关于polar code的文章，但前者关注极化码编译码算法本身，而后者关注极化码在5G标准化中的进展。前者更偏于理论研究，参考资料多是paper，后者更注重实际应用，参考资料多是3GPP proposal或Technical Specification（技术规范）。这可看作是polar code发展的两条线，有时这两条线又相交重叠，相互促进。如果你熟悉LTE system，那么3GPP_PolarCode系列则更容易理解。3GPP里的极化码是控制信道框架下的信道编码，它的上一步骤是CRC添加，它的下一步是速率匹配，这个过程在LTE system里也是如此。3GPP RAN1#90会议于8月21~25日在布拉格召开。会议达成的结论已在3GPP Rel-15技术规范v1.0.0版本中体现，详见《5G物理层协议V100》。截止到本次会议，polar coding一个比较完整的编码方案已经形成，从CRC计算到极化码编码，再到速率匹配方案都基本确定了，并已将本次会议达成的结论体现在v1.0.0版本协议的《5G-NR复用与信道编码》中。本文结合本次会议达成的结论和v1.0.0版本协议的《5G-NR复用与信道编码》，对Polar coding过程进行比较全面的梳理。5G控制信道编码的基本流程：CRC添加信道编码速率匹配Code construction这部分主要讨论了CRC和interleaver（交织器）的设计。一方面，基于CRC-Polar的编码方案无疑是3GPP确定采用的方案；另一方面，3GPP RAN1会议已同意支持提前终止（early termination，ET）的编译码策略。传统的做法是将CRC bits统一地放置在信息比特后面，译码端只有译出全部比特时才能对该码字进行校验，校验后才能知道该译码码字是否正确。新的方法是将CRC bits分散地插入到信息比特中间。这样做的好处是，只译出一部分bits即可进行一次CRC校验，一旦检测到误码立即终止译码，由于该码字已经出错，后面就没有必要再译了。Distributed-CRC（DCRC）可降低译码计算量，节省功率，带来提前终止增益。例如，$K=4$位信息比特，CRC长度为${ {L}_{CRC}}=4$，CRC bits$\left( \begin{matrix}{ {p}_{1}} &amp; { {p}_{2}} &amp; { {p}_{3}} &amp; { {p}_{4}} \\\end{matrix} \right)$已分散地插入到信息比特中：\left( \begin{matrix} { {x}_{1}} & { {x}_{2}} & { {p}_{1}} & { {x}_{3}} & { {p}_{2}} & { {x}_{4}} & { {p}_{3}} & { {p}_{4}} \\ \end{matrix} \right)译码时每译出一个CRC bit就进行一次校验。如上所述，对于极化码编码，CRC计算和交织器往往是联系在一起的。这个过程分为两步：第一步，进行正常的CRC添加。给定长度为${ {L}_{CRC}}$的CRC生成多项式，按照通行的做法去计算CRC。假设待编码比特序列长度为$K$，添加CRC后的序列长度为${ {K}^{‘}}=K+{ {L}_{CRC}}$。3GPP已确定5G NR-PDCCH的CRC长度为24，即${ {L}_{CRC}}=24$，并采用如下生成多项式：{ {g}_{\text{CRC24C}}}\left( D \right)=[{ {D}^{24}}+{ {D}^{23}}+{ {D}^{21}}+{ {D}^{20}}+{ {D}^{17}}+{ {D}^{15}}+{ {D}^{13}}+{ {D}^{12}}+{ {D}^{8}}+{ {D}^{4}}+{ {D}^{2}}+D+1]第二步进行交织。交织器将${ {L}_{CRC}}$个CRC bits分散插入到$K$个信息比特中。交织器的输入、输出比特数相同，都是${ {K}^{‘}}=K+{ {L}_{CRC}}$。交织模式（interleaver pattern）按下列方法得到：${ {K}_{\max }}$表示最大的信息比特数。5G NR控制信道所承载的内容不能太多，因为涉及信令开销的问题，大致在200 bits以内。${ {K}_{\max }}$限定了极化码待编码比特的数目。3GPP采用统一的交织方法，即给定了一个统一交织模式$\pi $，$\pi $是按照最大比特数$\left( { {K}_{\max }}+{ {L}_{CRC}} \right)$得到的。交织器的输入比特数是$\left( K+{ {L}_{CRC}} \right)$，对满足$\left( K+{ {L}_{CRC}} \right)\le \left( { {K}_{\max }}+{ {L}_{CRC}} \right)$的任意比特数，其子交织模式$\pi ‘$都来自于这个统一的交织模式$\pi $。其中$\pi \left( k \right)$的值见下表：由于目前${ {K}_{\max }}$的值还未确定，$\pi \left( k \right)$是按照$\left( { {K}_{\max }}+{ {L}_{CRC}} \right)$的长度来计算的，在后面的协议版本中，这张表格将会得到进一步的修订。子交织模式$\pi ‘$表示交织后的比特位置索引，当按照上述方法获得$\pi ‘$，根据这个比特索引重新给信息比特排序：$c_{k}^{‘}={ {c}_{\pi ‘\left( k \right)}}$，$k=0,1,…,{ {K}^{‘}}-1$至此，就得到了交织后的信息比特序列，其效果就是：\begin{align} \nonumber & \left( \begin{matrix} { {x}_{1}} & { {x}_{2}} & { {x}_{3}} & { {x}_{4}} & { {p}_{1}} & { {p}_{2}} & { {p}_{3}} & { {p}_{4}} \\ \end{matrix} \right) \\ \nonumber & \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \downarrow \\ \nonumber & \left( \begin{matrix} { {x}_{1}} & { {x}_{2}} & { {p}_{1}} & { {x}_{3}} & { {p}_{2}} & { {x}_{4}} & { {p}_{3}} & { {p}_{4}} \\ \end{matrix} \right) \\ \end{align}交织以后则进行极化码编码。不过在编码之前，还需要另一个独立的过程，那就是输入序列的设计。Sequence design极化码输入序列的设计，事关信息比特和冻结比特位置如何选取的问题。选取的规则是根据子信道可靠性程度，将信息比特放置在可靠性高的子信道上。关于如何评估子信道可靠性，本博客已花了大量篇幅介绍AWGN下的高斯近似法，之后又介绍了Beta-expansion算法。3GPP正是采用了华为提出的Beta-expansion算法，按照极化权重（PW）给子信道排序，用极化权重来度量子信道可靠性。这部分已经写入5G协议规范中，详见博文《5G-NR复用与信道编码》 polar coding一节。虽然5G协议并不会提到Beta-expansion算法，但协议所展示的Table 5.3.1-2 Polar sequence and its corresponding reliablity正是基于Beta-expansion算法得到的。需要说明的是，Table 5.3.1-2所示的$W\left( Q_{i}^{ { {N}_{\max }}} \right)$，是在Beta-expansion算法基础上又做了进一步改进的结果。按权重从小到大排序$W\left( Q_{0}^{ { {N}_{\max }}} \right)&lt;W\left( Q_{1}^{ { {N}_{\max }}} \right)&lt;…&lt;W\left( Q_{ { {N}_{\max }}-1}^{ { {N}_{\max }}} \right)$，其中$Q_{i}^{ { {N}_{\max }}}$就是按可靠性程度排序之后的比特索引，最终得到极化码输入序列的比特位置索引$\mathbf{Q}_{0}^{ { {N}_{\max }}-1}=\left\{ Q_{0}^{ { {N}_{\max }}},Q_{1}^{ { {N}_{\max }}},…,Q_{ { {N}_{\max }}-1}^{ { {N}_{\max }}} \right\}$。用$\bar{Q}_{I}^{N}$表示信息比特索引集合，用$\bar{Q}_{F}^{N}$表示冻结比特索引集合，$\left| \bar{Q}_{I}^{N} \right|={ {K}^{‘}}+{ {n}_{PC}}$，$\left| \bar{Q}_{F}^{N} \right|=N-\left| \bar{Q}_{I}^{N} \right|$。为了本文叙述的连贯性，本文涉及的${ {K}^{‘}}$表示包含CRC比特的信息位数，即${ {K}^{‘}}=K+{ {L}_{CRC}}$。因此本文中的${ {K}^{‘}}$与5G协议《5G-NR复用与信道编码》 polar coding一节中的$K$等价。若${ {n}_{PC}}=0$，则说明极化码编码采用CRC-Polar；若${ {n}_{PC}}&gt;0$,则说明极化码采用CRC-PC-Polar，在这种情下，CRC、PC和待编码信息比特都作为极化码的信息比特位，即都在$\bar{Q}_{I}^{N}$中。对于PDCCH信道编码，${ {n}_{PC}}=0$。用$Q_{PC}^{N}$表示PC比特索引集合，$\left| Q_{PC}^{N} \right|={ {n}_{PC}}$。极化码信息比特索引集合$\bar{Q}_{I}^{N}$还可进一步细分，用$\tilde{Q}_{I}^{N}$表示$\bar{Q}_{I}^{N}$中可靠性最高的$\left( \left| \mathbf{\bar{Q}}_{I}^{N} \right|-{ {n}_{PC}} \right)$个比特索引。PC比特又分为两个部分，其中有$n_{PC}^{wm}$个PC比特对应于$\tilde{Q}_{I}^{N}$的最小行重。用${ {G}_{N}}$表示极化码生成矩阵，${ {G}_{N}}={ {\left( { {G}_{2}} \right)}^{\otimes n}}$，$G2=\left[ \begin{matrix}1 &amp; 0 \\1 &amp; 1 \\\end{matrix} \right]$。用${ {\mathbf{g}}_{j}}$表示${ {G}_{N}}$的第$j$行，用$w\left( { {\mathbf{g}}_{j}} \right)$表示${ {\mathbf{g}}_{j}}$的行重，行重就是${ {\mathbf{g}}_{j}}$中“1”的个数。因此1）把$n_{PC}^{wm}$个PC比特放置在具有$\tilde{Q}_{I}^{N}$最小行重的索引上；2）把$\left( { {n}_{PC}}-n_{PC}^{wm} \right)$个PC比特放置在$\bar{Q}_{I}^{N}$中可靠性最低的索引上；3）$\bar{Q}_{I}^{N}$中剩余的比特索引放置${ {K}^{‘}}=K+{ {L}_{CRC}}$个信息比特。这两部分的PC比特所在的位置是不会重合的。如果$\tilde{Q}_{I}^{N}$中最小行重的比特索引数大于$n_{PC}^{wm}$，那么就将$n_{PC}^{wm}$个PC比特放置在行重最小且可靠性最高的比特索引上。极化码输入序列索引示意如下图所示。按照如上所述的方法，得到极化码输入序列$\mathbf{u}=\left[ { {u}_{0}}\text{ }{ {u}_{1}}\text{ }{ {u}_{2}}\text{ }…\text{ }{ {u}_{N-1}} \right]$。将序列$\mathbf{u}$和生成矩阵相乘\mathbf{d}=\mathbf{u}{ {\mathbf{G}}_{n}}得到编码器输出序列$\mathbf{d}=\left[ { {d}_{0}}\text{ }{ {d}_{1}}\text{ }{ {d}_{2}}\text{ }…\text{ }{ {d}_{N-1}} \right]$。Rate matching编码之后的速率匹配是非常重要的一环。速率匹配的输入序列即为编码输出序列$\mathbf{d}=\left[ { {d}_{0}}\text{ }{ {d}_{1}}\text{ }{ {d}_{2}}\text{ }…\text{ }{ {d}_{N-1}} \right]$，速率匹配的输出序列为${ {f}_{0}},{ {f}_{1}},{ {f}_{2}},…,{ {f}_{E-1}}$，速率匹配比特数为$E$。$E$才是实际要传输的编码比特数。速率匹配分为三个过程，子块交织、比特收集、比特交织。子块交织子块交织就是上图所示的Rate-matching Interleaving，它将输入进来的N编码比特分为32个子块，然后将32个子块按照序列（0 1 2 3 4 5 6 7 8 9 10 11 12 16 13 17 14 18 15 19 20 24 21 22 25 26 28 23 27 29 30 31）重新排序。编码序列${ {d}_{0}},{ {d}_{1}},{ {d}_{2}},…,{ {d}_{N-1}}$，经过子块交织后表示为${ {y}_{0}},{ {y}_{1}},{ {y}_{2}},…,{ {y}_{N-1}}$。子块交织过程为：其中子块交织模式$P\left( i \right)$由下表得到：比特收集比特收集就是Circular Buffer，有三种速率匹配模式：repetition，puncturing，shortening。比特收集器的输入序列为子块交织器的输出${ {y}_{0}},{ {y}_{1}},{ {y}_{2}},…,{ {y}_{N-1}}$，比特收集器的输出序列为${ {e}_{0}},{ {e}_{1}},{ {e}_{2}},…,{ {e}_{E-1}}$。完成从极化码码长N到速率匹配比特数E的转换，E是实际传输的编码比特数。速率匹配模式的选择方法为：当$E&gt;N$，选择repetiton；当$\frac{K}{E}\le \frac{7}{16}$，选择Puncturing，当$\frac{K}{E}&gt;\frac{7}{16}$，选择shortening。比特收集的具体方法为：比特交织比特交织器的输入序列为比特收集器的输出${ {e}_{0}},{ {e}_{1}},{ {e}_{2}},…,{ {e}_{E-1}}$，比特交织器的输出为${ {f}_{0}},{ {f}_{1}},{ {f}_{2}},…,{ {f}_{E-1}}$。交织过程如下：$ T $表示满足$ T\left( T+1 \right)/2\ge E $的最小整数；至此，一个码字的5G控制信道编码过程就完成了。$K$比特待编码序列，经极化码编码和速率匹配后，输出$E$比特编码序列。Channel interleaver编码及速率匹配后，关于是否进行信道交织，以及如何进行交织，本次会议有如下工作假设：上行链路采用Triangular interleaver，下行链路采用Parallel rectangular interleaver。上行链路信道交织在速率匹配之后，是一个独立的过程。信道交织对下行链路是否有必要，到下一次会议再决定。参考资料[1] Chairman’s Notes RAN1_90_final[2] 《5G-NR复用与信道编码》]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（20）Beta-expansion]]></title>
      <url>%2F2017%2F09%2F19%2Fpolar-code-20-beta-expansion%2F</url>
      <content type="text"><![CDATA[前言高斯近似（GA）终将成为历史，取而代之的是β-expansion算法。β-expansion与GA性能等价，但复杂度极低。文献[1]首先揭示了极化码合成信道（synthesized channels）之间的偏序（Partial Order，PO）关系。2016年8月22-26日，在瑞典哥德堡举行的3GPP RAN1 #86次会议上，华为提出了用极化权重（Polarization Weight，PW）来表征AWGN信道下极化码合成信道可靠性的算法[2]。这两项独立的研究似乎不谋而合，促使华为进一步进行理论扩展，追求AWGN信道下极化码的快速构造方法。这就是本博文所要介绍的β-expansion[3]。文献[3]首先介绍了通用偏序（Universal Partial Order，UPO）的两个重要性质：嵌套和对称。这两个性质是能够采用递归方式构造极化码序列的基础。然后介绍了PW方法，其中β参数需要慎重地选择，其值的大小直接决定了合成信道的顺序。最后用大量的篇幅论证了β的最佳取值为1.1892，即$\beta ={ {2}^{ {1}/{4}\;}}$。无论是渐进性分析，还是数值仿真结果都证实β-expansion方法以低复杂度获得了与GA相同的性能。预备知识极化码策略策略：将信息比特放置于好的信道位置上，将冻结比特放置于差的信道位置上。关键：如何有效地识别信道位置的好坏并按可靠性排序，是极化码序列构造的关键。不幸：有效地序列构造仅存在于二进制删除信道（BEC）上。挑战：5G无线通信系统要求极化码至少能够适用于AWGN信道。已有方法：高斯近似（GA）。已有方法缺点：GA的缺点是计算量大，其计算量随着码块长度成比例增加，这对于码长和码率变化的实际系统是不可接受的。不仅如此，对于低延迟的编译码器，也无法实现在线地处理。通用偏序（UPO）文献[1]证明了任意二进制输入对称信道下的可靠性测量存在偏序（Partial Order）关系。给定一对合成信道索引$\left( x,y \right)$，它们的可靠性关系取决于下列规则：Addition：若一个合成信道索引用二进制表示为$\left( a,b,1,c \right)$，那么它的可靠性一定大于合成信道$\left( a,b,0,c \right)$。$’’1\succ 0’’$模式对于1比特或多比特同样适用。例如：2（0, 1 ,0） $\prec $ 3（0, 1, 1）9（1, 0, 0, 1） $\prec $ 15（1, 1, 1, 1）在此例中（1, 0, 0, 1）是合成信道索引9的二进制表示。Left-swap：若合成信道索引为$\left( a,0,b,1,c \right)$，那么它的可靠性一定小于合成信道$\left( a,1,b,0,c \right)$。$’’0…1\prec 1…0’’$模式可以出现多次，并且0,1不需要彼此相邻。例如：2（0, 1 ,0） $\prec $ 4（1, 0, 0）12（0, 1, 1, 0, 0） $\prec $ 24（1, 1, 0, 0, 0）但这两个规则也不是万能的，对于某些索引对$\left( x,y \right)$则无能为力。Addition、Left-swap或它们的联合都不能确定顺序。例如：3（0, 1, 1）and 4（1, 0, 0）7（0, 1, 1, 1）and 12（1, 1, 0, 0）我们称这些序对于UPO是未知的。UPO的性质Proposition 1. （嵌套和对称）极化码通用偏序有两个重要性质：嵌套：码长为$N$的序可在码长为$2N$的序中保持不变。对称：在码长为$N$的极化码中，$x\prec y$的序和$\left( N-1-x \right)\prec \left( N-1-y \right)$的序对称。现在讨论UPO的递归结构。定义$\mathbf{UP}{ {\mathbf{O}}_{n}}$为极化码码长$N$的偏序关系$x\prec y$的最小集合，其中$x\prec y$记为$\left\{ x,y \right\}$，$x,y$是$\left[ 0,N-1 \right]$内的整数。关系链$x\prec y\prec z$可以用若干子链表示最临近节点之间的关系，即$x\prec y$和$y\prec z$。例如：其中$\mathbf{UP}{ {\mathbf{O}}_{n}}$中黑色字体的序来源于它的上一级$\mathbf{UP}{ {\mathbf{O}}_{n-1}}$，对应于Proposition 1的嵌套性质；蓝色字体的序表示与黑色字体的序对称的部分，对应于Proposition 1的对称性质；红色字体的序表示从$\mathbf{UP}{ {\mathbf{O}}_{n-1}}$到$\mathbf{UP}{ {\mathbf{O}}_{n}}$构造过程中出现的新序，这些新出现的序对于UPO来说是未知的。β-expansion：PW算法原理定义：（PW 算法）考虑一个合成信道索引$x$，其$n$比特二进制扩展为$B=\left( { {b}_{n-1}},…,{ {b}_{1}},{ {b}_{0}} \right)$，最左边为最高有效位。极化权重定义为\begin{align} { {f}^{PW}}:x\mapsto \sum\limits_{i=1}^{n}{ { {b}_{i}}{ {\beta }^{i}}} \end{align}其中$\beta $的值需要慎重选择。文献[2]建议$\beta ={ {2}^{ {1}/{4}\;}}$。在数学上，这种表示方法被称为β-expansion，是十进制扩展的推广，可以看作是对于任意实数$y$的基于β的非整数表示。例1：令$\beta ={ {2}^{ {1}/{4}\;}}$，极化码码长为$N={ {2}^{n}}=16$。则对于合成信道索引3，即${ {B}_{3}}=\left( 0,0,1,1 \right)$，其β-expansion可计算为{ {w}_{3}}=0\cdot { {2}^{ {3}/{4}\;}}+0\cdot { {2}^{ {2}/{4}\;}}+1\cdot { {2}^{ {1}/{4}\;}}+1\cdot { {2}^{ {0}/{4}\;}}=2.189\cdot \cdot \cdot同理，我们可以写出所有合成信道的β-expansion\begin{align} \nonumber & w=\left\{ \begin{matrix} 0.000 & 1.000 & 1.189 & 2.189 & 1.414 & 2.414 & 2.603 & 3.603 \\ \end{matrix} \right. \\ \nonumber & \ \ \ \ \ \ \ \left. \begin{matrix} 1.682 & 2.682 & 2.871 & 3.871 & 3.096 & 4.096 & 4.285 & 5.285 \\ \end{matrix} \right\} \\ \end{align}${ {w}_{x}}$值越大表示合成信道索引$x$的可靠性越高。将$w$按可靠性增序排列，就得到了极化码序列order=\left\{ \begin{matrix} 0 & 1 & 2 & 4 & 8 & 3 & 5 & 6 & 9 & 10 & 12 & 7 & 11 & 13 & 14 & 15 \\ \end{matrix} \right\}PW算法的优点是，对合成信道可靠性，提供了一种简洁、低复杂度的全排列算法，并且当码长${ {2}^{n}}$从$n=1$到$n\to +\infty $增加时，能够始终保持一种嵌套性质。Proposition 2. （嵌套结构）PW算法维持了极化码的嵌套码构造的特性。Proposition 3. 当$\beta &gt;1$，任何由PW算法得到的序列都遵循极化码的通用偏序（UPO）关系。Theorem 1. 对于长度为${ {2}^{n}}\left( n\ge 3 \right)$的极化码，存在一个升序集合${ {A}_{n}}=\left\{ { {a}_{0}},{ {a}_{1}},{ {a}_{2}},…,{ {a}_{ { {i}_{\max }}}},+\infty \right\}$，其中${ {a}_{0}}=1$和${ {a}_{1}},{ {a}_{2}},…,{ {a}_{ { {i}_{\max }}}}$都是代数。任意$\beta $落入区间$\left( { {a}_{i}},{ {a}_{i+1}} \right),\forall i\ge 0$内，β-expansion都是唯一的，并且$\beta $落入不同区间可导致不同的顺序序列。此外，集合${ {A}_{n}}$是嵌套的，即${ {A}_{n}}\subset { {A}_{n+1}}$。Marshall：通过上述Proposition和Theorem，初步地把β-expansion和偏序建立起联系，β-expansion获得了偏序的理论支撑。两者的共性在于，它们都具有嵌套结构。然而$\beta $的值究竟取何值呢？这还需要在具体的用例中去分析和确定。AWGN信道下的快速构造现在UPO已经成为极化码序列构造的基础，而极化码序列的构造决定了合成信道的可靠性顺序。但UPO无法做到对整个序列进行全排列，正如在UPO的性质一节所看到的，从$\mathbf{UP}{ {\mathbf{O}}_{n-1}}$到$\mathbf{UP}{ {\mathbf{O}}_{n}}$的构造中，总会有一些新的序是UPO无法判断的。而高斯近似虽然能够对整个序列进行全排序，但由于其高复杂度而不适用于实际应用。为了克服两者的缺点，本节呈现了一种基于UPO和β-expansion的快速构造方法。Marshall：根据高斯近似的结果，一步一步缩小$\beta $的取值范围，最终的序列不仅满足UPO性质，而且与高斯近似的结果保持一致。换句话说，没有条件，就去创造条件。解释一下为什么$\beta $的取值会影响序列顺序，如图1所示。根据定理1，是默认为$\beta &gt;1$，所以今后只考虑$\beta &gt;1$。当$n=3$时，只有一对未定关系，即$\left( \beta +1,{ {\beta }^{2}} \right)$。为了区分它们的关系，需要多项式方式${ {x}^{2}}-x-1=0$，取其大于1的根为$x=\frac{1+\sqrt{5}}{2}=1.618$，因此升序集合为{ {A}_{3}}=\left\{ 1,1.618,+\infty \right\}当$\beta \in \left( 1,1.618 \right)$时，有$\beta +1&gt;{ {\beta }^{2}}$，则相应的序列为当$\beta \in \left( 1.618,+\infty \right)$时，有$\beta +1&lt;{ {\beta }^{2}}$，则相应的序列为这就是定理1所说的，当$\beta $落入${ {A}_{3}}$的任意区间内，β-expansion是唯一的，且导致不同的顺序序列。当$n=4$时，有4对未定关系，包括之前提到的$\left( \beta +1,{ {\beta }^{2}} \right)$及其两个等价形式，即\begin{align} \nonumber & \left( \beta +1,{ {\beta }^{2}} \right),\left( { {\beta }^{2}}+\beta ,{ {\beta }^{3}} \right),\left( { {\beta }^{2}}+\beta ,{ {\beta }^{3}} \right) \\ \nonumber & \left( \beta +1,{ {\beta }^{3}} \right),\left( { {\beta }^{2}}+1,{ {\beta }^{3}} \right),\left( { {\beta }^{2}}+\beta +1,{ {\beta }^{3}} \right) \\ \end{align}为了区分它们的关系，需要求解4个多项式方程\begin{align} { {x}^{3}}-{ {x}^{2}}-x-1=0 \end{align}\begin{align} { {x}^{3}}-{ {x}^{2}}-1=0 \end{align}\begin{align} { {x}^{2}}-x-1=0 \end{align}\begin{align} { {x}^{3}}-x-1=0 \end{align}得到{ {A}_{4}}=\left\{ 1,1.325,1.466,1.618,1.839,+\infty \right\}其中1.325,1.466,1.618,1.839分别是多项式方程（2~5）的根。$\beta $分别落入${ {A}_{4}}$的5段子区间内，将导致5种不同的序，如图2所示。$\beta $取哪个值？此时高斯近似法开始派上用场。对于码长$N={ {2}^{4}}=16$，$n=4$的极化码，AWGN信道下，高斯近似法对合成信道索引的排序为\begin{align} \nonumber & 0\to 1\to 2\to 4\to 8\to 3\to 5\to 6\to 9 \\ \nonumber & \to 10\to 12\to 7\to 11\to 13\to 14\to 15 \\ \end{align}将这个序与图2对比，发现当$\beta \in \left( 1,1.325 \right)$时，两个序一致。由此，我们将$\beta $的取值范围由$n=3$时的$\left( 1,1.618 \right)$缩小到$n=4$时的$\left( 1,1.325 \right)$。进一步，当$n=5$时，有5对未定关系，即$\left( 28,15 \right),\left( 14,19 \right),\left( 24,13 \right),\left( 24,11 \right),\left( 24,7 \right)$。根据高斯近似的可靠性结果，呈现出与$\beta $的对应关系\begin{align} \nonumber & 28\prec 15,\ 24\prec 11\Leftrightarrow \beta]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[5G-NR物理层协议v1.0.0]]></title>
      <url>%2F2017%2F09%2F11%2Fnr-v100-l1-index%2F</url>
      <content type="text"><![CDATA[3GPP 5G 物理层规范共有7个文档：3GPP TS 38.201: “NR物理层概述”3GPP TS 38.202: “NR物理层提供的服务”3GPP TS 38.211: “NR物理信道与调制”3GPP TS 38.212: “NR复用与信道编码”3GPP TS 38.213: “NR物理层过程（控制）”3GPP TS 38.214: “NR物理层过程（数据）”3GPP TS 38.215: “NR物理层测量”本系列博文较全面地呈现了3GPP Rel-15 V1.0.0 (2017-09)版本前5份规范的各个章节。其中“NR复用与信道编码”规范只关注了与polar code相关的比特级处理，LDPC码相关处理待日后整理。是时候开启一个新的系列了。前面已写有两个系列，一是极化码技术系列 ，二是极化码在3GPP标准化的进展系列。今天开启的是5G-NR系列。3GPP 5G标准化时间表为：2017年12月完成NSA（non-standalone）标准，并于2018年3月冻结；2018年6月完成SA（standalone）标准，并于2018年9月再次冻结。如今距离NSA标准的完成只剩下3个月，9月以后的会议更加密集。2017-09-11 3GPP RAN#772017-09-18 3GPP RAN1-NR#32017-10-09 3GPP RAN1#90b2017-11-27 3GPP RAN1#912017-12-18 3GPP RAN#789月7日3GPP把Rel-15的7份物理层规范全部更新到 V1.0.0 (2017-09)版本，本博客对5G-NR物理层规范的跟踪就从这个版本开始。这个系列的时效性很强。9月7日才更新的规范，9月11日又开RAN全会。这意味着Rel-15规范很快又会更新并填充新的内容，V1.0.0 (2017-09)版本很快就会“过时”。规范内容翻译得比较仓促，也不得不仓促，先整理了前5份文档。无论是LTE、LTE-A，还是LTE-A Pro，其规范文档编号都是36.xxx系列，5G NR则使用新的编号——38.xxx系列。此时的5G-NR规范仍然只是初稿，仍有大量内容等待填充，以往内容最多的211协议目前也只不过30几页。但从目前已有的内容中，也可大致窥见到5G NR物理层与LTE有多大的不同，又有多大的相似。Marshall2017年9月11日]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[5G-NR物理层过程（控制）v1.0.0]]></title>
      <url>%2F2017%2F09%2F11%2Fnr-v100-l1-procedure-control%2F</url>
      <content type="text"><![CDATA[同步过程小区搜索小区搜索过程是UE获得和小区时间和频率同步，并检测物理层小区ID的过程。为进行小区搜索，UE需接收下列同步信号：主同步信号（PSS）和辅同步信号（SSS）。主辅同步信号在TS 38.211中定义。UE应假设PBCH、PSS和SSS在连续的OFDM符号内接收，并且形成SS/PBCH块。对于半帧中的SS/PBCH块，候选SS/PBCH块的OFDM 符号索引号和第1个OFDM符号索引根据下列情况确定：15 KHz子载波间隔：候选SS/PBCH块的第1个OFDM符号有索引{2, 8} + 14*n。对于载波频率小于等于3 GHz，有n=0, 1。对于载波频率大于3 GHz且小于6 GHz，有n=0, 1, 2, 3。30 KHz子载波间隔：候选SS/PBCH块的第1个OFDM符号有索引{4, 8, 16, 20} + 28*n。对于载波频率小于等于3 GHz，有n=0。对于载波频率大于3 GHz且小于6 GHz，有n=0, 1。30 KHz子载波间隔：候选SS/PBCH块的第1个OFDM符号有索引{2, 8} + 14*n。对于载波频率小于等于3 GHz，有n=0, 1。对于载波频率大于3 GHz且小于6 GHz，有n=0, 1, 2, 3。120 KHz子载波间隔：候选SS/PBCH块的第1个OFDM符号有索引{4, 8, 16, 20} + 28*n。对于载波频率大于6 GHz，有n=0, 1, 2, 3, 5, 6, 7, 8, 10, 11, 12, 13, 15, 16, 17, 18。240 KHz子载波间隔：候选SS/PBCH块的第1个OFDM符号有索引{8, 12, 16, 20, 32, 36, 40, 44} + 56*n。对于载波频率大于6 GHz，有n=0, 1, 2, 3, 5, 6, 7, 8。一个半帧中的候选SS/PBCH块在时域上以升序从0到$ L-1 ]$进行编号。对于$ L=4 $或$ L&gt;4 $，UE应根据与每个半帧内SS/PBCH块索引一一对应的PBCH中传输的DM-RS序列索引，分别确定SS/PBCH块索引的2或3个LSB比特。对于$ L=64 $，UE应根据高层参数[SSB-index-explicit]确定每个半帧内SS/PBCH块索引的3 个MSB比特。注：DM-RS序列索引在TS 38.211中定义。UE可通过参数[SSB-transmitted-SIB1]被配置，SS/PBCH块索引对于与SS/PBCH块对应重叠的REs，UE不应接收其他信号或信道。UE也可通过高层参数[SSB-transmitted]在每个服务小区被配置，SS/PBCH块索引对于与SS/PBCH块对应重叠的REs，UE不应接收其他信号或信道。[通过[SSB-transmitted]配置优先于通过[SSB-transmitted-SIB1]配置。]注：May be removed and captured in 38.211。对于每个服务小区中SS/PBCH块的接收，UE可以在每个服务小区通过高层参数[SSB-timing]每半帧周期性地被配置。如果对于SS/PBCH块的接收，UE没有每半帧被周期性配置，则UE应假设以半帧为周期。UE应假设在服务小区中，对于所有SS/PBCH块，周期是相同的。对于初始小区的选择，UE可以假设SS/PBCH块半帧出现的周期为2帧。传输定时调整Timing for secondary cell activation / deactivation无线链路监测为了向高层指示失步/同时状态，UE应监测主小区的下行无线链路质量。此处暂省略300+字，具体内容详见原文档。[链路重配置过程]在一个服务小区内为了[RSRP x 或SINR]测量，UE可以配置一组CSI-RS资源或一组SS/PBCH块索引。UE应假设SCI-RS采用非零传输功率。每个CSI-RS资源参数通过高层信令配置，这些参数包括：[资源配置][周期][天线端口][传输功率][伪随机序列生成参数][QCL参数][…][Editor’s note: For reconfiguration request, there are also no existing agreements to describe preamble retransmissions, or the window for the UE to receive a response, or the configuration of the CORESET where the PDCCH scheduling the response is transmitted, etc.]上行功率控制物理上行共享信道UE behaviourPower headroom物理上行控制信道UE behaviour探测参考信号物理随机接入信道在时隙$ i $内，对于服务小区$c$，UE通过下式确定PRACH传输功率：{ {P}_{\text{PRACH,c}}}(i)=\min { {\left\{ { {P}_{\text{CMAX},c}}(i),\ { {P}_{\text{PRACH,target}}}+P{ {L}_{c}} \right\}}^{ {}}}dBm其中$ { {P}_{\text{CMAX,c}}}(i) $是在TS 38.133中定义的服务小区$c$中在时隙$i$的UE传输功率，$ { {P}_{\text{PRACH,target}}} $由高层参数[preambleReceivedTargetPower]提供，$ P{ {L}_{c}} $是UE计算对于服务小区$c$的路径损耗，单位为dB。为了确定$ { {P}_{\text{PRACH,c}}}(i) $，UE计算路径损耗$ P{ {L}_{c}} $。路径损耗根据SS/PBCH块得到，即$ P{ {L}_{c}} $ = SS/PBCHBlockPower – higher layer filtered RSRP，其中SS/PBCHBlockPower由[SystemInformationBlockType1]提供，RSRP在TS 38.215中定义，高层滤波器配置在TS 38.331中定义。如果一个随机接入响应窗口内，如5.2小节中描述，UE不接收随机接入响应，随机接入响应包含了一个与UE发送的前导序列对应的前导ID，UE将为随后的PRACH传输确定传输功率，如果有的话。[TS 38.321]载波聚合双连接随机接入过程在进行初始化的物理随机接入过程之前，L1应该从高层接收一组SS/PBCH块索引，并且应向高层提供一组对应的RSRP测量。在进行初始化的物理随机接入过程之前，L1应该从高层接收以下信息：PRACH传输参数（PRACH前导格式，用于PRACH传输的时域和频域资源）用于决定小区中根序列及其在前导序列集合中的循环移位值的参数（逻辑根序列表格索引、循环移位$ N_{\text{CS}}^{ {}} $、集合类型（受限集合和非受限集合））从物理层来看，物理层随机接入过程包括PRACH中随机接入前导（Msg1）的发送，PDSCH（Msg2）中的随机接入响应（RAR），PUSCH中的Msg3和PDSCH中的Msg4。批注：Tentatively, Msg3 and Msg4 will be described as part of the RA procedure due to various differences from PUSCH/PDSCH after RRC connection.随机接入前导L1过程通过PRACH传输请求被触发，PRACH传输由高层来配置。高层对PRACH传输的配置包括：对于PRACH传输，高层参数[PRACH-config]提供的配置对于PRACH传输，高层参数[PRACH-cell-idx]提供的服务小区索引前导索引，PRACH格式，$ { {P}_{\text{PRACH,target}}} $，相应的RA-RNTI，PRACH资源[对于PRACH传输的重复次数，也作为请求的一部分由高层指示]A PRACH format is selected from the preamble sequence set for the corresponding preamble sequence length using the preamble index.在所指示的PRACH资源上，前导使用所选择的PRACH格式发送，传输功率为4.4节描述的$ { {P}_{\text{PRACH}}} $。定时随机接入响应UE通过高层[TS 38.321]在一个约束窗内，采用所指示的RA-RNTI尝试检测PDCCH。窗口开始于最早的CORESET的符号。对于Type1-PDCCH公共搜索空间，UE配置了CORESET。Type1-PDCCH公共搜索空间在7.1节进行了定义，在前导序列传输的[X]个符号之后。随机接入响应窗口的长度由高层参数[rar-windowlength]提供。如果UE在时间窗内，采用所指示的RA-RNTI和相应的DL-SCH传输块检测PDCCH，UE将传输块传递到高层。高层分析传输块并向物理层指示上行授权。如果在时间窗内，UE不检测PDCCH或相应的DL-SCH传输块，则UE过程如[TS 38.321]中的描述。如果UE在时间窗内，采用所指示的RA-RNTI和相应的DL-SCH传输块检测PDCCH，高层指示[XX]比特的上行授权到物理层。这一过程被称为物理层的随机接入响应（RAR）。UE应接收PDCCH和PDSCH。作为包含[SystemInformationBlockType1]的PDSCH的接收，PDSCH包含了具有相同子载波间隔和相同CP的DL-SCH传输块。[XX]比特的内容，开始于MSB，结束于LSB：[…]批注：To be completed as the contents of the UL grant in the RAR are determined.Msg3 PUSCH对于Msg3 PUSCH传输，高层参数[msg3-tp]指示UE是否应用变换预编码（transform precoding），变换预编在[TS 38.211]中描述。Msg3 PUSCH传输的子载波间隔由高层参数[msg3-scs]提供。UE应在相同的服务小区内发送PRACH和Msg3 PUSCH。Msg4 PDSCHMsg4 PDSCH传输的子载波间隔与PDSCH相同提供随机接入响应。UE procedure for reporting control informationUE procedure for HARQ-ACK codebook determinationCBG-based HARQ-ACK codebook determination批注：[HARQ-ACK information bits] The actual number of bits to report can be different – e.g. with bundling.批注：[initial] For retransmissions, decisions are needed for dynamic/semi-static HARQ-ACK codebook determination and for possible DCI indications.批注：[a] No decision currently exists for 2 TBs (e.g. same number for both TBs, separately configured number per TB).批注：[the UE determines whether or not a CBG is retransmitted based on a corresponding value of the CBGTI field] Placeholder text – will be modified once the specifics for the operation of the CBGTI field are decided.批注：[cc] LTE terminology for indicating semi-static codebook (can be modified once RRC terminology is finalized). Statement in brackets will be removed if only semi-static codebook determination is supported for CBG-based HARQ-ACK.UE procedure for reporting HARQ-ACKHARQ-ACK reporting in physical uplink shared channelHARQ-ACK reporting in physical uplink control channel如果UE没有配置为PUSCH和PUCCH同时传输，并且UE不传输PUSCH，且不传输CSI或positive/negative SR，则UE应传输HARQ-ACKon PUCCH format 0 ifthe transmission is over 1 symbol or 2 symbols,the number of HARQ-ACK information bits is 1 or 2on PUCCH format 1 ifthe transmission is over 4 or more symbols,the number of HARQ-ACK information bits is 1 or 2on PUCCH format 2 ifthe transmission is over 1 symbol or 2 symbols,the number of HARQ-ACK information bits is more than 2on PUCCH format 3 ifthe transmission is over 4 or more symbols,the number of HARQ-ACK information bits is more than [2]UE在一个时隙的$ N_{\text{symb}}^{\text{slot},\mu } $个符号上发送一个或多个PUCCH。对于PUCCH传输时隙的参考，如果UE在PDCCH上检测DCI格式，其中PDCCH通过一定数量的符号调度PDSCH的接收，这些符号的最后一个符号在时隙$n$内，则UE应在PUCCH传输中提供相应的HARQ-ACK信息，PUCCH在时隙$ n+k $上传输，其中$k$是时隙数，且通过DCI格式中的[DL-data-DL-acknowledgement]字段来指示。[DL-data-DL-acknowledgement]字段的值映射到时隙数的值，见Table 9.1.2-1中的定义。批注：Dynamic indication of symbols within a slot or joint indication of time/frequency/code PUCCH resources is not precluded pending specific RAN1 agreements.HARQ-ACK procedures for one configured serving cellHARQ-ACK procedures for more than one configured serving cellUE procedure for reporting SR批注：There are currently no RAN1 decisions on SR transmission structure and possible multiplexing with HARQ-ACK/CSIUE procedure for reporting multiple UCI typesUCI repetition procedureUE procedure for receiving control informationUE应在一个或多个激活的服务小区或BWPs上，根据相应的搜索空间，在一个或多个CORESET内监听一组PDCCH候选集，其中搜索空间是根据所监听的DCI格式译码每个PDCCH候选。批注：[PDCCH候选集] Can add more details later, such as per activated cell, etc., based on respective agreements.批注：[DCI formats] Can remain applicable for potentially mapping multiple DCI formats to a same size (as for LTE DCI format 0 and DCI format 1A).UE procedure for determining physical downlink control channel assignment in common search spaceUE应在下列一个或多个搜索空间内监听PDCCH候选：a Type0-PDCCH common search space for a DCI format scrambled by a [SI-RNTI] on a primary cella Type1-PDCCH common search space for a DCI format scrambled by a [RA-RNTI] on a primary cella Type2-PDCCH common search space for a DCI format scrambled by a [INT-RNTI][UE应在没有载波指示域的情况下监听PDCCH候选。]如果UE通过高层配置为以[INT-RNTI]加扰的CRC译码DCI格式，UE也在[每个服务小区]配置[一组]PRBs和一组OFDM符号。如果UE以[INT-RNTI]加扰的CRC检测DCI格式，UE可以假设不在这组PRBs和OFDM符号中发送。UE通过高层参数[int-PRBs-unit]配置PRBs的指示粒度。UE通过高层参数[int-symbols-unit]配置OFDM符号的指示粒度。UE通过高层参数[Num-PDCCH-cand]来配置对于DCI格式的每个CCE聚合等级下的若干PDCCH候选，其中DCI格式使用[INT-RNTI]加扰的CRC。批注：[[INT-RNTI]加扰的CRC] Eventually, this DCI format will have a name and will be used to remove this part.UE procedure for determining physical downlink control channel assignment in UE-specific search space对于每个服务小区，高层信令给UE配置$ Q $个CORESETs。对于CORESET $q$，$ 0\le q&lt;Q $，配置包括：高层参数[CORESET-start-symb]提供第1个OFDM符号高层参数[CORESET-time-duration]提供若干连续的OFDM符号高层参数[CORESET-freq-dom]提供一组RBs集合高层参数[CORESET-trans-type]提供CCE-to-REG映射对于交织的CCE-to-REG映射，高层参数[CORESET-REG-bundle-size]提供REG bundle大小[高层参数[CORESET-QCL-ConfigId]提供天线端口quasi-collocation]对于非交织的CCE-to-REG映射，REG bundle大小等于6。UE可以假设一个REG bundle内的所有REGs上传输的PDCCH应用相同的预编码。批注：[对于非交织的CCE-to-REG映射，REG bundle大小等于6。] Can be updated if additional REG bundle sizes are defined for non-interleaved transmissions.每个CORESET包含一组从0到$ { {N}_{\text{CCE},q}}-1 $编号的CCEs，其中$ { {N}_{\text{CCE},q}} $是CORESET $q$中的CCEs个数。UE所监听的PDCCH候选集定义在PDCCH UE特定搜索空间。PDCCH UE特定搜索空间在聚合等级$ L\in \left\{ 1, 2, 4, 8 \right\} $上定义为，对于CCE聚合等级$L$的一组PDCCH候选。对于一个DCI格式，UE在每个服务小区内通过高层参数[Num-PDCCH-cand]配置每个CCE聚合等级 下的一组PDCCH候选。批注：[UE特定搜索空间] Cross-carrier scheduling, including use of different numerologies, will be captured through the search space.对于连续接收（non-DRX）模式操作，UE在根据$ { {W}_{\text{PDCCH,} q}} $个符号周期，监听CORESET $q$中的PDCCH候选，其中对于CORESET $q$的$ { {W}_{\text{PDCCH,} q}} $由高层参数[CORESET-monitor-period]配置。批注：[CORESET-monitor-period] Need to determine how, based on configured periodicity, UE monitors PDCCH and whether it is a CORESET or a search space parameter. Allowed periodicity values (symbol, slot, etc.) are TBD (start from 1 symbol) and are to be included in RAN2 specifications (likely not visible in 38.213).服务小区中的UE，在UE特定的搜索空间监听PDCCH的候选，如果UE没有配置载波指示域，UE应在没有载波指示域的条件下监听PDCCH候选。服务小区中的UE，在UE 特定的搜索空间监听PDCCH的候选，如果UE配置了载波指示域，则UE应使用载波指示域监听PDCCH候选。如果UE在另一个服务小区上被配置使用对应于secondary cell的载波指示来监听PDCCH候选，UE不希望在secondary cell上监听PDCCH候选。[对于服务小区中的UE监听PDCCH候选，UE应至少在同一个服务小区内监听PDCCH候选。]Bandwidth part operation批注：It will be attempted, as much as possible, to capture all BWP operation aspects in this Subclause while referring to other Subclauses. Potential overlaps will be resolved as the specifications progress.批注：Text is subject to revisions as descriptions in 38.211 and 38.213 are aligned.批注：[BWP] Regarding the CSS, he agreement for its configuration is ambiguous. Which CSS configuration is it (e.g. is it for SIB scheduling, for GC-PDCCH, … )? Maybe multiple CSS configurations are applicable as in Subclause 10.1? Reference to primary cell in the agreement points to SIB scheduling but clarification is needed for what the CSS intends to do, whether the respective BWP is same as the BWP from initial access, ….批注：[transmissions] Activation/deactivation by DCI requires further details (e.g. it is FFS whether it is a DCI scheduling PDSCH/PUSCH in a configured BWP ot a separate DCI). Deactivation by a timer also requires further details (e.g. no separate specifications if it is the DRX timer). A separate timer may be described in RRC specifications as for the DRX timer.Configurations and assumptions independent of physical channels or signals批注：[signals] To capture reserved resources, potential LTE-NR coexistence aspects, etc. For LTE-NR DC with single UL Tx, corresponding agreement regarding configuration of DL-reference UL/DL configuration affects only LTE operation, is suitable for LTE specifications, and is not captured (unless it is extended to NR-NR DC).相关链接NR物理层概述NR物理层提供的服务NR物理信道与调制NR复用与信道编码]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[5G-NR复用与信道编码v1.0.0]]></title>
      <url>%2F2017%2F09%2F10%2Fnr-v100-l1-multiplexing-coding%2F</url>
      <content type="text"><![CDATA[Marshall注：本博文重点关注了与polar code相关的比特级处理。物理信道映射上行下行通用流程来自MAC层/向MAC层输出的数据和控制流经过编/解码，通过无线传输链路提供传输和控制服务。信道编码方案是错误检测、错误纠正、速率匹配、交织以及传输信道或控制信息向物理信道映射/从物理信道到传输信道控制信息解析或分离的组合方案。CRC计算CRC计算单元的输入比特为$ { {a}_{0}},{ {a}_{1}},{ {a}_{2}},{ {a}_{3}},…,{ {a}_{A-1}} $，奇偶校验比特为$ { {p}_{0}},{ {p}_{1}},{ {p}_{2}},{ {p}_{3}},…,{ {p}_{L-1}} $。$ A $是输入序列的长度，$ L $是校验比特数目。校验比特由下列循环生成多项式之一产生：$ { {g}_{\text{CRC24A}}}\left( D \right)=[{ {D}^{24}}+{ {D}^{23}}+{ {D}^{18}}+{ {D}^{17}}+{ {D}^{14}}+{ {D}^{11}}+{ {D}^{10}}+{ {D}^{7}}+{ {D}^{6}}+{ {D}^{5}}+{ {D}^{4}}+{ {D}^{3}}+D+1] $，CRC长度$ L=24 $；$ { {g}_{\text{CRC24B}}}\left( D \right)=[{ {D}^{24}}+{ {D}^{23}}+{ {D}^{6}}+{ {D}^{5}}+D+1] $，CRC长度$ L=24 $；$ { {g}_{\text{CRC24C}}}\left( D \right)=[{ {D}^{24}}+{ {D}^{23}}+{ {D}^{21}}+{ {D}^{20}}+{ {D}^{17}}+{ {D}^{15}}+{ {D}^{13}}+{ {D}^{12}}+{ {D}^{8}}+{ {D}^{4}}+{ {D}^{2}}+D+1] $，CRC长度$ L=24 $；$ { {g}_{\text{CRC16}}}\left( D \right)=[{ {D}^{16}}+{ {D}^{12}}+{ {D}^{5}}+D+1] $，CRC长度$ L=16 $编码以系统方式进行，这意味着在二元域GF（2）中，多项式：{ {a}_{0}}{ {D}^{A+L-1}}+{ {a}_{1}}{ {D}^{A+L-2}}+...+{ {a}_{A-1}}{ {D}^{L}}+{ {p}_{0}}{ {D}^{L-1}}+{ {p}_{1}}{ {D}^{L-2}}+...+{ {p}_{L-2}}{ {D}^{1}}+{ {p}_{L-1}}除以相应的CRC生成多项式时，余数等于0。添加CRC之后的比特序列表示为$ { {b}_{0}},{ {b}_{1}},{ {b}_{2}},{ {b}_{3}},…,{ {b}_{B-1}} $，其中$ { {b}_{0}},{ {b}_{1}},{ {b}_{2}},{ {b}_{3}},…,{ {b}_{B-1}} $。$ { {a}_{k}} $和$ { {b}_{k}} $的关系如下：$ { {b}_{k}}={ {a}_{k}} $，对于$ k=0,1,2,…,A-1 $$ { {b}_{k}}={ {p}_{k-A}} $，对于$ k=A,A+1,A+2,…,A+L-1 $码块分段和CRC添加LDPC码码块分段单元的输入序列为$ { {b}_{0}},{ {b}_{1}},{ {b}_{2}},{ {b}_{3}},…,{ {b}_{B-1}} $，其中$ B&gt;0 $]。如果$ B $大于最大码块大小$ { {K}_{\text{cb}}} $，则输入序列要进行分段操作，并且每个分段后的码块要添加一个$ L=24 $的CRC序列。最大码块大小为：$ { {K}_{\text{cb}}}=8448 $。码块总数C根据以下方法计算得到：当$ C\ne 0 $时，码块分段的输出比特为$ { {c}_{r0}},{ {c}_{r1}},{ {c}_{r2}},{ {c}_{r3}},…,{ {c}_{r\left( { {K}_{r}}-1 \right)}} $，其中$ 0\le r&lt;C $为码块号，$ { {K}_{r}} $是码块$r$中的比特数。每个码块中的比特数为（仅适用于$ C\ne 0 $的情况）：注：蓝色高亮部分是华为批注：K+ and K_ are kept for now. May update after TBS is finalized.在Table 5.3.2-1中所有列举的集合中找到Z的最小值，表示为$ { {Z}_{c}} $。$ { {K}_{b}}\cdot { {Z}_{c}}\ge { {K}_{+}} $且对于LDPC BG#1有$ K=22{ {Z}_{c}} $，对于LDPC BG#2有$ K=10{ {Z}_{c}} $。信道编码Polar coding对于给定的码块，信道编码器的输入序列为$ { {c}_{0}},{ {c}_{1}},{ {c}_{2}},{ {c}_{3}},…,{ {c}_{K-1}} $，其中$ K $是编码器的输入比特数。编码后的比特序列表示为$ { {d}_{0}},{ {d}_{1}},{ {d}_{2}},…,{ {d}_{N-1}} $，其中$ N={ {2}^{n}} $并且$n$的值由下列方法决定：$ E $表示速率匹配输出序列长度，由2.4.1节给出；比特序列$ { {c}_{0}},{ {c}_{1}},{ {c}_{2}},{ {c}_{3}},…,{ {c}_{K-1}} $采用下列方法被交织成比特序列$ c_{0}^{‘},c_{1}^{‘},c_{2}^{‘},c_{3}^{‘},…,c_{K-1}^{‘} $:$ { { {c}’}_{k}}={ {c}_{\Pi \left( k \right)}} $，$ k=0,1,…,K-1 $其中交织pattern $ \Pi \left( k \right) $由下列方法确定：其中$ \Pi _{IL}^{\max }\left( m \right) $由Table 5.3.1-1和$ K_{IL}^{\max } $给定。华为批注：The value of $ K_{IL}^{\max } $ equals to Kmax = max(140, max DCI payload size in Rel-15 + 20) + 24. The value of $ K_{IL}^{\max } $ should be the number of elements in Table 5.3.1-1, in the end. According to the current Tabel 5.3.1-1, $ K_{IL}^{\max }=224 $.华为批注：Contents of this table will be updated. Current working assumption is the pattern for nFAR=21 in R1-1712167.Polar序列$ \mathbf{Q}_{0}^{ { {N}_{\max }}-1}=\left\{ Q_{0}^{ { {N}_{\max }}},Q_{1}^{ { {N}_{\max }}},…,Q_{ { {N}_{\max }}-1}^{ { {N}_{\max }}} \right\} $由Table5.3.1-2给定，其中$ 0\le Q_{i}^{ { {N}_{\max }}}\le { {N}_{\max }}-1 $表示Polar编码前的一个比特索引，其中$ i=0,1,…,N-1 $，$ { {N}_{\max }}=1024 $。Polar序列$ \mathbf{Q}_{0}^{ { {N}_{\max }}-1} $按可靠性升序排列$ W\left( Q_{0}^{ { {N}_{\max }}} \right)&lt;W\left( Q_{1}^{ { {N}_{\max }}} \right)&lt;…&lt;W\left( Q_{ { {N}_{\max }}-1}^{ { {N}_{\max }}} \right) $，其中$ W\left( Q_{i}^{ { {N}_{\max }}} \right) $表示比特索引$ Q_{i}^{ { {N}_{\max }}} $的可靠性。对任意码块编码为$ N $比特，都使用相同的Polar序列$ \mathbf{Q}_{0}^{N-1}=\left\{ Q_{0}^{N},Q_{1}^{N},Q_{2}^{N},…,Q_{N-1}^{N} \right\} $。Polar序列$ \mathbf{Q}_{0}^{N-1} $是Polar序列$ \mathbf{Q}_{0}^{ { {N}_{\max }}-1} $的子集，即值小于$ N $的所有$ Q_{i}^{ { {N}_{\max }}} $元素，并且按可靠性升序排列$ W\left( Q_{0}^{N} \right)&lt;W\left( Q_{1}^{N} \right)&lt;W\left( Q_{2}^{N} \right)&lt;…&lt;W\left( Q_{N-1}^{N} \right) $。$ \mathbf{\bar{Q}}_{I}^{N} $是Polar序列$ \mathbf{Q}_{0}^{N-1} $中的一组比特索引，$ \mathbf{\bar{Q}}_{F}^{N} $是Polar序列$ \mathbf{Q}_{0}^{N-1} $中其他比特的索引，其中$ \mathbf{\bar{Q}}_{I}^{N} $和$ \mathbf{\bar{Q}}_{F}^{N} $由2.4.1.1节给定，$ \left| \mathbf{\bar{Q}}_{I}^{N} \right|=K+{ {n}_{PC}} $，$ \left| \mathbf{\bar{Q}}_{F}^{N} \right|=N-\left| \mathbf{\bar{Q}}_{I}^{N} \right| $，$ { {n}_{PC}} $是奇偶校验比特数。$ { {\mathbf{G}}_{N}}={ {\left( { {\mathbf{G}}_{2}} \right)}^{\otimes n}} $表示矩阵$ { {\mathbf{G}}_{2}} $的$n$次克罗内克积，其中$ { {\mathbf{G}}_{2}}=\left[ \begin{matrix}1 &amp; 0 \\1 &amp; 1 \\\end{matrix} \right] $。$ { {\mathbf{g}}_{j}} $表示矩阵$ { {\mathbf{G}}_{N}} $的第$ j $行，比特索引$ j=0,1,…,N-1 $。$ w\left( { {\mathbf{g}}_{j}} \right) $表示$ { {\mathbf{g}}_{j}} $的行重，即$ { {\mathbf{g}}_{j}} $中1的个数。奇偶校验比特的索引集合表示为$ \mathbf{Q}_{PC}^{N} $，其中$ \left| \mathbf{Q}_{PC}^{N} \right|={ {n}_{PC}} $。$ \left( { {n}_{PC}}-n_{PC}^{wm} \right) $个奇偶校验比特位于$ \mathbf{\bar{Q}}_{I}^{N} $中的$ \left( { {n}_{PC}}-n_{PC}^{wm} \right) $个最不可靠的比特索引。其他$ n_{PC}^{wm} $个奇偶校验比特位于$ \mathbf{\tilde{Q}}_{I}^{N} $中行重最小的比特索引，其中$ \mathbf{\tilde{Q}}_{I}^{N} $表示$ \mathbf{\bar{Q}}_{I}^{N} $中$ \left( \left| \mathbf{\bar{Q}}_{I}^{N} \right|-{ {n}_{PC}} \right) $个最可靠的比特索引；如果$ \mathbf{\tilde{Q}}_{I}^{N} $中具有相同最小行重的比特索引大于$ n_{PC}^{wm} $，则其他$ n_{PC}^{wm} $个奇偶校验比特位于$ \mathbf{\tilde{Q}}_{I}^{N} $中可靠性最高且行重最小的$ n_{PC}^{wm} $个比特索引。根据下列方法生成序列$ \mathbf{u}=\left[ { {u}_{0}}\text{ }{ {u}_{1}}\text{ }{ {u}_{2}}\text{ }…\text{ }{ {u}_{N-1}} \right] $：注：粉色部分为华为批注：Need further agreements on how to set the values for frozen bits.通过$ \mathbf{d}=\mathbf{u}{ {\mathbf{G}}_{n}} $编码器得到输出序列，表示为$ \mathbf{d}=\left[ { {d}_{0}}\text{ }{ {d}_{1}}\text{ }{ {d}_{2}}\text{ }…\text{ }{ {d}_{N-1}} \right] $。编码在二元域GF（2）进行。LDPC码速率匹配Polar code速率匹配包括子块交织、比特收集和比特交织。速率匹配的输入序列为$ { {d}_{0}},{ {d}_{1}},{ {d}_{2}},…,{ {d}_{N-1}} $，输出序列表示为$ { {f}_{0}},{ {f}_{1}},{ {f}_{2}},…,{ {f}_{E-1}} $。polar code速率匹配子块交织编码比特$ { {d}_{0}},{ {d}_{1}},{ {d}_{2}},…,{ {d}_{N-1}} $就是子块交织器的输入比特。编码比特$ { {d}_{0}},{ {d}_{1}},{ {d}_{2}},…,{ {d}_{N-1}} $被分为32个子块。子块交织器的输出比特为$ { {y}_{0}},{ {y}_{1}},{ {y}_{2}},…,{ {y}_{N-1}} $，用以下方式生成：其中子块交织pattern $ P\left( i \right) $由Table 5.4.1.1-1给定。比特索引集合$ \mathbf{\bar{Q}}_{I}^{N} $和$ \mathbf{\bar{Q}}_{F}^{N} $由下列方法确定，其中$ K $，$ { {n}_{PC}} $和$ \mathbf{Q}_{0}^{N-1} $由2.3.1节定义：比特选择$E$表示速率匹配输出序列的长度，速率匹配输出序列为$ { {e}_{k}} $，$ k=0,1,2,…,E-1 $由以下方法产生：比特交织比特序列$ { {e}_{0}},{ {e}_{1}},{ {e}_{2}},…,{ {e}_{E-1}} $通过以下方法被交织为比特序列$ { {f}_{0}},{ {f}_{1}},{ {f}_{2}},…,{ {f}_{E-1}} $：$ T $表示满足$ T\left( T+1 \right)/2\ge E $的最小整数；LDPC code速率匹配码块级联上行传输信道和控制信息随机接入信道上行共享信道传输块CRC添加每个上行共享信道（UL-SCH）传输块都通过一个CRC来提供错误检测。使用整个传输块来计算CRC校验比特。送到L1的一个传输块的比特表示为$ { {a}_{0}},{ {a}_{1}},{ {a}_{2}},{ {a}_{3}},…,{ {a}_{A-1}} $，校验比特为$ { {p}_{0}},{ {p}_{1}},{ {p}_{2}},{ {p}_{3}},…,{ {p}_{L-1}} $，其中$A$是传输块大小，$L$是校验比特数。按照TS 38.321规范中的定义，最低顺序信息比特$ { {a}_{0}} $被映射到最高有效位。校验比特按照2.1节的描述进行计算并添加到UL-SCH传输块中，若$ A&gt;3824 $则设置$L$为24比特，使用生成多项式$ { {g}_{\text{CRC24A}}}\left( D \right) $；否则设置$ L $为16比特，使用生成多项式$ { {g}_{\text{CRC16}}}\left( D \right) $。码块分段及CRC添加码块分段的输入比特流记为$ { {b}_{0}},{ {b}_{1}},{ {b}_{2}},{ {b}_{3}},…,{ {b}_{B-1}} $，其中$B$表示传输块的比特数目（包含CRC）。码块分段及CRC添加根据2.2.1节中描述进行。码块分段之后的比特流记为$ { {c}_{r0}},{ {c}_{r1}},{ {c}_{r2}},{ {c}_{r3}},…,{ {c}_{r\left( { {K}_{r}}-1 \right)}} $，其中$ r $是码块号，$ { {K}_{r}} $是码块$ r $的比特数。UL-SCH的信道编码码块比特流送至信道编码模块。码块中的比特表示为$ { {c}_{r0}},{ {c}_{r1}},{ {c}_{r2}},{ {c}_{r3}},…,{ {c}_{r\left( { {K}_{r}}-1 \right)}} $，其中$r$是码块号，$ { {K}_{r}} $是码块$ r $的比特数。码块的总数表示为$ C $，每个码块根据2.3.2节的描述独立地进行LDPC编码。编码之后的比特流表示为$ { {d}_{0}},{ {d}_{1}},{ {d}_{2}},…,{ {d}_{N-1}} $，其中对于LDPC BG#1，有$ N=66{ {Z}_{c}} $；对于LDPC BG#2，有$ N=50{ {Z}_{c}} $。$ { {Z}_{c}} $的值由2.2.1节给定。速率匹配码块级联数据和控制复用信道交织上行控制信息PUCCH上的控制信息UCI比特序列生成[Editor notes: This section will capture how to generate the UCI bit stream $ { {a}_{0}},{ {a}_{1}},{ {a}_{2}},{ {a}_{3}},…,{ {a}_{A-1}} $.]CRC添加如果UCI负载大小$ A\ge { {A}_{0}} $，整个负载都用于计算CRC校验比特。负载比特表示为$ { {a}_{0}},{ {a}_{1}},{ {a}_{2}},{ {a}_{3}},…,{ {a}_{A-1}} $，校验比特表示为$ { {p}_{0}},{ {p}_{1}},{ {p}_{2}},{ {p}_{3}},…,{ {p}_{L-1}} $，其中$A$是UCI负载大小，$L$是校验比特数。华为注：$ { {A}_{0}} $的值有待进一步确定。校验比特按照2.1节的描述进行计算并添加，并设置$ L $为X比特，得到添加CRC后的比特序列$ { {b}_{0}},{ {b}_{1}},{ {b}_{2}},{ {b}_{3}},…,{ {b}_{B-1}} $，其中$ B=A+L $。对于X的值，华为注：Depending on further agreements, different CRC lengths may be applied for different payload sizes.[Editor notes: need to define the relationship between $ { {b}_{0}},{ {b}_{1}},{ {b}_{2}},{ {b}_{3}},…,{ {b}_{B-1}} $ and $ { {c}_{0}},{ {c}_{1}},{ {c}_{2}},{ {c}_{3}},…,{ {c}_{K-1}} $.]UCI的信道编码信息比特流送至信道编码模块。信息比特流表示为$ { {c}_{0}},{ {c}_{1}},{ {c}_{2}},{ {c}_{3}},…,{ {c}_{K-1}} $，其中$ K $是比特数。如果$ 12\le K\le 22 $，则信息比特根据2.3.1节通过Polar进行编码，若$ E-K&gt;192 $，则设置$ { {n}_{\max }}=10 $，$ { {I}_{IL}}=0 $，$ { {n}_{PC}}=3 $，$ n_{PC}^{wm}=1 $；若$ E-K\le 192 $，则设置$ n_{PC}^{wm}=0 $，其中$E$是由3.3.1.4节给定的速率匹配输出序列长度。关于$ 12\le K\le 22 $，华为批注：Need to capture the agreements for K &lt; 12 in the future.如果$ K&gt;22 $，则信息比特根据2.3.1节通过Polar进行编码，设置$ { {n}_{\max }}=10 $，$ { {I}_{IL}}=0 $，$ { {n}_{PC}}=0 $，$ n_{PC}^{wm}=0 $。编码之后的比特流表示为$ { {d}_{0}},{ {d}_{1}},{ {d}_{2}},{ {d}_{3}},…,{ {d}_{N-1}} $，其中$N$是编码比特数。速率匹配PUSCH上的控制信息UCI比特序列生成[Editor notes: This section will capture how to generate the UCI bit stream $ { {a}_{0}},{ {a}_{1}},{ {a}_{2}},{ {a}_{3}},…,{ {a}_{A-1}} $.]CRC添加如果UCI负载大小$ A\ge { {A}_{0}} $，整个负载都用于计算CRC校验比特。负载比特表示为$ { {a}_{0}},{ {a}_{1}},{ {a}_{2}},{ {a}_{3}},…,{ {a}_{A-1}} $，校验比特表示为$ { {p}_{0}},{ {p}_{1}},{ {p}_{2}},{ {p}_{3}},…,{ {p}_{L-1}} $，其中$A$是UCI负载大小，$L$是校验比特数。华为注：$ { {A}_{0}} $的值有待进一步确定。校验比特按照2.1节的描述进行计算并添加，并设置$L$为X比特，得到添加CRC后的比特序列$ { {b}_{0}},{ {b}_{1}},{ {b}_{2}},{ {b}_{3}},…,{ {b}_{B-1}} $，其中$ B=A+L $。对于X的值，华为注：Depending on further agreements, different CRC lengths may be applied for different payload sizes.[Editor notes: need to define the relationship between $ { {b}_{0}},{ {b}_{1}},{ {b}_{2}},{ {b}_{3}},…,{ {b}_{B-1}} $ and $ { {c}_{0}},{ {c}_{1}},{ {c}_{2}},{ {c}_{3}},…,{ {c}_{K-1}} $.]UCI的信道编码信息比特流送至信道编码模块。信息比特流表示为$ { {c}_{0}},{ {c}_{1}},{ {c}_{2}},{ {c}_{3}},…,{ {c}_{K-1}} $，其中$ K $是比特数。如果$ 12\le K\le 22 $，则信息比特根据2.3.1节通过Polar进行编码，若$ E-K&gt;192 $，则设置$ { {n}_{\max }}=10 $，$ { {I}_{IL}}=0 $，$ { {n}_{PC}}=3 $，$ n_{PC}^{wm}=1 $；若$ E-K\le 192 $，则设置$ n_{PC}^{wm}=0 $，其中$E$是由3.3.2.4节给定的速率匹配输出序列长度。关于$ 12\le K\le 22 $，华为批注：Need to capture the agreements for K &lt; 12 in the future.如果$ K&gt;22 $，则信息比特根据2.3.1节通过Polar进行编码，设置$ { {n}_{\max }}=10 $，$ { {I}_{IL}}=0 $，$ { {n}_{PC}}=0 $，$ n_{PC}^{wm}=0 $。编码之后的比特流表示为$ { {d}_{0}},{ {d}_{1}},{ {d}_{2}},{ {d}_{3}},…,{ {d}_{N-1}} $，其中$N$是编码比特数。速率匹配下行传输和控制信息广播信息Figure 7.1-1给出了BCH传输信道的处理结构。到达编码单元的数据，每80ms最多有一个传输块，其编码流程如下：向传输块添加CRC信道编码速率匹配华为批注：Will add the figure later.传输块CRC添加BCH传输块都通过CRC来进行错误检测。使用整个传输块来计算CRC校验比特。（华为批注：This sentence may be updated depending on further agreements, e.g. if some PBCH payload bits are not used to generate CRC bits.）送到L1的一个传输块的比特表示为$ { {a}_{0}},{ {a}_{1}},{ {a}_{2}},{ {a}_{3}},…,{ {a}_{A-1}} $，校验比特为$ { {p}_{0}},{ {p}_{1}},{ {p}_{2}},{ {p}_{3}},…,{ {p}_{L-1}} $，其中$A$是传输块大小，$L$是校验比特数。按照TS 38.321规范中的定义，最低顺序信息比特$ { {a}_{0}} $被映射到最高有效位。校验比特按照2.1节的描述进行计算并添加到BCH传输块中，设置$ L $为24比特，使用生成多项式$ { {g}_{\text{CRC24C}}}\left( D \right) $，得到添加CRC后的序列为$ { {b}_{0}},{ {b}_{1}},{ {b}_{2}},{ {b}_{3}},…,{ {b}_{B-1}} $，其中$ B=A+L $。[Editor notes: need to define the relationship between and , pending on further agreements.]信道编码信息比特送至信道编码模块。信息比特表示为$ { {c}_{0}},{ {c}_{1}},{ {c}_{2}},{ {c}_{3}},…,{ {c}_{K-1}} $，其中$K$为比特数。它们根据2.3.1节进行Polar编码，设置$ { {n}_{\max }}=9 $，$ { {I}_{IL}}=1 $，$ { {n}_{PC}}=0 $，$ n_{PC}^{wm}=0 $。编码之后的比特序列表示为$ { {d}_{0}},{ {d}_{1}},{ {d}_{2}},{ {d}_{3}},…,{ {d}_{N-1}} $，其中$N$为编码比特数。速率匹配下行共享信道和寻呼信道传输块CRC添加每个传输块都通过CRC来进行错误检测。使用整个传输块来计算CRC校验比特。送到L1的一个传输块的比特表示为$ { {a}_{0}},{ {a}_{1}},{ {a}_{2}},{ {a}_{3}},…,{ {a}_{A-1}} $，校验比特为$ { {p}_{0}},{ {p}_{1}},{ {p}_{2}},{ {p}_{3}},…,{ {p}_{L-1}} $，其中$A$是传输块大小，$L$是校验比特数。按照TS 38.321规范中的定义，最低顺序信息比特$ { {a}_{0}} $被映射到最高有效位。校验比特按照2.1节的描述进行计算并添加到UL-SCH传输块中，若$ A&gt;3824 $，则设置$ L $为24比特，使用生成多项式$ { {g}_{\text{CRC24A}}}\left( D \right) $；否则设置$ L $为16比特，使用生成多项式$ { {g}_{\text{CRC16}}}\left( D \right) $。码块分段及CRC添加码块分段的输入比特流记为$ { {b}_{0}},{ {b}_{1}},{ {b}_{2}},{ {b}_{3}},…,{ {b}_{B-1}} $，其中$ B $表示传输块的比特数目（包含CRC）。码块分段及CRC添加根据2.2.1节中描述进行。码块分段之后的比特流记为$ { {c}_{r0}},{ {c}_{r1}},{ {c}_{r2}},{ {c}_{r3}},…,{ {c}_{r\left( { {K}_{r}}-1 \right)}} $，其中$r$是码块号，$ { {K}_{r}} $是码块$r$的比特数。信道编码码块比特流送至信道编码模块。码块中的比特表示为$ { {c}_{r0}},{ {c}_{r1}},{ {c}_{r2}},{ {c}_{r3}},…,{ {c}_{r\left( { {K}_{r}}-1 \right)}} $，其中$r$是码块号，$ { {K}_{r}} $是码块$r$的比特数。码块的总数表示为$ C $，每个码块根据2.3.2节的描述独立地进行LDPC编码。编码之后的比特流表示为$ { {d}_{0}},{ {d}_{1}},{ {d}_{2}},…,{ {d}_{N-1}} $，其中对于LDPC BG#1，有$ N=66{ {Z}_{c}} $；对于LDPC BG#2，有$ N=50{ {Z}_{c}} $。$ { {Z}_{c}} $的值由2.2.1节给定。速率匹配下行控制信息DCI传输下行和上行调度信息，对非周期CQI报告的请求，或对一个小区和RNTI的上行功率控制命令。华为批注：This sentence will be updated later, pending on other agreed usages of DCI.Figure 7.3-1给出了DCI的处理结构。编码流程如下：信息单元复用CRC添加信道编码速率匹配华为批注：Will add the figure later.DCI格式CRC添加DCI传输通过CRC进行错误检测。使用整个DCI负载计算CRC校验比特。DCI负载比特表示为$ { {a}_{0}},{ {a}_{1}},{ {a}_{2}},{ {a}_{3}},…,{ {a}_{A-1}} $，校验比特表示为$ { {p}_{0}},{ {p}_{1}},{ {p}_{2}},{ {p}_{3}},…,{ {p}_{L-1}} $，其中$ A $为DCI负载比特大小，$ L $为校验比特数。校验比特按照2.1节的描述进行计算并添加，并设置$L$为24比特，使用生成多项式$ { {g}_{\text{CRC24C}}}\left( D \right) $，得到添加CRC后的比特序列$ { {b}_{0}},{ {b}_{1}},{ {b}_{2}},{ {b}_{3}},…,{ {b}_{B-1}} $，其中$ B=A+L $。[Editor notes: need to define the relationship between $ { {b}_{0}},{ {b}_{1}},{ {b}_{2}},{ {b}_{3}},…,{ {b}_{B-1}} $ and $ { {c}_{0}},{ {c}_{1}},{ {c}_{2}},{ {c}_{3}},…,{ {c}_{K-1}} $, pending on further agreements.]信道编码信息比特送至信道编码模块。信息比特表示为$ { {c}_{0}},{ {c}_{1}},{ {c}_{2}},{ {c}_{3}},…,{ {c}_{K-1}} $，其中$ K $是信息比特数，它们根据2.3.1节进行Polar编码，并设置$ { {n}_{\max }}=9 $，$ { {I}_{IL}}=1 $，$ { {n}_{PC}}=0 $，$ n_{PC}^{wm}=0 $。编码之后的比特序列表示为$ { {d}_{0}},{ {d}_{1}},{ {d}_{2}},{ {d}_{3}},…,{ {d}_{N-1}} $，其中$N$为编码比特数。速率匹配相关链接NR物理层概述NR物理层提供的服务NR物理信道与调制NR物理层过程（控制）]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[5G-NR物理信道与调制-下行链路v1.0.0]]></title>
      <url>%2F2017%2F09%2F09%2Fnr-v100-l1-channel-modulation-dl%2F</url>
      <content type="text"><![CDATA[上接《NR物理信道与调制》下行链路下行链路概述物理信道概述下行链路物理信道对应于一组资源元素（REs）的集合，用于承载源自高层的信息。本规范定义了如下下行信道：物理下行共享信道（PDSCH）物理广播信道（PBCH）物理下行控制信道（PDCCH）物理信号概述下行物理信号是物理层使用的但不承载任何来自高层信息的信号。本规范定义了如下下行物理信号：解调参考信号（Demodulation reference signals，DM-RS）相位跟踪参考信号（Phase-tracking reference signals，PT-RS）信道状态信息参考信号（Channel-state information reference signal，CSI-RS）主同步信号（Primary synchronization signal，PSS）辅同步信号（Secondary synchronization signal，SSS）物理资源本规范定义了下列用于下行链路的天线端口：Antenna ports starting with 1000 for DM-RS associated with PDSCHAntenna ports starting with 2000 for DM-RS associated with PDCCHAntenna ports starting with 3000 for CSI-RSAntenna ports starting with 4000 for SS/PBCH block transmission物理信道物理下行共享信道加扰对于每个码字$ q $，UE应假设比特块$ { {b}^{(q)}}(0),…,{ {b}^{(q)}}(M_{\text{bit}}^{(q)}-1) $应在调制前被加扰，其中$ M_{\text{bit}}^{(q)} $是在物理信道上传输的码字$ q $的比特数，加扰后的比特块为$ { {\tilde{b}}^{(q)}}(0),…,{ {\tilde{b}}^{(q)}}(M_{\text{bit}}^{\text{(q)}}-1) $。根据如下公式进行加扰{ {\tilde{b}}^{(q)}}(i)=\left( { {b}^{(q)}}(i)+{ {c}^{(q)}}(i) \right)\bmod 2其中加扰序列$ { {c}^{(q)}}(i) $由2.2节给出。调制对于每个码字$ q $，UE应假设加扰比特块$ { {\tilde{b}}^{(q)}}(0),…,{ {\tilde{b}}^{(q)}}(M_{\text{bit}}^{\text{(q)}}-1) $根据Table 7.3.1.2-1中的调制方式进行调制，具体调制方法见《NR物理信道与调制》2.1节，得到复值调制符号块$ { {d}^{(q)}}(0),…,{ {d}^{(q)}}(M_{\text{symb}}^{\text{(q)}}-1) $。层映射UE假设每个码字的复值调制符号根据Table 7.3.1.3-1被映射到一层或多层上发送。码字$ q $的复值调制符号$ { {d}^{(q)}}(0),…,{ {d}^{(q)}}(M_{\text{symb}}^{\text{(q)}}-1) $被映射到层$ x(i)={ {\left[ \begin{matrix}{ {x}^{(0)}}(i) &amp; … &amp; { {x}^{(\upsilon -1)}}(i) \\\end{matrix} \right]}^{T}} $，$ i=0,1,…,M_{\text{symb}}^{\text{layer}}-1 $，其中$ \upsilon $是层数，$ M_{\text{symb}}^{\text{layer}} $是每层的调制符号数。预编码\left[ \begin{matrix} { {y}^{(0)}}(i) \\ \vdots \\ { {y}^{(P-1)}}(i) \\ \end{matrix} \right]=\left[ \begin{matrix} { {x}^{(0)}}(i) \\ \vdots \\ { {x}^{(\upsilon -1)}}(i) \\ \end{matrix} \right]where $ P=\upsilon $.资源映射UE应假设对物理信道的传输所使用的每个天线端口，复值符号块$ { {y}^{(p)}}(0),…,{ {y}^{(p)}}(M_{\text{symb}}^{\text{ap}}-1) $应符合38.xxx下行功率分配的规定，并且从$ { {y}^{(p)}}(0) $开始映射到REs $ \left( k,l \right) $，REs满足以下所有条件：它们位于分配给传输的资源块中根据TS 38.214，它们被声明可用于PDSCH向没有其他用途的REs $ { {\left( k,l \right)}_{p,\mu }} $上映射，以递增顺序先按天线端口索引$ p $，再按分配的物理资源索引$ k $，然后按索引$ l $映射，索引$ l $以TS 38.213规范的描述以$ l={ {l}_{0}} $为起始。UE可以假设在一个PRB bundle内使用相同的预编码，一个PRB bundle由2个或4个PRBs组成。PRB bundle基于 absolute资源格定义。物理下行控制信道控制信道单元物理下行控制信道由一个或多个控制信道单元（control-channel elements，CCE）组成，CCE数由Table 7.3.2.1-1指示。控制资源集一个控制资源集（Control-resource set，CORESET）由$ N_{\text{RB}}^{\text{CORESET}} $个频域RB和$ N_{\text{symb}}^{\text{CORESET}}\in \left\{ 1,2,3 \right\} $个时域符号组成，$ N_{\text{RB}}^{\text{CORESET}} $通过高层参数CORESET-freq-dom给定，$ N_{\text{symb}}^{\text{CORESET}} $通过高层参数CORESET-time-dur给定，其中仅当高层参数DL-DMRS-typeA-pos =3时支持$ N_{\text{symb}}^{\text{CORESET}}=3 $。一个CCE由6个资源粒子组（resource-element group，REG）组成，一个REG等于一个OFDM符号上的RB。一个CORESET 内的REGs按时域优先的方式以递增顺序编号，在CORESET内从第1个OFDM符号且最低的RB以0开始编号。UE可以配置多个CORESET。每个CORESET只与一个CCE-to-REG映射关联。对于一个CORESET，CCE-to-REG映射可以交织（interleaved），也可以不交织（non- interleaved），这由高层参数CORESET-Trans-type来配置，并且由REG bundles来描述：REG bundle $ i $定义为REGs $ \left\{ iL,iL+1,…,iL+L-1 \right\} $，其中$ L $是REG bundle size，REG bundle size由高层参数CORESET-REG-bundle-size配置，$ i=0,1,…,{N_{\text{REG}}^{\text{CORESET}}}/{L}\;-1 $是CORESET内的REG数。CCE $ j $由REG bundles $ \left\{ f({6j}/{L}\;),f({6j}/{L}\;+1),…,f({6j}/{L}\;+{6}/{L}\;-1) \right\} $组成，其中$ f(\cdot ) $是交织器。对于非交织的CCE-to-REG映射，$ L=6 $且$ f(j)=j $。对于交织的CCE-to-REG映射，对于$ N_{\text{symb}}^{\text{CORESET}}=1 $，有$ L\in \left\{ 2,6 \right\} $；对于$ N_{\text{symb}}^{\text{CORESET}}\in \left\{ 2,3 \right\} $，有$ L\in \left\{ N_{\text{symb}}^{\text{CORSET}},6 \right\} $。UE可假设在一个REG bundle内在频域上使用相同的预编码。加扰PDCCH调制UE应假设比特块$ \tilde{b}(0),…,\tilde{b}({ {M}_{\text{bit}}}-1) $进行QPSK调制，QPSK调制采用《NR物理信道与调制》2.1.3节所描述的方法，得到复值调制符号块$ d(0),…,d({ {M}_{\text{symb}}}-1) $。资源映射UE应假设用于监测PDCCH的CCEs中，复值符号块$ d(0),…,d({ {M}_{\text{symb}}}-1) $乘以一个幅值因子$ { {\beta }_{\text{PDCCH}}} $，然后按照先$ l $后$k$的递增顺序映射到REs$ { {\left( k,l \right)}_{p,\mu }} $。物理广播信道调制UE应假设比特块$ b(0),…,b({ {M}_{\text{bit}}}-1) $采用QPSK调制，QPSK调制采用《NR物理信道与调制》2.1节所描述的方法，得到复值调制符号块$ { {d}_{\text{PBCH}}}(0),…,{ {d}_{\text{PBCH}}}({ {M}_{\text{symb}}}-1) $。资源映射资源映射在本文1.4.3节中描述。物理信号参考信号用于PDSCH的DM-RS序列生成UE应假设参考信号序列$ r(m) $定义为r(m)=\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m) \right)+j\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m+1) \right)其中伪随机序列$ c(i) $在《NR物理信道与调制》2.2节中定义。Note: Sequence defined on a global scale relative to (FFS) SSBlock or RRC-configured reference point.资源映射UE应假设PDSCH DM-RS根据type 1或type 2映射到REs，DM-RS的类型由高层参数DL-DMRS-config-type给定。UE应假设序列$ r(m) $根据如下公式映射到RE\begin{align} \nonumber & a_{k,l}^{(p,\mu )}={ {\beta }_{\text{DMRS}}}{ {w}_{\text{f}}}\left( { {k}'} \right)\cdot { {w}_{\text{t}}}\left( { {l}'} \right)\cdot r\left( 2m+{k}'+{ {m}_{0}} \right) \\ \nonumber & k=\left\{ \begin{array}{*{35}{l}} { {k}_{\text{0}}}+4m+2{k}'+\Delta & \text{Configuration type 1} \\ { {k}_{\text{0}}}+6m+{k}'+\Delta & \text{Configuration type 2} \\ \end{array} \right. \\ \nonumber & {k}'=0,1 \\ \nonumber & l=\bar{l}+{l}' \end{align}其中$ l $定义为相对于时隙的起始，$ { {w}_{\text{f}}}\left( { {k}’} \right) $，$ { {w}_{\text{t}}}\left( { {l}’} \right) $和$ \Delta $由Tables 7.4.1.1.2-1 and 7.4.1.1.2-2给定。时域索引$ {l}’ $和所支持的天线端口$p$依赖于DM-RS duration，DM-RS duration根据Table 7.4.1.1.2-3确定。$ \bar{l} $依赖于高层参数DL-DMRS-add-pos，DL-DMRS-add-pos由Table 7.4.1.1.2-4给定。$ { {l}_{0}} $依赖于映射类型：对于PDSCH映射类型A：如果高层参数DL-DMRS-typeA-pos =3则$ { {l}_{0}}=3 $，以及$ { {l}_{0}}=2 $对于PDSCH映射类型B：$ { {l}_{0}} $是DM-RS映射到所调度的PDSCH资源中的第1个OFDM符号Note: More than one additional DM_RS can be configured.用于PDSCH的PT-RS序列生成资源映射UE应假设只有当高层参数DL-PTRS-present指示PT-RS被使用时，并且只在用于PDSCH的RBs中呈现。如果呈现，UE应假设PDSCH PT-RS根据如下公式映射到物理资源\begin{align} \nonumber & a_{k,l}^{(p,\mu )}={ {\beta }_{\text{PTRS}}}r(m) \\ \nonumber & l={ {l}_{\text{DMRS}}}+1+{ {L}_{\text{PTRS}}}\cdot {l}' \\ \nonumber & l'=0,1,2,... \end{align}每$ { {K}_{\text{PTRS}}} $个被调度的RBs中，当下列条件被满足时，从最低编号的RB开始调度（Note: It may not be the lowest numbers RB, FFS if an offset is used.）$l$在用于PDSCH传输的所分配的OFDM符号内RE $ \left( k,l \right) $不用于DM-RS其中索引$k$是一个PRB内的子载波数对于1个符号DM-RS，有$ { {l}_{\text{DM-RS}}}={ {l}_{0}} $；对于2个符号DM-RS，有$ { {l}_{\text{DM-RS}}}={ {l}_{0}}+1 $，其中$ { {l}_{0}} $由1.4.1.1.2节定义$ { {K}_{\text{PTRS}}}\in \left\{ 2,4 \right\} $由[6, TS38.214]给定$ { {L}_{\text{PT-RS}}}\in \left\{ 1,2,4 \right\} $由[6, TS38.214]给定用于PDCCH的DM-RS用于PBCH的DM-RS序列生成UE应假设用于SS/PBCH的参考信号$ r(m) $由下式定义r(m)=\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m) \right)+j\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m+1) \right)其中$ c(n) $由《NR物理信道与调制》2.2节给定。加扰序列生成应在每个SS/PBCH块的起始处通过小区ID $ N_{\text{ID}}^{\text{cell}} $和$ { {n}_{\text{t}}} $被初始化，块时间索引由PBCH DM-RS承载。资源映射资源映射在1.4.3节中描述。CSI-RS序列生成UE应假设参考信号序列$ r(m) $由下式定义r(m)=\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m) \right)+j\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m+1) \right)其中伪随机序列$ c(i) $由《NR物理信道与调制》2.2节定义。资源映射UE应假设序列$ r(m) $根据以下公式映射到物理资源\begin{align} \nonumber & a_{k,l}^{(p,\mu )}={ {\beta }_{\text{CSIRS}}}{ {w}_{\text{f}}}\left( { {k}'} \right)\cdot { {w}_{\text{t}}}\left( { {l}'} \right)\cdot r\left( m \right) \\ \nonumber & k=\bar{k}+{k}' \\ \nonumber & l=\bar{l}+{l}' \end{align}但有以下例外与所配置的CORESET重叠的REs应从CSI-RS传输中排除其中$l$定义为相对于时隙的起始，$ \bar{k} $和$ \bar{l} $由Table 7.4.1.5.2-1和$ { {w}_{\text{f}}}\left( { {k}’} \right),{ {w}_{\text{t}}}\left( { {l}’} \right)\in \left\{ \left[ \begin{matrix}+1 &amp; +1 \\\end{matrix} \right],\left[ \begin{matrix}+1 &amp; -1 \\\end{matrix} \right],\left[ \begin{matrix}-1 &amp; +1 \\\end{matrix} \right],\left[ \begin{matrix}-1 &amp; -1 \\\end{matrix} \right] \right\} $给定。对于每个$ \bar{l} $，有长度为6的bitmap $ \left[ { {b}_{5}}\cdots { {b}_{0}} \right] $]，其中比特$ { {b}_{i}} $隐含地以索引$ j $按递增顺序指示$ { {k}_{j}}=2i $。Tracking RSNote: depending on future decisions, the TRS may become a realization of a CSI-RS in which case this section will be removed.序列产生UE应假设参考信号序列$ r(m) $定义为r(m)=\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m) \right)+j\frac{1}{\sqrt{2}}\left( 1-2\cdot c(2m+1) \right)其中伪随机序列$ c(i) $由《NR物理信道与调制》2.2节定义。资源映射TRS burst由4个OFDM符号组成，并在2个连续时隙内发送。UE应假设TRS在一个burst内根据以下公式映射到物理资源\begin{align} \nonumber & a_{k,l}^{(p,\mu )}={ {\beta }_{\text{TRS}}}r(m) \\ \nonumber & k=4m+{ {k}_{0}} \end{align}The UE may assume that a TRS burst is quasi co-located with respect to delay spread, average delay, Doppler shift, and Doppler spread with the PDSCH DM-RS.同步信号物理层小区ID1008个唯一的物理层小区ID通过下式给定N_{\text{ID}}^{\text{cell}}=3N_{\text{ID}}^{\text{(1)}}+N_{\text{ID}}^{\text{(2)}}其中$ N_{\text{ID}}^{\text{(1)}}\in \left\{ 0,1,…,335 \right\} $且$ N_{\text{ID}}^{\text{(2)}}\in \left\{ 0,1,2 \right\} $。主同步信号序列产生主同步信号序列$ { {d}_{\text{PSS}}}(n) $定义为\begin{align} \nonumber & { {d}_{\text{PSS}}}\left( n \right)=1-2x\left( m \right) \\ \nonumber & m=\left( n+43N_{\text{ID}}^{\text{(2)}} \right)\bmod 127 \\ \nonumber & 0\le n]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[5G-NR物理信道与调制-上行链路v1.0.0]]></title>
      <url>%2F2017%2F09%2F09%2Fnr-v100-l1-channel-modulation-ul%2F</url>
      <content type="text"><![CDATA[上接《NR物理信道与调制》上行链路上行链路概述物理信道概述上行链路物理信道对应于一组资源元素（REs）的集合，用于承载源自高层的信息。本规范定义了如下上行信道：物理上行共享信道（PUSCH）物理上行控制信道（PUCCH）物理随机接入信道（PRACH）物理信号概述上行物理信号是物理层使用的但不承载任何来自高层信息的信号。本规范定义了如下上行物理信号：解调参考信号（Demodulation reference signals，DM-RS）相位跟踪参考信号（Phase-tracking reference signals，PT-RS）探测参考信号（Sounding reference signal，SRS）物理资源本规范定义了下列用于上行链路的天线端口：Antenna ports starting with 1000 for DM-RS associated with PUSCHAntenna ports starting with 2000 for DM-RS associated with PUCCHAntenna ports starting with 3000 for SRSAntenna port 4000 for PRACH物理信道物理上行共享信道加扰对于每个码字$q$，比特块${ {b}^{(q)}}(0),…,{ {b}^{(q)}}(M_{\text{bit}}^{(q)}-1)$应当在调制前被加扰，其中$M_{\text{bit}}^{(q)}$是在物理信道上传输的码字$q$的比特数，加扰后的比特块为${ {\tilde{b}}^{(q)}}(0),…,{ {\tilde{b}}^{(q)}}(M_{\text{bit}}^{\text{(q)}}-1)$。根据如下公式进行加扰{ {\tilde{b}}^{(q)}}(i)=\left( { {b}^{(q)}}(i)+{ {c}^{(q)}}(i) \right)\bmod 2其中加扰序列${ {c}^{(q)}}(i)$由2.2节中给定。注：RAN1还没有正式同意PUSCH加扰部分的内容，3.3.1.1和3.3.1.2节可能需要重新调整。调制对于每个码字$q$，加扰比特块${ {\tilde{b}}^{(q)}}(0),…,{ {\tilde{b}}^{(q)}}(M_{\text{bit}}^{\text{(q)}}-1)$根据Table 6.3.1.2-1中的调制方式进行调制，具体调制方法见2.1节，得到复值调制符号块${ {d}^{(q)}}(0),…,{ {d}^{(q)}}(M_{\text{symb}}^{\text{(q)}}-1)$。层映射每个码字的复值调制符号根据Table 7.3.1.3-1最多映射到4个层。码字$q$ 的复值调制符号${ {d}^{(q)}}(0),…,{ {d}^{(q)}}(M_{\text{symb}}^{\text{(q)}}-1)$被映射到层$x(i)={ {\left[ \begin{matrix}{ {x}^{(0)}}(i) &amp; … &amp; { {x}^{(\upsilon -1)}}(i) \\\end{matrix} \right]}^{T}}$，$i=0,1,…,M_{\text{symb}}^{\text{layer}}-1$，其中$\upsilon $是层数，$M_{\text{symb}}^{\text{layer}}$是每层的调制符号数。变换预编码如果变换预编码（transform precoding）不可用，对于层$\lambda =0,1,…,\upsilon -1$有${ {y}^{(\lambda )}}(i)={ {x}^{(\lambda )}}(i)$。如果变换预编码可用，$\upsilon =1$且复值符号块${ {x}^{(0)}}(0),…,{ {x}^{(0)}}(M_{\text{symb}}^{\text{layer}}-1)$对于单层$\lambda =0$被分为${M_{\text{symb}}^{\text{layer}}}/{M_{\text{sc}}^{\text{PUSCH}}}\;$个集合，每个集合对应于一个OFDM符号。变换预编码根据如下公式进行\begin{align} \nonumber & { {y}^{(0)}}(l\cdot M_{\text{sc}}^{\text{PUSCH}}+k)=\frac{1}{\sqrt{M_{\text{sc}}^{\text{PUSCH}}}}\sum\limits_{i=0}^{M_{\text{sc}}^{\text{PUSCH}}-1}{ { {x}^{(0)}}(l\cdot M_{\text{sc}}^{\text{PUSCH}}+i){ {e}^{-j\frac{2\pi ik}{M_{\text{sc}}^{\text{PUSCH}}}}}} \\ \nonumber & k=0,...,M_{\text{sc}}^{\text{PUSCH}}-1 \\ \nonumber & l=0,...,{M_{\text{symb}}^{\text{layer}}}/{M_{\text{sc}}^{\text{PUSCH}}}\;-1 \end{align}得到复值符号块${ {y}^{(0)}}(0),…,{ {y}^{(0)}}(M_{\text{symb}}^{\text{layer}}-1)$。$M_{\text{sc}}^{\text{PUSCH}}=M_{\text{RB}}^{\text{PUSCH}}\cdot N_{\text{sc}}^{\text{RB}}$，其中$M_{\text{RB}}^{\text{PUSCH}}$表示PUSCH就RB而言的带宽，并且满足M_{\text{RB}}^{\text{PUSCH}}={ {2}^{ { {\alpha }_{2}}}}\cdot { {3}^{ { {\alpha }_{3}}}}\cdot { {5}^{ { {\alpha }_{5}}}}\le N_{\text{RB}}^{\text{UL}}其中${ {\alpha }_{2}},{ {\alpha }_{3}},{ {\alpha }_{5}}$是非负整数集合。预编码根据如下公式对向量块${ {\left[ \begin{matrix}{ {y}^{(0)}}(i) &amp; … &amp; { {y}^{(\upsilon -1)}}(i) \\\end{matrix} \right]}^{T}}$，$i=0,1,…,M_{\text{symb}}^{\text{layer}}-1$进行预编码\left[ \begin{matrix} { {z}^{(0)}}(i) \\ \vdots \\ { {z}^{(P-1)}}(i) \\ \end{matrix} \right]=W\left[ \begin{matrix} { {y}^{(0)}}(i) \\ \vdots \\ { {y}^{(\upsilon -1)}}(i) \\ \end{matrix} \right]其中$i=0,1,…,M_{\text{symb}}^{\text{ap}}-1$，$M_{\text{symb}}^{\text{ap}}=M_{\text{symb}}^{\text{layer}}$。对基于非码本的传输，预编码矩阵$W$在TS 38.214规范中得到。对基于码本的传输，预编码矩阵$W$由Table 6.3.1.5-1给定，其中TPMI索引由调度上行传输的DCI中获得。映射到物理资源为满足TS 38.213规范对PUSCH传输功率${ {P}_{\text{PUSCH}}}$的要求，对于PUSCH传输所使用的每个天线端口，复值符号块${ {z}^{(p)}}(0),…,{ {z}^{(p)}}(M_{\text{symb}}^{\text{ap}}-1)$应当乘以一个幅值因子${ {\beta }_{\text{PUSCH}}}$，然后从${ {z}^{(p)}}(0)$开始依次映射到RE ${ {\left( k,l \right)}_{p,\mu }}$上，并且RE满足如下条件：它们位于用于传输所分配的资源中，且它们不用于DM-RS相关的传输they are not in the OFDM symbols used for transmission of the associated DM-RS in case of transform precoding not enabled.If transform precoding is not enabled, the mapping to resource elements ${ {\left( k,l \right)}_{p,\mu }}$ not reserved for other purposes shall be in increasing order of first the antenna port index $p$, then the index $k$ over the assigned physical resource blocks, and then the index $l$, starting with $l={ {l}_{0}}$.（注： ${ {l}_{0}}$ is the start of UL transmission. Need some reference to 213/214）物理上行控制信道PUCCH支持多种格式，如Table 6.3.2-1所示。对于单个UE，支持采用格式0或格式2的2个PUCCH同时传输，或支持采用格式1或格式3的其中一个PUCCH与采用格式0或格式2的其中一个PUCCH同时传输。PUCCH格式0序列选择定义一组序列$\left\{ \begin{matrix}{ {x}_{0}}(n) &amp; { {x}_{1}}(n) &amp; { {x}_{2}}(n) &amp; { {x}_{3}}(n) \\\end{matrix} \right\}$，每组序列长度为12。比特块$b(0),…,b({ {M}_{\text{bit}}}-1)$其中${ {M}_{\text{bit}}}\in \left\{ 1,2 \right\}$是PUCCH传输的比特数，根据下式选择序列\begin{align} \nonumber & y(n)={ {x}_{j}}(n) \\ \nonumber & j=\sum\nolimits_{i=0}^{ { {M}_{\text{bit}}}-1}{b(i)\cdot { {2}^{i}}} \end{align}映射到资源元素为满足TS 38.213规范对PUCCH传输功率${ {P}_{\text{PUCCH,0}}}$的要求，序列$y(n)$应当乘以一个幅值因子${ {\beta }_{\text{PUCCH,0}}}$。在天线端口$p=2000$，先按$k$，再按$l$的递增顺序从$y(0)$开始映射到RE ${ {\left( k,l \right)}_{p,\mu }}$。PUCCH格式1序列调制比特块$b(0),…,b({ {M}_{\text{bit}}}-1)$按照2.1节所述的方法进行调制，若${ {M}_{\text{bit}}}=1$，则使用BPSK，若${ {M}_{\text{bit}}}=2$，则使用QPSK，得到一个复值符号$d(0)$。复值符号$d(0)$应根据下式乘以一个序列$r_{u,v}^{({ {\alpha }_{p}})}(n)${ {y}^{(p)}}(n)=d(0)\cdot r_{u,v}^{({ {\alpha }_{p}})}(n),\text{ }n=0,1,...,N_{\text{seq}}^{\text{PUCCH}}-1复值符号${ {y}^{(p)}}(0),…,{ {y}^{(p)}}(N_{\text{seq}}^{\text{PUCCH}}-1)$应根据下式采用正交序列${ {w}_{n_{\text{oc}}^{\text{(}p\text{)}}}}(i)$进行块扩展（block-wise spread）{ {z}^{(p)}}\left( m\cdot N_{\text{seq}}^{\text{PUCCH}}+n \right)={ {w}_{n_{\text{oc}}^{\text{(}p\text{)}}}}(m)\cdot { {y}^{(p)}}\left( n \right)其中\begin{align} \nonumber & m=0,...,N_{\text{SF}}^{\text{PUCCH}}-1 \\ \nonumber & n=0,...,N_{\text{seq}}^{\text{PUCCH}}-1 \\ \end{align}映射到物理资源为满足TS 38.213规范对PUCCH传输功率${ {P}_{\text{PUCCH,1}}}$的要求，序列${ {z}^{(p)}}(n)$应当乘以一个幅值因子${ {\beta }_{\text{PUCCH,1}}}$，序列从${ {z}^{(p)}}(0)$开始映射到RE ${ {\left( k,l \right)}_{p,\mu }}$，RE满足下列所有条件：它们位于用于传输的RB中，它们不用于DM-RS相关的传输The mapping to resource elements ${ {\left( k,l \right)}_{p,\mu }}$ not reserved for other purposes shall be in increasing order of first the index $k$ over the assigned physical resource blocks, and then the index $l$.PUCCH格式2PUCCH格式3PUCCH格式4物理随机接入信道序列生成随机接入前导${ {x}_{u,v}}(n)$应根据下式生成\begin{align} \nonumber & { {x}_{u,v}}(n)={ {x}_{u}}((n+{ {C}_{v}})\bmod { {L}_{\text{RA}}}) \\ \nonumber & { {x}_{u}}(i)={ {e}^{-j\frac{\pi ui(i+1)}{ { {L}_{\text{RA}}}}}},i=0,1,...,{ {L}_{\text{RA}}}-1 \end{align}频域符号表示应根据下式生成{ {y}_{u,v}}(n)=\sum\limits_{m=0}^{ { {L}_{\text{RA}}}-1}{ { {x}_{u,v}}(m)\cdot { {e}^{-j\frac{2\pi mn}{ { {L}_{\text{RA}}}}}}}其中${ {L}_{\text{RA}}}=839$或${ {L}_{\text{RA}}}=[127or139]$根据前导格式确定，前导格式由Tables 6.3.3.1-1和6.3.3.1-2给定。循环移位${ {C}_{v}}$给定为\begin{align} \nonumber & C{}_{v}=\left\{ \begin{array}{*{35}{l}} v{ {N}_{\text{CS}}} & \text{v}=\text{0,1,}...\text{,}\left\lfloor { { {L}_{\text{RA}}}}/{ { {N}_{\text{CS}}}}\; \right\rfloor -1,{ {N}_{\text{CS}}}\ne 0 & \text{for unrestricted sets} \\ \text{0} & { {N}_{\text{CS}}}=0 & \text{for unrestricted sets} \\ { {d}_{\text{start}}}\left\lfloor {v}/{n_{\text{shift}}^{\text{RA}}}\; \right\rfloor +\left( v\bmod n_{\text{shift}}^{\text{RA}} \right){ {N}_{\text{CS}}} & v=0,1,...,w-1 & \text{for restricted sets type A and B} \\ { { {\bar{\bar{d}}}}_{\text{start}}}+\left( v-w \right){ {N}_{\text{CS}}} & v=w,...,w+\bar{\bar{n}}_{\text{shift}}^{\text{RA}}-1 & \text{for restricted sets type B} \\ { { {\bar{\bar{\bar{d}}}}}_{\text{start}}}+\left( v-w-\bar{\bar{n}}_{\text{shift}}^{\text{RA}} \right){ {N}_{\text{CS}}} & v=w+\bar{\bar{n}}_{\text{shift}}^{\text{RA}},...,w+\bar{\bar{n}}_{\text{shift}}^{\text{RA}}+\bar{\bar{\bar{n}}}_{\text{shift}}^{\text{RA}}-1 & \text{for restricted sets type B} \\ \end{array} \right. \\ \nonumber & w=n_{\text{shift}}^{\text{RA}}n_{\text{group}}^{\text{RA}}+\bar{n}_{\text{shift}}^{\text{RA}} \end{align}其中${ {N}_{\text{CS}}}$在Table 6.3.3.1-3中给定，高层参数restrictedSetConfig决定了受限集合的类型，6.3.3.1-1和6.3.3.1-2指示了对不同前导格式的受限集合的类型。变量${ {d}_{u}}$给定为{ {d}_{u}}=\left\{ \begin{array}{*{35}{l}} q & 0\le q]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[5G-NR物理信道与调制v1.0.0]]></title>
      <url>%2F2017%2F09%2F09%2Fnr-v100-l1-channel-modulation%2F</url>
      <content type="text"><![CDATA[Marshall：v1.0.0版本已过时，5G NR物理层规范已更新到v1.1.0版本。帧结构与物理资源概述在本规范中，除非另有说明，在时域中的各个域的大小表示为若干时间单位${ {T}_{\text{s}}}={1}/{\left( \Delta { {f}_{\max }}\cdot { {N}_{\text{f}}} \right)}\;$，其中$\Delta { {f}_{\max }}=480\cdot { {10}^{3}}$ Hz，${ {N}_{\text{f}}}=4096$。常量$\kappa ={\Delta { {f}_{\text{max}}}{ {N}_{\text{f}}}}/{\left( \Delta { {f}_{\text{ref}}}{ {N}_{\text{f,ref}}} \right)}\;=64$，其中$\Delta { {f}_{\text{ref}}}=15\cdot { {10}^{3}}\text{ Hz}$，${ {N}_{\text{f,ref}}}=2048$。波形参数支持多种OFDM波形参数，如Table 4.2-1所示，其中载波带宽部分的$\mu$和CP由高层参数给定，下行链路由DL_BWP_mu和DL_BWP_cp给定，上行链路由UL_BWP_mu和UL_BWP_cp给定。帧结构帧和子帧下行与上行链路传输于帧中，一帧的时域为${ {T}_{\text{f}}}=\left( {\Delta { {f}_{\max }}{ {N}_{\text{f}}}}/{100}\; \right)\cdot { {T}_{\text{s}}}=10\text{ ms}$，一帧包含10个子帧，每个子帧时域为${ {T}_{\text{sf}}}=\left( {\Delta { {f}_{\max }}{ {N}_{\text{f}}}}/{1000}\; \right)\cdot { {T}_{\text{s}}}=1\text{ ms}$。每个子帧中的连续OFDM符号数为$N_{\text{symb}}^{\text{subframe},\mu }=N_{\text{symb}}^{\text{slot}}N_{\text{slot}}^{\text{subframe},\mu }$。每帧分为两个相等大小的半帧，每个半帧包含5个子帧。There is one set of frames in the uplink and one set of frames in the downlink on a carrier.来自UE的上行帧$i$应在UE对应的下行帧开始前${ {T}_{\text{TA}}}={ {N}_{\text{TA}}}{ {T}_{\text{s}}}$传输。时隙对于子载波间隔配置$\mu$，时隙在子帧内按递增顺序编号$n_{\text{s}}^{\mu }\in \left\{ 0,…,N_{\text{slot}}^{\text{subframe,}\mu }-1 \right\}$，在帧内按递增顺序编号$n_{\text{s,f}}^{\mu }\in \left\{ 0,…,N_{\text{slot}}^{\text{frame,}\mu }-1 \right\}$。一个时隙内有$N_{\text{symb}}^{\text{slot}}$个连续的OFDM符号，$N_{\text{symb}}^{\text{slot}}$依赖于CP长度，并且由Tables 4.3.2-1和4.3.2-2给定。子帧内的起始时隙$n_{\text{s}}^{\mu }$与子帧内起始OFDM符号$n_{\text{s}}^{\mu }N_{\text{symb}}^{\text{slot}}$在时间上对齐。Agreements:A slot can contain all downlink, all uplink, or {at least one downlink part and at least one uplink part}There are also agreements on various semi-static configurations with different periodicities物理资源天线端口天线端口定义为，在同一天线端口上，某一符号上的信道可以由另一符号上的信道推知。如果一个天线端口上某一符号传输的信道的大尺度性能可以被另一天线端口上某一符号传输的信道所推知，则这两个天线端口被称为quasi co-located。大尺度性能包括一个或多个延时扩展，多普勒扩展，多普勒频移，平均增益，平均时延和空间接收参数。资源格对于每种波形参数和载波，资源格由$N_{\text{RB,}x}^{\mu }N_{\text{sc}}^{\text{RB}}$个子载波和$N_{\text{symb}}^{\text{subframe},\mu }$个OFDM符号定义，其中$x$表示DL或UL，$N_{\text{RB,}x}^{\text{max,}\mu }$由Table 4.4.2-1给定。在不至于混淆的情况下，下标$x$可省略。每个天线端口$p$，每个子载波间隔配置$\mu$以及每个传输方向（上行或下行）对应一个资源格。资源元素天线端口$p$和子载波间隔配置$\mu$下的资源格中每个元素被称为资源元素（Resource Element，RE），它用索引对$\left( k,l \right)$唯一地标识，其中$k=0,…,N_{\text{RB}}^{\mu }N_{\text{sc}}^{\text{RB}}-1$是频域索引，$l$是时域符号索引。天线端口$p$和子载波间隔配置$\mu$下的RE $\left( k,l \right)$表示为${ {\left( k,l \right)}_{p,\mu }}$，相应的复数值表示为$a_{k,l}^{(p,\mu )}$。在不至于混淆的情况下，或在没有特定的天线端口或子载波间隔的情况下，索引$p$和$\mu$可以省略，简写为$a_{k,l}^{(p)}$或${ {a}_{k,l}}$。一个资源元素（RE）分为4类：‘uplink’, ‘downlink’, ‘flexible’, or ‘reserved’。如果RE被配置为‘reserved’， UE不应在上行链路中对该RE发送任何内容，也不对下行链路中的RE内容作出任何假设。资源块一个物理资源块（PRB）在频域上定义为$N_{\text{sc}}^{\text{RB}}=12$连续的子载波。PRB在频域上从0到$N_{\text{RB}}^{\mu }-1$编号。频域上的PRB数${ {n}_{\text{PRB}}}$和RE $(k,l)$的关系由下式给定：{ {n}_{\text{PRB}}}=\left\lfloor \frac{k}{N_{\text{sc}}^{\text{RB}}} \right\rfloor载波带宽part对于给定的载波上的波形参数${ {\mu }_{i}}$，载波带宽part（bandwidth part，BWP）是一组连续的PRB。BWP中的RB从0到$N_{\text{RB,}x}^{\mu }-1$编号，其中$x$表示DL或UL，with $N_{\text{BWP}}^{i}$ being the offset between PRB 0 in the absolute resource block grid in clause 1.4.4 and PRB 0 in carrier bandwidth part number $i$。BWP中的RB数应满足$N_{\text{RB, }x}^{\text{min, }\mu }\le N_{\text{RB,}x}^{\mu }\le N_{\text{RB, }x}^{\text{max, }\mu }$，其中最小值和最大值在Table 4.4.2-1中给定。下行链路中，UE可配置具有一个或多个载波BWP，所述载波BWP的子集在给带时间处于激活状态。UE不希望在BWP以外的频带接收PDSCH或PDCCH。在上行链路中，UE可配置为具有一个或多个载波BWP，所述载波BWP的子集在给定时间处于激活状态。UE不希望在BWP以外的频带发送PUSCH或PUCCH。载波聚合在多个小区中的传输可以被聚合，除了主小区外，最多可以使用15个辅小区。除非另有说明，本规范中的描述适用于多达16个服务小区中的每一个。通用函数调制映射器调制映射器采用二进制0或1作为输入，产生复值调制符号作为输出。π/2-BPSK对于π/2-BPSK调制，比特$b(i)$根据下式映射为复值调制符号$x$x=\frac{ { {e}^{j{i\pi }/{2}\;}}}{\sqrt{2}}\left[ \left( 1-2b(i) \right)+j\left( 1-2b(i) \right) \right]BPSK对于BPSK调制，比特$b(i)$根据下式映射为复值调制符号$x$x=\frac{1}{\sqrt{2}}\left[ \left( 1-2b(i) \right)+j\left( 1-2b(i) \right) \right]QPSK对于QPSK调制，成对比特$b(i),b(i+1)$根据下式映射为复值调制符号$x$x=\frac{1}{\sqrt{2}}\left[ \left( 1-2b(i) \right)+j\left( 1-2b(i+1) \right) \right]16QAM对于16QAM调制，四位比特$b(i),b(i+1),b(i+2),b(i+3)$根据下式映射为复值调制符号$x$x=\frac{1}{\sqrt{10}}\left[ \left( 1-2b(i) \right)\left( 2-\left( 1-2b(i+2) \right) \right)+j\left( 1-2b(i+1) \right)\left( 2-\left( 1-2b(i+3) \right) \right) \right]64QAM对于64QAM调制，六位比特$b(i),b(i+1),b(i+2),b(i+3),b(i+4),b(i+5)$根据下式映射为复值调制符号$x$\begin{align} \nonumber & x=\frac{1}{\sqrt{42}}\left[ \left( 1-2b(i) \right)\left( 4-\left( 1-2b(i+2) \right)\left( 2-\left( 1-2b(i+4) \right) \right) \right) \right. \\ \nonumber & \ \ \ \ \ \ \left. +j\left( 1-2b(i+1) \right)\left( 4-\left( 1-2b(i+3) \right)\left( 2-\left( 1-2b(i+5) \right) \right) \right) \right] \\ \end{align}256QAM对于256QAM调制，八位比特$b(i),b(i+1),b(i+2),b(i+3),b(i+4),b(i+5),b(i+6),b(i+7)$根据下式映射为复值调制符号$x$\begin{align} \nonumber & x=\frac{1}{\sqrt{170}}\left[ \left( 1-2b(i) \right)\left( 8-\left( 1-2b(i+2) \right)\left( 4-\left( 1-2b(i+4) \right)\left( 2-\left( 1-2b(i+6) \right) \right) \right) \right) \right. \\ \ \ \ \nonumber & \left. +j\left( 1-2b(i+1) \right)\left( 8-\left( 1-2b(i+3) \right)\left( 4-\left( 1-2b(i+5) \right)\left( 2-\left( 1-2b(i+7) \right) \right) \right) \right) \right] \end{align}伪随机序列生成伪随机序列由长度为31的Gold序列定义。长度为${ {M}_{\text{PN}}}$的输出序列$c(n)$，其中$n=0,1,…,{ {M}_{\text{PN}}}-1$，由下式定义\begin{align} \nonumber & c(n)=\left( { {x}_{1}}(n+{ {N}_{C}})+{ {x}_{2}}(n+{ {N}_{C}}) \right)\bmod 2 \\ \nonumber & { {x}_{1}}(n+31)=\left( { {x}_{1}}(n+3)+{ {x}_{1}}(n) \right)\bmod 2 \\ \nonumber & { {x}_{2}}(n+31)=\left( { {x}_{2}}(n+3)+{ {x}_{2}}(n+2)+{ {x}_{2}}(n+1)+{ {x}_{2}}(n) \right)\bmod 2 \end{align}其中${ {N}_{C}}=1600$，第一m序列应由${ {x}_{1}}(0)=1,{ {x}_{1}}(n)=0,n=1,2,…,30$初始化。第二m序列的初始化由${ {c}_{\text{init}}}=\sum\nolimits_{i=0}^{30}{ { {x}_{2}}(i)\cdot { {2}^{i}}}$表示，其值取决于序列的应用。OFDM基带信号生成对除PRACH以外的任何物理信道或信号，对于一个子帧内的OFDM符号$l$，天线端口$p$和子载波间隔配置$\mu$下的时间连续信号$s_{l}^{(p,\mu )}\left( t \right)$定义为s_{l}^{(p,\mu )}\left( t \right)=\sum\limits_{k=-\left\lfloor N_{\text{RB}}^{\mu }N_{\text{sc}}^{\text{RB}}/2 \right\rfloor }^{ { {\left\lceil N_{\text{RB}}^{\mu }N_{\text{sc}}^{\text{RB}}/2 \right\rceil }^{ {}}}-1}{a_{ {k}',\bar{l}}^{(p,\mu )}\cdot { {e}^{j2\pi \left( k+{ {k}_{0}} \right)\Delta f\left( t-{ {N}_{\text{CP},\bar{l}}}\cdot { {T}_{\text{s}}} \right)}}}其中$0\le t&lt;\left( { {N}_{\text{u}}}+N_{\text{CP},\bar{l}}^{\mu } \right){ {T}_{\text{s}}}$且${k}’=k+\left\lfloor {N_{\text{RB}}^{\mu }N_{\text{sc}}^{\text{RB}}}/{2}\; \right\rfloor $。The value of ${ {k}_{0}}$ is such that the lowest numbered subcarrier in a resource block for subcarrier spacing configuration $\mu$ coincides with the lowest numbered subcarrier in a resource block for any subcarrier spacing configuration less than $\mu$.子载波间隔配置$\mu$下的OFDM符号$l$的起始位置为t_{\text{start},l}^{\mu }=\left\{ \begin{array}{*{35}{l}} 0 & l=0 \\ t_{\text{start},\bar{l}-1}^{\mu }+\left( { {N}_{\text{u}}}+N_{\text{CP,}l-1}^{\mu } \right)\cdot { {T}_{\text{s}}} & \text{otherwise} \\ \end{array} \right.其中\begin{align} \nonumber & { {N}_{\text{u}}}=2048\kappa \cdot { {2}^{-\mu }} \\ \nonumber & { {N}_{\text{CP},\bar{l}}}=\left\{ \begin{array}{*{35}{l}} 512\kappa \cdot { {2}^{-\mu }} & \text{extended cyclic prefix} \\ 144\kappa \cdot { {2}^{-\mu }}+16\kappa & \text{normal cyclic prefix and }l=0\text{ or }l=7 \\ 144\kappa \cdot { {2}^{-\mu }} & \text{otherwise} \\ \end{array} \right.\cdot { {2}^{\mu }} \\ \nonumber & \end{align}对于PRACH，天线端口$p$下的时间连续信号$s_{l}^{(p,\mu )}\left( t \right)$定义为s_{l}^{(p,\mu )}\left( t \right)=\sum\limits_{k=-\left\lfloor { {L}_{\text{RA}}}/2 \right\rfloor }^{ { {\left\lceil { {L}_{\text{RA}}}/2 \right\rceil }^{ {}}}-1}{a_{ { {k}'}}^{(p,\text{RA})}\cdot { {e}^{j2\pi \left( k+{ {k}_{0}} \right)\Delta { {f}_{\text{RA}}}\left( t-{ {N}_{\text{CP},l}}\cdot { {T}_{\text{s}}} \right)}}}其中$0\le t&lt;\left( { {N}_{\text{u}}}+N_{\text{CP},l}^{\mu } \right){ {T}_{\text{s}}}$且${k}’=k+\left\lfloor { { {L}_{\text{RA}}}}/{2}\; \right\rfloor $。一个子帧内PRACH前导的起始位置由$t_{\text{start}}^{\text{RA}}$给定，假设子帧始于$t=0$，其中对于$\Delta { {f}_{\text{RA}}}\in \left\{ 15,30,60,120 \right\}\text{ kHz}$，有$t_{\text{start}}^{\text{RA}}=t_{\text{start},l}^{\mu }$ for some $l$${ {L}_{\text{RA}}}$和${ {N}_{\text{u}}}$在3.3.3节给定，并且有${ {N}_{\text{CP},l}}=N_{\text{CP}}^{\text{RA}}+n\cdot 16\kappa $，其中对于$\Delta { {f}_{\text{RA}}}\in \left\{ 1.25,5 \right\}\text{ kHz}$，$n=0$对于$\Delta { {f}_{\text{RA}}}\in \left\{ 15,30,60,120 \right\}\text{ kHz}$，$n$ is the number of times the interval $\left[ t_{\text{start}}^{\text{RA}},t_{\text{start}}^{\text{RA}}+\left( N_{\text{u}}^{\text{RA}}+N_{\text{CP}}^{\text{RA}} \right){ {T}_{\text{s}}} \right]$ overlaps with either time instance 0 or time instance $\left( {\Delta { {f}_{\max }}{ {N}_{\text{f}}}}/{500}\; \right)\cdot { {T}_{\text{s}}}=0.5\text{ ms}$ in a subframe调制和上变频对于天线端口$p$和子载波间隔配置$\mu$，复值OFDM基带信号调制和上变频至载频${ {f}_{0}}$\operatorname{Re}\left\{ s_{l}^{(p,\mu )}\left( t \right)\cdot { {e}^{j2\pi { {f}_{0}}t}} \right\}上行链路为避免本页面过于冗长，上行链路另起一页。下行链路为避免本页面过于冗长，下行链路另起一页。相关链接NR物理层概述NR物理层提供的服务NR复用与信道编码NR物理层过程（控制）]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[5G-NR物理层提供的服务v1.0.0]]></title>
      <url>%2F2017%2F09%2F08%2Fnr-v100-l1-service%2F</url>
      <content type="text"><![CDATA[物理层的服务和功能概述物理层向高层提供数据传输服务。这些服务的接入是通过使用MAC子层的传输信道实现的。传输块被定义为MAC层向物理层交付的数据，反之亦然。传输块在每一个TTI内进行交付（注：这句话有待进一步讨论）。L1功能概述正如3GPP TS 38.201规范中所提到的，物理层向高层提供数据传输服务。为了提供数据传输服务，物理层预期执行以下功能：传输信道的差错检测并指示给高层传输信道的前向纠错（FEC）编码/解码混合自动重传请求（HARQ）软合并编码的传输信道到物理信道的速率匹配编码的传输信道到物理信道的映射物理信道的功率加权物理信道的调制和解调频域和时间同步无线特性测量并指示给高层MIMO天线处理射频处理对于每个传输信道，L1功能的建模详见2.1和2.2节。UE的物理层模型5G-NR物理层模型capture以下与物理层相关的特性：向下传递到物理层或从物理层上传道高层数据的结构；高层能够配置物理层的方法；物理层向高层提供不同的指示（错误指示，信道质量指示等）上行链路模型上行共享信道上行共享信道（UL-SCH）传输的物理层模型基于PUSCH物理层处理的相应链路。如Figure 5.1.1-1所示，用蓝色突出显示的部分是高层可配置的。高层数据传到或来自物理层CRC和传输块错误指示FEC和速率匹配数据调制映射到物理资源多天线处理L1控制信令的支持随机接入信道随机接入信道传输的物理层模型通过PRACH前导格式来表征。PRACH前导格式由循环前缀，前导和保护时间间隔组成。下行链路模型下行共享信道下行共享信道传输的物理层模型基于PDSCH物理层处理的相应链路。如Figure 5.2.1-1所示，用蓝色突出显示的部分是高层可配置的。高层数据传到或来自物理层CRC和传输块错误指示FEC和速率匹配数据调制映射到物理资源多天线处理L1控制信令的支持广播信道广播信道传输的物理层模型由一个固定预定义的传输格式来表征。BCH每80ms一个传输块。广播信道的物理层模型基于PBCH物理层处理的相应链路，如Figure 5.2.2-1所示。高层数据传到或来自物理层CRC和传输块错误指示FEC和速配匹配数据调制映射到物理资源多天线处理寻呼信道Parallel transmission of simultaneous Physical channels and SRSThis clause describes the requirements from the UE to send and receive on multiple Physical and Transport Channels and SRS simultaneously depending on the service capabilities and requirements.上行链路下行链路物理层提供的测量UE测量UE测量的列表和定义提供在3GPP TS 38.215中。相关链接NR物理层概述NR物理信道与调制NR复用与信道编码NR物理层过程（控制）]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[5G-NR物理层概述v1.0.0]]></title>
      <url>%2F2017%2F09%2F08%2Fnr-v100-general-description%2F</url>
      <content type="text"><![CDATA[5G-NR物理层协议由如下7个规范构成。[1] 3GPP TS 38.201: “NR物理层概述”[2] 3GPP TS 38.202: “NR物理层提供的服务”[3] 3GPP TS 38.211: “NR物理信道与调制”[4] 3GPP TS 38.212: “NR复用与信道编码”[5] 3GPP TS 38.213: “NR物理层过程（控制）”[6] 3GPP TS 38.214: “NR物理层过程（数据）”[7] 3GPP TS 38.215: “NR物理层测量”其中[1]是概述性文档，其他六个是具体规范文档。与LTE规范不同的是，物理层提供的服务单独为一个文档，物理层过程一分为二，分为控制和数据两个部分。本文的依据是 3GPP TS 38.200系列2017-09版本。NR物理层概述与其他层的关系总体协议架构本部分描述的无线接口指用户终端（UE）和网络之间的接口，包括L1，L2和L3。3GPP TS 38.200系列规范对L1（物理层）进行描述。L2和L3的描述见TS 38.300系列规范。图1显示的是与物理层相关的NR无线接口协议体系结构。物理层连接L2的媒体介入控制子层（MAC）、以及L3的无线资源控制（RRC）层。图中不同层/子层之间的圈表示服务接入点（SAPs）。物理层向MAC层提供传输信道。传输信道的特性通过信息在无线接入口上的传输方式确定。MAC向L2的无线链路控制（RLC）子层提供不同的逻辑信道。逻辑信道的特性通过传输信息的类型确定。提供给上层的服务物理层向高层提供数据传输服务，这些服务的接入是通过使用MAC子层的传输信道实现的。具体内容详见[2]。物理层概述多址接入NR物理层多址接入方案基于OFDM+CP。上行链路支持DFT-s-OFDM（Discrete Fourier Transform-spread-OFDM）+CP。为支持成对和不成对的频谱，FDD和TDD都被支持。L1基于资源块以带宽不可知的方式定义，从而允许NR L1适用于不同频谱分配。一个资源块（RB）以给定的子载波间隔占用12个子载波。一个无线帧时域为10ms，由10个子帧组成，每个子帧为1ms。一个子帧包含1个或多个相邻的时隙，每个时隙有7或14个相邻的符号。帧结构的进一步细节详见[2]。物理信道与调制下行定义的物理信道如下：物理下行共享信道（PDSCH）物理下行控制信道（PDCCH）物理广播信道（PBCH）上行定义的物理信道如下：物理随机接入信道（PRACH）物理上行共享信道（PUSCH）物理上行控制信道（PUCCH）定义的信号包括：参考信号、主和辅同步信号支持的调制方式有：下行支持QPSK，16QAM，256QAM上行支持：对于OFDM+CP有QPSK, 16QAM, 64QAM，256QAM；对于DFT-s-OFDM+CP有π/2-BPSK, QPSK, 16QAM, 64QAM，256QAM信道编码与交织传输块的信道编码方案采用准循环LDPC（quasi-cyclic LDPC）码，QC-LDPC采用2个BG（base graphs），每个BG 8个奇偶校验矩阵集合。One base graph is used for code blocks larger than a certain size or with initial transmission code rate higher than a threshold; otherwise, the other base graph is used. Before the LDPC coding for large transport blocks, the transport block is segmented into multiple code blocks. 对于比较大的传输块，在LDPC编码前要先传输块分割为多个码块。PBCH和控制信息的编码方案采用基于嵌套序列的极化码（Polar coding）。支持三种速配匹配方案：Puncturing, shortening and repetition are used for rate matching。信道编码方案的进一步细节详见[4]。物理层过程涉及多个物理层过程。物理层所涵盖的此类过程有：小区搜索功率控制上行同步和上行定时控制随机接入相关过程HARQ相关过程波束管理和CSI相关过程通过对物理层资源在频域、时域和功率域的控制，隐式地支持干扰协调。物理层测量无线特性由UE和网络测量并上报到高层。这些措施包括，例如，测量频率内和频率间切换、RAT间切换，定时测量，RRM测量。对RAT间切换的策略定义为对切换到E-UTRA的支持。物理层规范的文档结构概述物理层规范由一个概述文档（TS 38.201）和六个具体文档（TS 38.202和38.211-38.215）构成。通过高层的关联，物理层各部分规范之间的关系如图2所示。TS 38.201：物理层概述描述范围：物理层的内容在何处查找信息TS 38.202：物理层提供的服务描述范围是物理层提供的服务，规定以下内容：物理层的服务和功能；UE的物理层模型；物理信道和SRS的并行传输；物理层提供的测量TS 38.211：物理层信道与调制该部分确立物理层信道的特性，物理层信号的生成和调制，规定以下内容：上行和下行物理信道的定义；帧结构和物理资源；调制映射（BPSK，QPSK等）OFDM符号生成；加扰、调制和上变频；层映射和预编码；上行和下行物理共享信道；上行和下行参考信号；物理随机接入信道；主、辅同步信号TS 38.212：复用和信道编码该部分描述传输信道和控制信道数据的处理，包括复用技术，信道编码和交织，规定以下内容：信道编码方案；速率匹配；上行传输信道和L1/L2控制信息的编码；下行传输信道和L1/L2控制信息的编码TS 38.213：物理层过程（控制）该部分确立用于控制的物理层过程的特性，规定以下内容：同步过程；上行功率控制；随机接入过程；用于报告控制信息的UE过程；用于接收控制信息的UE过程TS 38.214物理层过程（数据）该部分确立用于数据的过程层过程的特性，规定以下内容：功率控制；物理下行共享信道相关过程；物理上行共享信道相关过程；TS 38.215物理层测量该部分确立物理层测量的特性，规定以下内容：UE/NG-RAN的控制测量；对NR能力的测量]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（19）当我们谈论design-snr时我们在谈论什么]]></title>
      <url>%2F2017%2F08%2F26%2Fpolar-code-19-design-snr%2F</url>
      <content type="text"><![CDATA[前言本文对论文“A Comparative Study of Polar Code Constructions for the AWGN Channel”进行解读。极化码构造论文首先锁定了讨论的范围是极化码构造。极化码是线性分组码，极化码的码长N一旦确定，其生成矩阵随之确定；此时，比特信道的选择就完全地定义了一个极化码，不同的比特信道位置，其对应的编码结果不同。因此将比特信道的选择过程称为“极化码构造”（polar code construction）。极化码构造对于有限码长的最佳性能至关重要。极化码的构造在理论上有明确地定义，无非是从N个比特信道中选择最可靠的K个子信道。但现实的挑战是，你怎么知道哪些子信道是最可靠的？——极化信道的可靠性估计。于是引出了许多估计方法，如巴氏参数界法、蒙特卡洛估计法、TPM估计法、高斯近似法。design-snr极化码有个重要特性就是它的非普遍性（non-universality）。不同的极化码在给定的不同SNR下是不同的。实际的无线信道，其SNR是可能变化的。但我们不希望编码总是跟着信道SNR变化。因此我们希望有一个“一劳永逸”的解决方案，只设定一个SNR值，让它能够适用于一定范围内变化的SNR。这个SNR值被称为design-snr。那么design-snr值究竟是多少呢？它等于多少时才使极化码性能达到最优呢？能够使极化码性能最优的design-snr就是the best design-snr。本论文的目的，就是找到the best design-snr。作者指出极化码性能取决于三个因素，码率、码长和码构造算法。这意味着不同的码率、不同的码长、不同的码构造算法，the best design-snr也可能不同。再进一步明确本论文的目的，在规定的码率和码长（R=0.5，N=2048）下，分别找到不同码构造算法对应的最优design-snr。the best design-snr怎么找？作者给出了一个搜索算法，其实就是试数法。假如我们感兴趣的SNR范围是{S1,S2,…,Sm}。令design-snr依次取每一个Si值，看看在哪个Si下，对应的码构造算法性能最优。使性能最优的那个Si值就是我们要找的the best design-snr。如上图所示，高斯近似法在N=2048，R=0.5的条件下，性能最好的是那条蓝色实线，其对应的design-snr=-1.5917dB。这就是要找的the best design-snr。也就是说，在感兴趣的SNR={-1.5917,0,1,2,…,10}dB中，使高斯近似法性能达到最优的design-snr=-1.5917dB。So, -1.5917 dB is the best design-snr for GA.反过来看，这个最佳design-snr对大多范围内的SNR有效呢？上图的横坐标是EbN0，纵坐标是BER。如果要使BER性能达到10-3以下，在给定最佳design-snr下，EbN0大约只需2.4dB。对需要满足的BER性能指标，所需EbN0越小越好。而众多感兴趣的SNR值中，只有在最佳design-snr下，所需EbN0是最小的。换句话说，如果所用的 design-snr不是最佳design-snr，要满足一定的BER性能，所需要的EbN0就要更大一些，这意味着对信道条件的要求更苛刻一些。$SNR=\frac{ { {E}_{s}}}{ { {N}_{0}}}=R\cdot \frac{ { {E}_{b}}}{ { {N}_{0}}}$写成dB形成：$SNR\left( dB \right)=EbN0\left( dB \right)+10\log 10\left( R \right)$$SNR\left( dB \right)=2.4+10\log 10\left( 0.5 \right)=-0.6dB$也就是说，对于高斯近似法，在最佳design-snr=-1.5917dB下，要达到BER=10-3的性能，所需SNR只要-0.6dB。换言之，对于高斯近似法，要达到BER=10-3的性能，对于N=2048，R=0.5，只要信道SNR大于-0.6dB，这个最佳design-snr值就是适用的。如此看来，design-snr意义非凡。参考文献[1] Vangala H, Viterbo E, Hong Y. A comparative study of polar code constructions for the AWGN channel[J]. arXiv preprint arXiv:1501.02473, 2015.相关链接Polar Code（18）比特信道的选择]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（18）比特信道的选择]]></title>
      <url>%2F2017%2F08%2F24%2Fpolar-code-18-select-bitchannel%2F</url>
      <content type="text"><![CDATA[前言本文源于《Polar Code（6）SC译码算法》评论区的讨论，受到启发后重新梳理了关于巴氏参数法、高斯近似、degign-snr的认识。极化码构造原则Arikan在论文[1]指出极化码构造原则：Polar code construction rule. To construct an $\left( N,K \right)$ polar code for a B-DMC $W$, we select $A$ as the subset of indices $A\subset \left\{ 1,…,N \right\}$ such that $\left| A \right|=K$ and for each $i\in A$, the value $Z\left( W_{N}^{\left( i \right)} \right)$ is among the smallest $K$ values in the set $\left\{ Z\left( W_{N}^{\left( i \right)} \right):j=1,…,N \right\}$. The choice of the frozen vector $f_{1}^{\left| { {A}^{c}} \right|}$ is unspecified; any choice $\left( A,f_{1}^{\left| { {A}^{c}} \right|} \right)$ defines a polar code.巴氏参数$Z\left( W \right)$，对任意B-DMC $W$ 定义为：\begin{align} Z\left( W \right)=\sum\limits_{y\in Y}{\sqrt{W\left( y|0 \right)W\left( y|1 \right)}} \end{align}$Z\left( W \right)$与信道容量$I\left( W_{N}^{\left( i \right)} \right)$成反比，$I\left( W_{N}^{\left( i \right)} \right)$越大，$Z\left( W_{N}^{\left( i \right)} \right)$越小。信道极化的特性是，一部分子信道的容量趋于1，一部分子信道的容量趋于0。构造极化码时自然要选择容量较大的子信道来放置信息比特，也就是选择$Z\left( W_{N}^{\left( i \right)} \right)$最小的$K$个子信道。这就是Arikan定义的极化码构造原则。但问题是巴氏参数如何计算？巴氏参数的计算在B-DMC $W$ 下，有结论：\begin{align} Z\left( W_{2N}^{\left( 2i-1 \right)} \right)\le 2Z\left( W_{N}^{\left( i \right)} \right)-Z{ {\left( W_{N}^{\left( i \right)} \right)}^{2}} \end{align}\begin{align} Z\left( W_{2N}^{\left( 2i \right)} \right)\text{=}Z{ {\left( W_{N}^{\left( i \right)} \right)}^{2}} \end{align}当且仅当$W$是BEC时，式（2）等号成立。在BEC下，信道转移概率$W_{N}^{\left( i \right)}$可由BEC的删除概率得到：\begin{align} \varepsilon _{2k}^{\left( 2j-1 \right)}=2\varepsilon _{k}^{\left( j \right)}-{ {\left[ \varepsilon _{k}^{\left( j \right)} \right]}^{2}} \end{align}\begin{align} \varepsilon _{2k}^{\left( 2j \right)}\text{=}{ {\left[ \varepsilon _{k}^{\left( j \right)} \right]}^{2}} \end{align}递归初始值为$\varepsilon _{1}^{\left( 1 \right)}=\varepsilon $。注意此时信道条件已经由B-DMC缩小到BEC。$Z\left( W_{N}^{\left( i \right)} \right)$由$W_{N}^{\left( i \right)}$得到，而$W_{N}^{\left( i \right)}$由$\varepsilon $得到。那么$\varepsilon $从何而来？答案是自己给定。这和实际不相符啊，在实际的信道编码中怎么自己给定？这个问题先存疑，先叙述后面的内容。只有在BEC时，才能按照式（1）求解巴氏参数。不是BEC的情况下，式（2）是不等式，没办法精确求解。这就是为什么说巴氏参数法不适用于非BEC信道。但此路不通，可以绕着走。巴氏参数界观察不等式（2），$Z\left( W_{2N}^{\left( 2i-1 \right)} \right)$的上界是$2Z\left( W_{N}^{\left( i \right)} \right)-Z{ {\left( W_{N}^{\left( i \right)} \right)}^{2}}$,只有当BEC信道时达到上界。换句话说，式（2~3）表达的是巴氏参数界。式（1~5）是按正向思维的推导，得出了巴氏参数界。下面就是逆向思维的应用了。巴氏参数界有如此良好的特性，这正是我们所需要的。不用搭梯子，直接空降。直接利用巴氏参数界的结论，是对巴氏参数计算的一种简化，跳出了BEC的限制条件，让它适用于更广泛的信道。这就是论文[2]关于PCC-0所说的：A pair of upper bounds on the Bhattacharyya parameters of bit-channels evolve as simply as $\left\{ z,z \right\}\to \left\{ 2z-{ {z}^{2}},{ {z}^{2}} \right\}$ at each polarizing transform $F$. Due to its simplicity, this construction has been widely used, and produced good polar codes.看来重要的是利用这个结论，使计算得到简化。否则，按正向思维从式（1）到式（5），对于其他信道而言，计算不等式将是非常麻烦的。有文献说“巴氏参数”只适用于BEC信道，这是对的。脱离了BEC，等号就是不能成立，就是不能计算。正向思维受阻。有文献说“巴氏参数界”适用于BWAGN信道，这也是对的。直接利用结论，对巴氏参数的计算进行简化，照样可以计算。简化思维突破限制。这两种说法都对，但说的不是一回事。后者是前者的演进（evolution）。高斯近似比特信道的选择，除了利用巴氏参数，更广泛采用的是高斯近似法。三个递归式：\begin{align} m_{2N}^{\left( 2i\text{-}1 \right)}={ {\varphi }^{-1}}\left( 1-{ {\left[ 1-\varphi \left( m_{N}^{\left( i \right)} \right) \right]}^{2}} \right) \end{align}\begin{align} m_{2N}^{\left( 2i \right)}=2m_{N}^{\left( i \right)} \end{align}\begin{align} m_{1}^{\left( 1 \right)}={2}/{ { {\sigma }^{2}}}\; \end{align}这里有两个高斯随机变量，一个是原始信道，一个LLR。LLR是所要构造的高斯随机变量，满足方差是均值的2倍。即LLR的方差由其均值m得到，其均值m由式（6~8）递归得到。其中${ {\sigma }^{2}}$是原始信道的方差。那么${ {\sigma }^{2}}$从何而来？答案是自己给定。前面说巴氏参数计算的时候，$\varepsilon $就需要自己给定；而高斯近似法，${ {\sigma }^{2}}$也需要自己给定。这些参数共同点，都是原始信道的参数。极化码必须要事先假定原始信道参数，在每个瞬间，无线信道参数都可能不同，使用不同原始信道参数得到的极化码也不同。这就是极化码的特点。因此论文[2]说：An important characteristic of polar codes is their non-universality. That is, different polar codes are generated depending on the specified value of signal-to-noise ratio (SNR), known as the design-SNR. A change in operating SNR is possible in practice but a change in code according to SNR is not desirable. Therefore we wish to construct a polar code at one design-SNR and use it for a range of possible SNRs.在实际信道中SNR就是变化的，但根据每一种SNR来改变编码则是困难的。我们不希望由于无线信道的不断变化而在编码时做出频繁地调整，因此作者提出在design-SNR的框架下，能够实现“一对多”，即一个design-SNR值能够适用于在一定范围内变化的SNR。这篇论文的目的就是找到最优的design-SNR值。design-snrdesign-snr用于极化码的设计，它和实际信道的SNR不是一回事，而是“一对多”的关系。希望用一个design-snr适配于一定范围的SNR。design-snr有如下定义：\begin{align} design-snr=R\cdot \frac{ { {E}_{b}}}{ { {N}_{0}}}=\frac{K}{N}\cdot \frac{ { {E}_{b}}}{ { {N}_{0}}} \end{align}文献[2]在design-snr的框架下，分别对以下4种算法重新进行了定义：Algorithm PCC-0 : The Bhattacharyya boundsAlgorithm PCC-1 : The Monte-Carlo estimationAlgorithm PCC-2 : The full TPM estimationAlgorithm PCC-3 : The Gaussian approximationdesign-snr不是通过计算得来的，而是直接给定。作者指出，最优design-snr是码率、码长和构造算法的函数。得到最优design-snr并不容易，作者是通过搜索算法进行大量的仿真试验，得到了这四种构造算法分别对应的最优design-snr：PCC-0 @ 0dBPCC-1 @ 1dBPCC-2 @ -1.5917dBPCC-3 @ -1.5917dB也就是说，design-snr是基于大量仿真的经验值。在各自最优的design-snr下，四种算法的BER性能非常接近，性能都非常好。根据这个经验值，使用不同的构造方法，选择对应的最优design-snr值即可。这是个“一劳永逸”的办法，一次性完成比特信道的选择，此后无论信道SNR环境如何变化（当然也是在一定范围内变化），都按照这个最优design-snr来安排比特位置。当选用其中一种算法后，决定design-snr的因素就只剩下码率和码长。在实际编码中，可在发送端和接收端都建立一张二维列表，根据不同的码率和码长，选用相应的design-snr。当然这张表格中的值都是基于大量仿真结果的经验值。把SNR与编码的强相关变成弱相关，直至变成不相关。把极化码的非通用性向着通用性方向改造。这是对极化编码非常重要的简化。总结design-snr和高斯近似是一个比较好的极化码构造方案。你只需要考虑把${ {\sigma }^{2}}$构造为design-snr的函数，设定了一个design-snr，就意味着设定了${ {\sigma }^{2}}$。论文[2]的重要意义在于，design-snr可以与实际信道的SNR解耦。起初极化码的确要考虑实际信道的SNR，但现在有了design-snr，那么在比特信道选择阶段就可以不必过于关注SNR的变化。这张design-snr表格的值只与码率和码长有关，但这些值是基于大量仿真的经验值。论文[2]仅给出了一种码率和码长（R=0.5，N=2048）条件下的最优design-snr。不同的码率和码长，其值应该是有所不同的。design-snr已经是相当程度上的简化操作，让编码和译码器不必每时每刻都关注SNR，而只关注design-snr。参考文献[1] Arikan E. Channel polarization: A method for constructing capacity-achieving codes[C]//Information Theory, 2008. ISIT 2008. IEEE International Symposium on. IEEE, 2008: 1173-1177.[2] Vangala H, Viterbo E, Hong Y. A comparative study of polar code constructions for the AWGN channel[J]. arXiv preprint arXiv:1501.02473, 2015.相关链接Polar Code（6）SC译码算法Polar Code（8）高斯近似Polar Code（19）当我们谈论design-snr时我们在谈论什么]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（17）高斯近似（2）]]></title>
      <url>%2F2017%2F08%2F04%2Fpolar-code-17-gaussian-approximation2%2F</url>
      <content type="text"><![CDATA[Marshall：需要向读者道歉。本博力求严谨，却也有时犯错，若使读者受到误导，实在惭愧。本博接受有据质疑和有理批评。感谢指出我错误的朋友。（2017年11月24日更新）“假设全零发送”，这个看似简单以至于在许多论文里都一笔带过的假设，却引发了最近的一段思考。从基本的高斯信道说起，对于一个BAWGN信道，其接收符号$y$表示为：\begin{align} y=s+z \end{align}其中$z$为服从$N\left( 0,{ {\sigma }^{2}} \right)$的高斯白噪声，$s$为调制符号，调制方式采用BPSK。$s=1-2x$或者$s=2x-1$取决于怎样定义BPSK映射。若定义BPSK映射规则为：\begin{align}s=\left\{ \begin{matrix}+1, x=0 \\-1, x=1 \\\end{matrix} \right.\end{align}其中$x\in \left\{ 0,1 \right\}$为编码比特，则接收符号$y$重写为：\begin{align} y=\left( 1-2x \right)+z \end{align}下面考察接收符号$y$的对数似然比LLR：\begin{align} LLR\left( y \right)=\ln \frac{p\left( y|x=0 \right)}{p\left( y|x=1 \right)}=\ln \frac{\frac{1}{\sqrt{2\pi { {\sigma }^{2}}}}{ {e}^{-\frac{ { {\left[ y-\left( 1-2x \right) \right]}^{\ 2}}}{2{ {\sigma }^{2}}}|x=0}}}{\frac{1}{\sqrt{2\pi { {\sigma }^{2}}}}{ {e}^{-\frac{\left[ y-\left( 1-2x \right) \right]{ {\ }^{2}}}{2{ {\sigma }^{2}}}|x=1}}}=\frac{2}{ { {\sigma }^{2}}}y \end{align}接收符号$y$是服从$N\left( a,{ {\sigma }^{2}} \right)$的高斯随机变量，$a=E\left( y \right)$为$y$的均值，而$LLR\left( y \right)$也是一个高斯随机变量，其均值和方差取决于接收符号$y$的均值和方差。$y$因$z$是随机变量而成为随机变量，$LLR\left( y \right)$又因$y$是随机变量而成为随机变量。已知$z\sim N\left( 0,{ {\sigma }^{2}} \right)$。文献[1]指出信道输出的均值与调制方式有关，在BPSK下，$y$的均值$a=\pm 1$。但文献[2]指出$y\sim N\left( 0,{ {\sigma }^{2}} \right)$，可见$y$的均值为0。那么$y$的均值到底是多少？我在8月份思考这个问题的时候也正是卡在这里。虽然我给出了自己的解释，现在看来，过去的解释有些荒诞。现在重新回到原点，博文暂时加上[存疑]的标签。参考文献[1] 吴道龙. 极化码构造与译码算法研究[D]. 西安电子科技大学, 2016.[2] 陈凯. 极化编码理论与实用方案研究[D]. 北京邮电大学, 2014.相关链接：《Polar Code（4）编码之极化信道可靠性估计》《Polar Code（8）高斯近似》]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[更换评论系统]]></title>
      <url>%2F2017%2F07%2F27%2Fchange-comment-system%2F</url>
      <content type="text"><![CDATA[本博客使用了第三方评论系统，网易云跟帖将在2017年8月1日关闭，也就是说云跟帖倒闭了。今天更换了评论系统，朋友们可以继续留言。但遗憾是，由于新的评论系统不支持数据导入，意味着从前所有的评论数据将丢失。评论系统对一个博客来说还是比较重要的，它给人们提供了交流的平台。在过去的几个月里，许多研究极化码的朋友在博客里参与讨论，我也从中获益良多。许多朋友也指出我的错误，我了解到以后也一一改正，使文章更完善。感谢所有曾经参与评论的朋友。2017年8月22日更新适用来必力评论系统一段时间，由于服务器在韩国，评论加载速度太慢，还是弃用了。切换到畅言评论系统，如果畅言不倒闭，今后就一直使用了。]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（16）3GPP RAN1 adhoc#2]]></title>
      <url>%2F2017%2F07%2F01%2Fpolar-code-16-3gpp-ran1-adhoc2%2F</url>
      <content type="text"><![CDATA[3GPP RAN1 ad hoc#2会议于6月27~30日在青岛召开。关于Polar Code达成如下结论：Code constructionSequence design]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（15）3GPP RAN1#89]]></title>
      <url>%2F2017%2F05%2F19%2Fpolar-code-15-3gpp-ran1-89%2F</url>
      <content type="text"><![CDATA[前言3GPP标准化会议于5月15~19日在杭州召开。本周在杭州参加3GPP RAN1 #89次会议，亲历了5G标准化进程中的一个时间点。本文简要介绍polar code在3GPP 5G NR讨论的最新进展。Code construction本周召开的RAN1 #89会议，关于Code construction达成的结论为：对于下行链路：J’的长度为3或6（下次会议再进一步做出选择）；若J’=6，工作假设：J+J’bits以分布式的方式分布（在编码结构中支持Early termination）（不排除非分布式的方式）；若J’=3，J+J’bits是否采用分布式的方式分布（在编码结构中支持Early termination）有待进一步研究。在编码结构中，J+J’bits以分布式的方式插入到信息比特中以实现Early termination的方案：支持者：DCM, Nokia, HW, ZTE, CATT, IDC, CL, NEC, Mediatek, Accelercomm, Spreadtrum反对者：Intel, LG, QC, Eri, Sams, Fuji, ETRI, Tsofun, IAESISequence design关于Sequence design本次会议达成的结论为：工作假设（1）：一个母码长度对应一个single fixed sequence，以提供信息比特和冻结比特的选择多个不同母码长度对应着一个固定序列（fixed sequences）的集合，这些固定序列来源于“single reference mother code size”，单参考母码长度的最大值为512或64（下次会议进一步确定）。如果修改上述工作假设（1），使得对于最大母码长度存在多于一个的序列，则由其他母码长度派生出额外的序列集合。选择序列时，至少考虑已知的CCE大小，如果可能，考虑到典型的有效载荷。Rate matching关于速率匹配方案RAN1今后使用的术语：Puncturing：凿孔比特是指那些不传输的编码比特，接收端对于这些不传输的比特是未知的，相应的LLR被设置为0；Shortening：将输入比特设定为已知，接收端对于这些不传输的比特是已知的，相应的LLR设置为一个较大的值。关于这两种凿孔方案有必要再交代一下。博文《Polar Code（10）速率适配的凿孔极化码》中提到过，极化码的凿孔方案分为两类：一类被称为“C0”（capacity-zero）凿孔模式，就是RAN1在此定义的Puncturing方案；另一类被称为“C1”（capacity-one）凿孔模式，就是RAN1在此定义的Shortening方案。本次会议关于速率匹配达成的结论：码块分段之后（如果有的话）：$K$是信息比特数（包括CRC）$M$是传输的编码比特数${ {N}_{DM}}$是满足2的幂次方并且大于等于$M$的最小值${ {N}_{M}}$是${ { {N}_{DM}}}/{2}\;$，如果$M&lt;\beta *{ { {N}_{DM}}}/{2}\;$且${K}/{M}\;&lt;{ {R}_{repthr}},1\le \beta &lt;2$（准确的$\beta $有待进一步研究；不排除$\beta $是${ {N}_{DM}}$的函数）否则，${ {N}_{DM}}$${ {R}_{repthr}}$的值有待进一步研究；不排除${ {R}_{repthr}}=0$${ {N}_{R}}$是满足2的幂次方并且大于等于${K}/{ { {R}_{\min }}}\;$的最小值${ {R}_{\min }}$是所支持的最小码率$\sim {1}/{12\le }\;{ {R}_{\min }}\le \sim {1}/{5}\;$，准确值有待进一步研究${ {N}_{\max }}$是所支持的最大母码长度母码长度$N$由$\min \left( { {N}_{M}},{ {N}_{R}},{ {N}_{\max }} \right)$确定当$M&gt;N$时，采用重复（Repetition）编码当$M&lt;N$时，采用Puncturing or Shortening：低码率时采用Puncturing，例如当码率小于等于${ {R}_{psthr}}$时，和或其他条件高码率时采用Shortening，例如当码率大于${ {R}_{psthr}}$时，和或其他条件${ {R}_{psthr}}$的值有待进一步研究]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（14）3GPP RAN1#88bis]]></title>
      <url>%2F2017%2F05%2F15%2Fpolar-code-14-3gpp-ran1-88b%2F</url>
      <content type="text"><![CDATA[前言RAN1#87次会议已将Polar code确定为eMBB场景下控制信道的信道编码，因此3GPP对极化码的讨论并不是在单纯地讨论编码理论，而是在讨论极化码在5G NR控制信道框架下的应用。所以随着3GPP对极化码讨论的深入，关于极化码达成的结论会自然地和控制信道的特性结合在一起。也就是说，你所看到的3GPP关于极化码达成的结论，未必是Polar code本身应该具有的，但它一定是5G NR控制信道下的Polar code应该具有的。所以仍然有必要把学术界研究的极化码与工程界研究的极化码做个区分。言归正传，从3GPP RAN1#88bis次会议开始，对极化码的讨论分为两个部分：一是Code construction，二是Sequence design。Code constructionCode construction讨论的是编码结构，犹如一个盒子，$k$比特输入，$N$比特输出。只要这个盒子的内部结构确定，输入任意$k$个信息比特，都可以得到$N$比特的极化码编码序列。这个编码结构简略地说就是“J+J’检错比特 + basic polar”的控制信道编码结构。J bits是CRC，主要用于错误检测，但也可以用于辅助译码。J’ bits用于辅助译码。根据Arikan的结论，极化码在码长趋于无穷长时，由于信道极化完全而能够达到香农容量。但实际的码长是有限长的，采用SC/SCL译码算法并不能达到理想的译码性能。添加一些检错比特以辅助译码，则能够以较低的复杂度提高译码检错能力，从而提高译码性能。3GPP所讨论的主要是基于辅助的极化码方案，目前有CRC-polar、PC-polar和Hash-polar三种方案，甚至是它们的组合。所以J’ bits可以是CRC或PC或Hash code，或它们的组合。此外，极化码编码结构要考虑Early termination，在不降低BLRE性能或增加时延的前提下，不必等到译出全部比特才去判断该码字是否正确，而是在译出一部分比特的时候就可以提前发现错误。这样做的好处，一是在译码过程中能够尽早发现译码错误，减少译码复杂度；二是对于控制信道可以减少盲检测的数量。Sequence designSequence design涉及极化码信息比特和冻结比特位置的选择问题。对极化码而言，由于信道极化特性，某些比特位置（子信道）总是比其他比特位置更可靠。构造极化码时，需要一个基于可靠性度量的比特位置顺序序列（ordered sequence），指示信息比特和检错比特放置在可靠性较高的比特位置上，冻结比特放置在可靠性较低的比特位置上。上图红色方框表示的序列就是ordered sequence。有了“J+J’检错比特 + basic polar”的编码结构，加上指示信息比特/冻结比特位置的ordered sequence，最后加上速率匹配方案以突破码长$N$必须为2的幂次方的限制，最终构成了一套适用于NR-PDCCH的极化码编码方案。关于Sequence design，本次会议并没有达成任何实质性结论。]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（13）信道极化]]></title>
      <url>%2F2017%2F05%2F04%2FPolar-Code-13-channel-polarization%2F</url>
      <content type="text"><![CDATA[1、 信道极化是一种现象，把它看作一种原理，而极化码编码则是对这一原理的应用。理解极化码可以分两部分，一部分是理论，一部分是应用。2、 从图上看，信道极化过程是一目了然的。但从数学上看，信道极化要分两个阶段，第一阶段是信道联合，第二阶段就是信道分裂。信道分裂是信道极化的一部分。3、 信道极化作为一种原理，它也有它的结构。它的结构就是：原本$N$条平行线，互不相交，谁和谁都没有联系，换句话说，是$N$条原始信道的独立副本；经过各种连线、模二加，连来连去，连成了现在的样子；现在是$N$条线彼此都有联系。这个过程就是信道联合，把原本相互独立的$N$条细线扭成一条粗线。4、 信道联合是从宏观的角度观察，把信道极化过程看作一个整体，输入是$N$比特，输出也是$N$比特。经过联合的信道总是以整体的形式表达，如联合信道${ {W}_{4}}:{ {X}^{4}}\to { {Y}^{4}}$，以及联合信道的转移概率${ {W}_{4}}\left( y_{1}^{4}|u_{1}^{4} \right)$。5、 但只有信道联合是不够的，你无法确知各个子信道的输入和输出是什么关系。这就需要对信道极化过程有一个微观的表达，这个微观表达是通过信道分裂过程来实现的。到信道联合这一步还看不出“极化”的概念，必须经过信道分裂才能体现出极化现象。6、 信道分裂使已经扭成一条粗线的联合信道又重新一条一条地展现在世人面前，就好比两条绳子打结（信道联合），然后再区分出两端谁是谁（信道分裂）。经过分裂的信道总是以单个的形式表达，如分裂子信道$W_{N}^{\left( i \right)}:X\to { {Y}^{N}}\times { {X}^{i-1}}$，以及分裂子信道的转移概率$W_{N}^{\left( i \right)}\left( y_{1}^{N},u_{1}^{i-1}|{ {u}_{i}} \right)$。7、 宏观和微观合在一起就构成了对信道极化过程的完整表达。我们的目的不只是观其大概，更要搞清楚各个子信道，求分裂子信道的转移概率。《Polar Code（12）B-DMC对称容量》一文中提到，输入符号概率、输出符号概率和转移概率完整地定义了一种信道。不搞清楚各分裂子信道的转移概率就无法完成对分裂信道的定义。从以下定义式就可以看出联合信道和分裂子信道的关系了：\begin{align} W_{N}^{\left( i \right)}\left( y_{1}^{N},u_{1}^{i-1}|{ {u}_{i}} \right)\triangleq \sum\limits_{u_{i+1}^{N}\in { {X}^{N-i}}}{\frac{1}{ { {2}^{N-1}}}{ {W}_{N}}\left( y_{1}^{N}|u_{1}^{N} \right)} \end{align}8、 但式（1）是不易求的。观察图1，整个信道极化过程恰好是一种递归形式。因此用两个递归式来计算各个分裂子信道的转移概率：\begin{align} W_{N}^{\left( 2i-1 \right)}\left( y_{1}^{N},u_{1}^{2i-2}|{ {u}_{2i-1}} \right)=\sum\limits_{ { {u}_{2i}}}{\frac{1}{2}W_{ {N}/{2}\;}^{\left( i \right)}\left( y_{1}^{ {N}/{2}\;},u_{1,o}^{2i-2}\oplus u_{1,e}^{2i-2}|{ {u}_{2i-1}}\oplus { {u}_{2i}} \right)\cdot W_{ {N}/{2}\;}^{\left( i \right)}\left( y_{ {N}/{2}\;+1}^{N},u_{1,e}^{2i-2}|{ {u}_{2i}} \right)} \end{align}\begin{align} W_{N}^{\left( 2i \right)}\left( y_{1}^{N},u_{1}^{2i-1}|{ {u}_{2i}} \right)=\frac{1}{2}W_{ {N}/{2}\;}^{\left( i \right)}\left( y_{1}^{ {N}/{2}\;},u_{1,o}^{2i-2}\oplus u_{1,e}^{2i-2}|{ {u}_{2i-1}}\oplus { {u}_{2i}} \right)\cdot W_{ {N}/{2}\;}^{\left( i \right)}\left( y_{ {N}/{2}\;+1}^{N},u_{1,e}^{2i-2}|{ {u}_{2i}} \right) \end{align}9、 求得各个分裂子信道的转移概率有什么用？在实际编译码中并没有直接用。当我在3月12日那个时间点上写《Polar Code（5）编码之信道转移概率》的时候，认为转移概率是有用的，并且认为在编码端和译码端都会直接使用，至少对于BEC信道计算巴氏参数时会直接使用。但随着研究的深入，尤其在研究了密度进化和高斯近似之后，对此的认识得到了更新：转移概率是有用的，但并不直接使用，而是使用两个转移概率的之比的对数，即对数似然比（LLR）;高斯近似法令转移概率为服从高斯分布的随机变量，并使用对数似然比，直接规避了计算（2）式和（3）式，所以转移概率的两个式子就沦为了铺路者；但式（2~3）的递归形式是十分有用的，译码时计算LLR就利用这种递归形式。有关高斯近似详见《Polar Code（8）高斯近似》，而《Polar Code（5）编码之信道转移概率》通过分析转移概率的计算过程也能更好的理解编码过程。10、 编码。极化码是对信道极化原理的应用。然而编码过程又是基于另一套思路，它沿着线性分组码的编码思路，用生成矩阵的方式产生极化码。而生成矩阵的构造又体现着信道极化的原理，用递归形式来构造生成矩阵。书不尽言，言不尽意。以上几点，是我对信道极化的理解。]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（12）B-DMC对称容量]]></title>
      <url>%2F2017%2F04%2F09%2FPolar-Code-12-BDMC-Symmetric-Capacity%2F</url>
      <content type="text"><![CDATA[前言任何一本信息论书籍讲到离散信道容量时都会涉及形如$I\left( X;Y \right)=\sum\limits_{i,j}{ { {p}_{i}}{ {p}_{ij}}\log \frac{ { {p}_{ij}}}{ { {q}_{j}}}}$的公式。但这个公式，我理解是经过转化得来的，不是直接得到的。怎么转化呢？请继续阅读。输入符号概率${ {p}_{i}}=p\left( { {x}_{i}} \right)$，输出符号概率${ {q}_{j}}=q\left( { {y}_{j}} \right)$，输入符号到输出符号的转移概率${ {p}_{ij}}=p\left( { {y}_{j}}|{ {x}_{i}} \right)$，这三种概率完全地表达了一个信道。对于信道容量，第一个概念是互信息量。互信息量互信息量定义为后验概率与先验概率比值的对数。虽然有这个定义，但必须先要明确观察者的角度才能进一步确定后验概率是谁，先验概率是谁。$I\left( X;Y \right)$是站在接收端的角度观察，是$Y$对$X$的平均互信息量；而$I\left( Y;X \right)$是站在发送端角度观察，是$X$对$Y$的平均互信息量。我们只说第一种角度，即以接收者的视角来观察信道。通常接收端可以预知信息$X$发出的各个符号的集合，以及它们的概率分布，也就是说发送符号概率$p\left( { {x}_{i}} \right)$是先验概率。当接收端收到一个符号${ {y}_{j}}$后，接收端可以计算发送端消息的条件概率$p\left( { {x}_{i}}|{ {y}_{j}} \right)$，这种条件概率就是后验概率。根据互信息量定义，${ {y}_{j}}$对${ {x}_{i}}$的互信息量为：\begin{align} I\left( { {x}_{i}};{ {y}_{j}} \right)=\log \frac{p\left( { {x}_{i}}|{ {y}_{j}} \right)}{p\left( { {x}_{i}} \right)} \end{align}平均互信息量只有$I\left( { {x}_{i}};{ {y}_{j}} \right)$是没有意义的，因为通常无法确定$p\left( { {x}_{i}}|{ {y}_{j}} \right)$和$p\left( { {x}_{i}} \right)$的大小关系，$I\left( { {x}_{i}};{ {y}_{j}} \right)$不一定大于或等于0。由于发送符号$X$和接收符号$Y$都是随机变量，要探知$Y$对$X$的互信息量得用统计的方法去计算$I\left( { {x}_{i}};{ {y}_{j}} \right)$的平均值，准确地说是计算$I\left( { {x}_{i}};{ {y}_{j}} \right)$在发送符号集合$X$和接收符号集合$Y$上的概率加权统计平均值，这就是平均互信息量：\begin{align} I\left( X;Y \right)=\sum\limits_{i}{\sum\limits_{j}{p\left( { {x}_{i}}{ {y}_{j}} \right)}\log }\frac{p\left( { {x}_{i}}|{ {y}_{j}} \right)}{p\left( { {x}_{i}} \right)} \end{align}其中$p\left( { {x}_{i}}{ {y}_{j}} \right)$是发送符号${ {x}_{i}}$与接收符号${ {y}_{j}}$的联合概率。联合概率、后验概率与转移概率的关系\begin{align} p\left( { {x}_{i}}{ {y}_{j}} \right)=p\left( { {x}_{i}} \right)p\left( { {y}_{j}}|{ {x}_{i}} \right)=p\left( { {y}_{j}} \right)p\left( { {x}_{i}}|{ {y}_{j}} \right) \end{align}这个关系式相当重要！它打通了前向与后向之间的联系。研究互信息量自然离不开对信道的定义。而信道是由输入符号、输出符号和转移概率三者确定的。转移概率$p\left( { {y}_{j}}|{ {x}_{i}} \right)$是站在发送端的角度观察，方向是$X\to Y$，因此也称为前向概率。后验概率$p\left( { {x}_{i}}|{ {y}_{j}} \right)$是站在接收端的角度观察，方向是$Y\to X$，因此也称为后向概率。后验概率是逆向思维，不仅难以理解而且还不易求，既然如此那就全部按正向来吧。根据关系式（3），把后验概率用转移概率来表示：\begin{align} p\left( { {x}_{i}}|{ {y}_{j}} \right)=\frac{p\left( { {x}_{i}} \right)p\left( { {y}_{j}}|{ {x}_{i}} \right)}{p\left( { {y}_{j}} \right)} \end{align}带入式（2）则平均互信息量$I\left( X;Y \right)$用转移概率可重新表示为：\begin{align} I\left( X;Y \right)=\sum\limits_{i}{\sum\limits_{j}{p\left( { {x}_{i}} \right)p\left( { {y}_{j}}|{ {x}_{i}} \right)}\log }\frac{p\left( { {y}_{j}}|{ {x}_{i}} \right)}{p\left( { {y}_{j}} \right)} \end{align}其中$p\left( { {x}_{i}} \right)$是先验概率自不必说，$p\left( { {y}_{j}} \right)$是接收符号概率也可以用转移概率表示：\begin{align} p\left( { {y}_{j}} \right)=\sum\limits_{i}{p\left( { {x}_{i}} \right)}p\left( { {y}_{j}}|{ {x}_{i}} \right) \end{align}通过式（5~6）可以看出，在信道给定的情况下，平均互信息量$I\left( X;Y \right)$的大小由输入符号的概率分布$p\left( { {x}_{i}} \right)$来确定。信道容量进一步，信道容量定义为平均互信息量$I\left( X;Y \right)$的最大值，用符号$C$来表示，即\begin{align} C=\underset{p\left( { {x}_{i}} \right)}{\mathop{\max }}\,I\left( X;Y \right)=\underset{p\left( { {x}_{i}} \right)}{\mathop{\max }}\,\sum\limits_{i}{\sum\limits_{j}{p\left( { {x}_{i}} \right)p\left( { {y}_{j}}|{ {x}_{i}} \right)}\log }\frac{p\left( { {y}_{j}}|{ {x}_{i}} \right)}{\sum\limits_{i}{p\left( { {x}_{i}} \right)}p\left( { {y}_{j}}|{ {x}_{i}} \right)} \end{align}什么时候$I\left( X;Y \right)$取得最大值呢？根据信息论，在对称信道下，输入等概时互信息量达到最大值，该最大值即为信道容量$C$。在非对称信道下，也一定存在某种输入概率分布，使得互信息量$I\left( X;Y \right)$最大，该最大值即为该信道的容量，而相应的输入概率分布称为最佳输入分布。当信道给定后，转移概率$p\left( { {y}_{j}}|{ {x}_{i}} \right)$就固定，$C$仅与$p\left( { {y}_{j}}|{ {x}_{i}} \right)$有关，而与$p\left( { {x}_{i}} \right)$无关。B-DMC平均互信息量对于一般二进制离散无记忆信道（此时先不论信道是否对称），假定信源符号以等概率发送，则有$p\left( 0 \right)=p\left( 1 \right)=\frac{1}{2}$，带入式（2）得到输入等概时的平均互信息量：\begin{align} I\left( X;Y \right)=\sum\limits_{i}{\sum\limits_{j}{\frac{1}{2}p\left( { {y}_{j}}|{ {x}_{i}} \right)}\log }\frac{p\left( { {y}_{j}}|{ {x}_{i}} \right)}{\sum\limits_{i}{p\left( { {x}_{i}} \right)}p\left( { {y}_{j}}|{ {x}_{i}} \right)} \end{align}分母展开$\sum\limits_{i}{p\left( { {x}_{i}} \right)}p\left( { {y}_{j}}|{ {x}_{i}} \right)=\frac{1}{2}p\left( { {y}_{j}}|0 \right)+\frac{1}{2}p\left( { {y}_{j}}|1 \right)$，并带入式（8）得到一般B-DMC在输入等概时的平均互信息量为：\begin{align} I\left( X;Y \right)=\sum\limits_{i}{\sum\limits_{j}{\frac{1}{2}p\left( { {y}_{j}}|{ {x}_{i}} \right)}\log \frac{p\left( { {y}_{j}}|{ {x}_{i}} \right)}{\frac{1}{2}p\left( { {y}_{j}}|0 \right)+\frac{1}{2}p\left( { {y}_{j}}|1 \right)}} \end{align}由于此时还未定义这个一般B-DMC是否为对称信道，虽然假定输入等概，但此时不能确定（9）式的最大值。下面添加对称性条件。对称信道容量如果转移概率矩阵$\mathbf{P}$的每一行都是第一行的置换，称该矩阵是输入对称的；如果转移概率矩阵$\mathbf{P}$的每一列都是第一列的置换，称该矩阵是输出对称的；如果输入、输出都对称，则称该DMC为对称的DMC信道。满足对称条件的B-DMC有两个典型例子：BSC和BEC。其中BSC的转移概率矩阵为\begin{align} \mathbf{P}=\left[ \begin{matrix} p & 1-p \\ 1-p & p \\ \end{matrix} \right] \end{align}显然式（10）的每一行、每一列都分别是第一行、第一列的置换，因此转移概率满足式（10）的信道是一种对称信道。把BSC转移概率带入式（9）得到平均互信息量\begin{align} I\left( X;Y \right)=p\log 2p+\left( 1-p \right)\log 2\left( 1-p \right) \end{align}此时的平均互信息量就是所能达到的最大值，因为式（11）是输入等概下的对称信道的平均互信息量，即对称信道的容量，也即BSC的对称容量。此时才有\begin{align} C=I\left( X;Y \right)=p\log 2p+\left( 1-p \right)\log 2\left( 1-p \right) \end{align}理解既然是离散信道，其输入、输出必然都是离散的。为什么输出符号是任意的？站在发送端的角度去看，发送端唯一确知的就是自己能够发什么，发送符号取值范围是{0,1}，这是明确的。我发的信号我做主，发送端只管得了自己，但它不并知道信道是什么样的，也不知道接收端能收到什么。所以对于发送端而言，信道和接收符号都是未知的、任意的。概率也仅仅表达了一种可能性。弓箭手射箭，一旦射出，箭就不由弓箭手所控制了。为什么Arikan由B-DMC直接给出了对称容量？式（9）给出的就是一般B-DMC的平均互信息量，此时还没涉及对称的概念。注意，式（9）是一个不完整的计算式，它有4个转移概率值仍是未知的。因此你必须对B-DMC有进一步的定义，而此时式（9）的值则完全取决于信道类型。转移概率满足什么样的特性，它就定义了什么样的信道类型。当满足$P\left( 0|0 \right)=P\left( 1|1 \right)=p$、$P\left( 1|0 \right)=P\left( 0|1 \right)=1-p$时，B-DMC就是BSC信道。对称，发0的情况和发1的情况完全相同，这就是对称。BSC是研究二元编解码最简单，最常用的信道模型。研究编解码离不开具体的信道模型，只谈B-DMC是不够的，它还有4个概率值需要进一步给出定义。当进一步研究编码时不可能凭空讨论，一定要更加具体，是B-DMC下的BSC，还是B-DMC下的BEC？如此这般才构成讨论的基础。为什么一定要对称？因为它是最简单最基础的模型。定义就是定义，不需要纠结于为什么要这么定义。一上来就给出讨论的前提，在这种定义的框架下去讨论编码问题。说“BSC的对称容量”、“BEC的对称容量”都没问题，因为BSC和BEC都是对称信道。说“B-DMC的对称容量”，其实是隐含地指出了B-DMC满足对称性，要么是BSC，要么是BEC。BSC和BEC的相关链接：Polar Code（5）编码之信道转移概率]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[写作即思考]]></title>
      <url>%2F2017%2F03%2F31%2Fwriting-is-thinking%2F</url>
      <content type="text"><![CDATA[除了“问题即答案”，“写作即思考”是另一个关键过程。思考不是写作，但写作一定是思考的结果。其实在读研时就该这么做了，直到最近我才开始付诸实践。书写，记录，把思考变为叙述。当问题A牵引出问题B，问题B牵引出问题C，C牵引出D，D牵引出E，你的大脑能缓存几级？我开始反复告诫自己，不要太相信自己的大脑，用不了多久你就会混乱，当你提取知识点时，你提取的不是点，也不是面，而是面掺了水的一团浆糊。书写的重要作用在于清空大脑缓存。思考问题时，必然有一部分内存用于缓存ABCD，然后剩余的内存用来集中思考当前的问题E。记忆缓存太多，必然压缩思考内存，导致思考力不足，而且容易产生概念混淆。清空缓存，不是清空记忆。把记忆缓存整理输出，清清楚楚，明明白白。开始发觉输出的重要性，追求有价值的输出，倒逼有价值的输入。]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[问题即答案]]></title>
      <url>%2F2017%2F03%2F30%2Fthe-question-is-the-answer%2F</url>
      <content type="text"><![CDATA[当就某一个问题翻阅了手边所有的资料，穷尽了你所有思考角度之后仍不得其解时，说明你已经到达了自己的思维边界。这时就该鸣金收兵来日再战。你已经恋战太久，或许你的思路已经偏离中心走了很远，这时需要重新回到问题的本源，应当重新审视问题的本质。另一方面，思考的范围终究还是窄了，所以需要搜集新的材料，补充新的线索，找到新的角度，然后重新思考问题。还有一种可能就是知识盲点，你不知道你不知道的那些知识，无形中阻碍着你的理解。思考的密度、深度，必须要匹配长时间的思考持续度，假以时日，答案方能显现。根据以往的经验，这时日并不会太长，至少不是绝望式的那么遥不可及。然而答案的出现总是极具偶然性。你不能保证只要用了功，就一定在某日某时有了答案，但你的确有预感，在不久的将来，在某一个时间的邻域内，答案就快来了。事后证明，往往当你有这种预感时，答案的确快来了。一个不能忽视的因素是心境。越是轻松的心境越能容易地找到答案，越是焦虑的心境越阻碍答案的获得。压力和焦虑是不一样的。我更倾向于认为压力无有好坏之分，如王阳明之善恶说，无善无恶心之体，有善有恶意之动。压力一来，向上是动力，向下是焦虑。但往往是左右互搏、上下游走、善恶并存，于是头脑分裂，变成了纠结。有时候不仅要换一种思考角度，更要换一种思维高度。站得高的确看得远，跳出第一视角，站在第三视角，世界当有所不同。对之前的资料没看仔细，断章取义，导致误读。在研究的道路上这样的陷阱不少。即使心态不焦虑，不纠结，但心浮气躁也是巨大的阻碍。心不能沉静，读文献望文生义，越到后面越费解，等回过头重新审视问题时才知以前的理解是错误的。与其说沉静，不如说专注。沉静一定是专注之时的状态，不专注则一定不沉静。沉静是带有文学色彩的描述，而专注更具有可量化性。专注指向了可量化的工具，如时间管理；沉静则指向了诸如瑜伽冥想参禅打坐，完全随心而定，虚无缥缈，不可量化。灯下黑。有些答案就在眼前，你却绕了许多弯路。直到又一个偶然，眼前一黑，却头脑一亮，有了答案。读文献时常遇到这样一句话：“一个直接的想法是……”。看似是废话，但说明一个道理。当你把问题思考得很透彻，并且把问题界定得很清晰的话，那么答案往往是显而易见的。于是才有“一个直接的想法”，其中这个“直接”就来源于对问题的把握。这可能就是通常所说的“问题即答案”了。无论是老问题还是新问题，都要先把问题思考清楚。否则连问题是什么都不知道就急忙找方法，到头来方法没找到，问题也没搞清楚。当然，一种更大的可能是，“一个直接的想法”只是个引子，这想法虽然直接但未必现实。于是话锋一转，然而这个直接的想法具有较高的复杂度，第二步才是你提出的更为可行的办法。如问题是地球环境破坏严重，越来越不适合人类居住，一个直接的想法是移民外太空，然而这个想法具有较高的复杂度，一个更为可行的办法是退耕还林、保护环境。]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（11）3GPP标准化进展]]></title>
      <url>%2F2017%2F03%2F22%2Fpolar-code-11-3gpp-standard-1%2F</url>
      <content type="text"><![CDATA[前言时间终于来到了2017年，我的文章也终于要追上3GPP 5G NR标准化的进展了。自2016年11月3GPP RAN1 #87会议确定5G eMBB场景控制信道编码为Polar Code后，2017年1月在美国斯波坎市召开的3GPP RAN1 #AH1_NR会议上继续讨论了Polar Code设计议题。紧接着，2月（上个月）在希腊雅典召开了RAN1 #88次会议；3月（本月）在克罗地亚召开了RAN #75次全会，5G的研究阶段（Study Item，SI）结束，继而开启工作阶段（Work Item）；4月（下个月）3日又将在美国召开RAN1 #88b会议。5G的推进速度其实比外界想象得要快得多。RAN1 #AH1_NRPolar Code描述方法2017年1月召开的RAN1 #AH1_NR会议上统一了Polar Code描述方法。一直以来Polar Code有两种等价的描述方法。Description #1：实施比特反转（bit reversal）的编码。也就是Arikan最初发明的编码方法。我的文章也一直采用这种描述方法，见《Polar Code（2）编码原理》图1~3。Description #2：不进行比特反转（bit reversal）的编码。这是最近比较流行的描述方法。为了便于各公司进行Polar Code设计，消除混淆，应当统一描述方法。会议同意了Description #2的描述，并把这种描述称为“basic polar”。注意，这并不影响Polar code其他方面的设计，如凿孔模式的设计、冻结比特模式的设计等。basic polar描述如下：Polar编码器输出为x_{0}^{N-1}=u_{0}^{N-1}{ {G}_{N}}${ {G}_{N}}$是N维的生成矩阵{ {G}_{2}}=\left[ \begin{matrix} 1 & 0 \\ 1 & 1 \\ \end{matrix} \right]{ {G}_{N}}={ {F}^{\otimes n}}其中$N={ {2}^{n}},n\ge 1$F=\left[ \begin{matrix} 1 & 0 \\ 1 & 1 \\ \end{matrix} \right]${ {F}^{\otimes n}}$是矩阵$F$的n次克罗内克积最大母码长度范围Polar Code最大母码长度$N={ {2}^{n}}$确定了以下范围：下行控制信息：$256\le { {N}_{\max ,DCI}}\le 1024$上行控制信息：$1024\le { {N}_{\max ,UCI}}\le 2048$准确值将在RAN1 #88会议进一步确定评估方法和可选编码方案从RAN1 #86b开始，华为就提出了基于奇偶校验（parity-check）的Polar编译码方案，即PC-Polar。#87会议虽然确定控制信道采用Polar Code，但还没确定究竟采用哪一种Polar Code。目前争论的焦点主要集中在CA-Polar和PC-Polar上。会议同意了以下评估方法和二选一的编码方案：RAN1 #88确定最大母码长度下行控制信息：${ {N}_{\max ,DCI}}=512$上行控制信息：${ {N}_{\max ,UCI}}=1024$编码方案本次会议决定，把Alt.1和Alt.2两种可选方案进一步做了融合：小结截止目前，Polar Code上下行控制信息编码的母码长度确定了。性能评估指标一个是BLER，一个是FAR。编码方案仍会在下一次会议（4月）中进一步讨论。参考文献[1] Draft_Minutes_report_RAN1#AH1_NR_v010[2] Draft_Minutes_report_RAN1#88_v010]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（10）速率适配的凿孔极化码]]></title>
      <url>%2F2017%2F03%2F21%2Fpolar-code-10-rcpp%2F</url>
      <content type="text"><![CDATA[前言Arikan发明极化码时给出了编码算法和SC译码算法，后来的研究者提出SCL和CA-SCL译码算法对SC算法进行了改进，使译码性能得到提升。但不要忘记这些编译码算法都对码长有限定条件，即码长必须满足2的幂次方：$N={ {2}^{n}}$。虽然当码长$N$固定时，信息比特长度$K$可以任意取值，编码速率$R={K}/{N}\;$也能随之自由变化。但在信息比特长度一定的情况下，要通过调整码长而调整编码速率就无法实现了。从实际角度出发，我们更希望设计一对编译码器能够在不改变基本的编译码结构的情况下，使码长和编码速率都能够自适应调节。在设计速率可变的编码时，凿孔是一种普遍采用的方法。速率适配的凿孔极化码对于速率适配的凿孔极化（rate-compatible punctured polar，RCPP）码，如何凿孔以及如何缩短码长是关键问题。极化码的凿孔方案大致分为两类：第一类方案，在编码端凿掉一些比特，但译码端没有这些凿孔比特的先验信息，因此译码端把这些比特信道被视为容量为0的信道。这类方案被称为“C0”（capacity-zero）凿孔模式[1]。第二类方案，凿孔比特是编、译码器事先知道的，因此这些比特信道被视为容量为1的信道。这类方案被称为“C1”（capacity-one）凿孔模式。本文介绍一种准均匀凿孔算法属于C0凿孔模式。准均匀凿孔算法在速率适配极化码框架下，文献[2]提出准均匀凿孔（Quasi-uniform Puncturing，QUP）算法。RCPP方案基于CRC辅助译码的速率适配极化码（RCPP）方案如图1所示。在发送端，首先$k$个信息比特输入CRC单元，添加$m$个校验比特，输出比特数为$K=k+m$。然后$K$比特源序列经过Polar编码器输出$N$个比特的编码序列。之后输入凿孔单元，被凿掉$N-M$个比特后，最终得到$M$比特的凿孔极化码。速率适配凿孔极化（RCPP）码方案的编码速率定义为$R={K}/{M}\;$。RCPP码由长度为$N$的母码（Parent Code）利用凿孔向量（Puncturing Vector）得到：\mathbf{p}=\left( { {p}_{1}},{ {p}_{1}},...,{ {p}_{N}} \right)其中${ {p}_{i}}\in \left\{ 0,1 \right\}$，$i=1,2,…,N$，取值为0的${ {p}_{i}}$指示凿孔比特位置。由于被凿掉的比特并未实际传输，但接收端可以将这些凿孔比特信道视为容量为0的信道，也即凿孔比特可视为被传输了，只是被传输在容量为0的信道上。因此接收端不需要改变SCL译码结构，而是直接将凿孔比特信道对应的对数似然比（LLR）设置为全零。假设信道模型为BAWGN信道，根据高斯近似，$M$个实际传输的比特信道，其LLR服从$\left( m_{N}^{\left( i \right)},2m_{N}^{\left( i \right)} \right)$高斯分布；而$N-M$个凿孔比特信道未用于实际传输，但可以把这些信道视为LLR服从$\left( 0,0 \right)$的高斯信道。QUP算法母码码长为$N={ {2}^{n}}$，凿孔比特数为${ {N}_{p}}=N-M$，凿孔向量$\mathbf{p}$是二进制向量，取值为0的元素指示凿孔比特位置。QUP算法描述如下：stage1）初始化向量$\mathbf{p}$为全1，设置前${ {N}_{p}}$个元素为0；stage2）对向量$\mathbf{p}$实施比特反转排序（bit-reversal permutation）操作，从而得到凿孔向量。QUP算法举例对于$N=8,M=5,{ {N}_{p}}=3$的例子。初始化向量为$\mathbf{p}=\left( 00011111 \right)$，经过比特反转排序后的向量即为所求凿孔向量$\mathbf{p}=\left( 01010111 \right)$。其中序号为1，3，5的位置为凿孔比特位置。对QUP算法的理解对于速率适配的凿孔极化码，$N$不再表示码长，而是表示母码长度，实际的Polar编码码长则为$M$，$M$比特中仍然包含信息比特和冻结比特，其中信息比特数为$K$，冻结比特数为$M-K$。信息比特又包含$k$个原始信息比特和$m$个CRC校验比特。在编码端，首先还是利用巴氏参数或密度进化或高斯近似法估计信道错误概率，从而得到信息比特位置集$A$和冻结比特位置集${ {A}^{c}}$。注意这一步是按照母码长度$N$来计算的，因此有$\left| A \right|=K$，$\left| { {A}^{c}} \right|\text{=}N-K$。凿掉${ {N}_{p}}$比特后，实际传输的冻结比特数应该有$M-K=N-K-{ {N}_{p}}$。编码速率为$R={K}/{M}\;$。凿孔向量$\mathbf{p}$是凿孔比特数${ {N}_{p}}$的函数，只要收发双方约定好凿孔比特数${ {N}_{p}}$，那么$\mathbf{p}$对于编译码器就都是已知的。译码时仍然按照深度为$d=0,1,…,N$的码树来进行CA-SCL译码，得到$N$比特的估计序列。最后再根据凿孔向量$\mathbf{p}$凿掉相应的${ {N}_{p}}$个比特，最后输出$M$比特的估计序列。参考文献[1] Niu K, Dai J, Chen K, et al. Rate-Compatible Punctured Polar Codes: Optimal Construction Based on Polar Spectra[J]. 2016.[2] Niu K, Chen K, Lin J R. Beyond turbo codes: Rate-compatible punctured polar codes[C]// IEEE International Conference on Communications. IEEE, 2013:3423-3427.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（9）CA-SCL译码算法]]></title>
      <url>%2F2017%2F03%2F18%2Fpolar-code-9-ca-scl-decoder%2F</url>
      <content type="text"><![CDATA[前言循环冗余校验（Cyclic redundancy check，CRC）是一种信道检错技术，在实际数字通信系统中已经得到了广泛应用。对于Polar码而言，在SCL译码结束时得到一组候选路径，能够以非常低的复杂度与CRC进行联合检测译码，选择能够通过CRC检测的候选序列作为译码器输出序列，从而提高译码算法的纠错能力。CA-SCL译码算法文献[1]提出了CRC辅助的SCL（CRC-aided SCL，CA-SCL）译码算法，在信息比特序列中添加CRC校验比特序列，利用SCL译码算法正常译码获得$L$条搜索路径，然后借助“正确信息比特可以通过CRC校验”的先验信息，对这$L$条搜索路径进行挑选，从而输出最佳译码路径。给定Polar码码长为$N$，CRC校验码码长为$m$，若极化码的信息为长度为$K$，编码信息比特的长度为$k$，如图1所示，有$K=k+m$。Polar码的码率仍然为$R={K}/{N}\;$。定义${ {L}^{\left( i \right)}}$为SCL译码码树第$i$层对应的候选路径集合，搜索列表宽度为$L$的CRC-aided SCL译码算法表示为CA-SCL（L），有如下算法步骤：1、初始化：候选路径列表初始化为一条空路径，对应的路径度量值设置为0：${ {L}^{\left( 0 \right)}}=\left\{ \varnothing \right\}$，$M\left( \varnothing \right)=0$。2、扩展：对于列表中的每个序列，产生2个长度为$i$的序列，分别对应译码${ {\hat{u}}_{i}}$为比特0或1，即{ {L}^{\left( i \right)}}=\left\{ \left( d_{1}^{i-1},{ {d}_{i}} \right)|d_{1}^{i-1}\in { {L}^{\left( i-1 \right)}},{ {d}_{i}}\in \left\{ 0,1 \right\} \right\}对于每个$d_{1}^{i}\in { {L}^{\left( i \right)}}$更新路径度量值。3、竞争：若经过步骤2后，列表中的路径数未达到$L$条，则跳过此步；否则，保存路径度量值最小的$L$条路径，并删除其余路径。4、CRC辅助路径选择：重复步骤2和3直到码树第$N$层。把列表中的候选路径按度量值从小到大排序，依次进行CRC校验。第1个通过CRC校验的路径即为译码器输出的估计序列。若没有路径通过CRC检测，则把第1条路径作为译码器输出估计序列。小结CA-SCL译码算法是对SCL算法的增强，SCL的内核不变，只是在Polar编码之前给信息比特添加CRC，在SCL译码获得候选路径之后，进行CRC校验辅助路径选择，以较低的复杂度提升了Polar译码性能。参考文献[1] Niu K, Chen K. CRC-Aided Decoding of Polar Codes[J]. IEEE Communications Letters, 2012, 16(10):1668-1671.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（8）高斯近似]]></title>
      <url>%2F2017%2F03%2F17%2Fpolar-code-8-gaussian-approximation%2F</url>
      <content type="text"><![CDATA[前言通过系列文章《Polar Code（1~7）》大致梳理了Polar Code从编码到译码的基本原理和算法步骤。本文回过头再来谈一谈高斯近似。高斯近似已在前文《Polar Code（4）编码之极化信道可靠性估计》中有所介绍。对于Polar码的研究从BEC到一般类型的B-DMC，再到BAWGNC，越来越从理想走向实际。密度进化法把BEC扩展到了所有类型的B-DMC，高斯近似法则把B-DMC再次扩展到了BAWGNC。本文将梳理高斯近似在Polar Code编码和译码中的具体应用。Polar编码中的高斯近似高斯近似[1]是对密度进化的简化处理方法，早已广泛应用于LDPC码。高斯近似在Polar Code编码中用于信道的可靠性估计[2]，即估计各个极化信道的错误概率。应用高斯近似法的基本前提是满足对称性条件，因为这正是密度进化法必须满足的条件。如果接收符号对数似然比的概率密度函数满足$f\left( x \right)=f\left( -x \right){ {e}^{x}}$，那么高斯分布的均值$m$和方差${ {\sigma }^{2}}$具有如下关系：${ {\sigma }^{2}}=2m$。由于高斯分布本身可以根据其均值和方差完全决定，所以在高斯近似假设条件下，只需要跟踪信息的均值变化就可以知道概率密度的变化。同时定义高斯变量的等效SNR为${ { {m}^{2}}}/{ { {\sigma }^{2}}}\;$，所以SNR为${m}/{2}\;$，跟踪均值也相当于跟踪SNR。对于方差为${ {\sigma }^{2}}$的BAWGN信道$W$，源比特序列用BPSK调制，其概率密度函数为\begin{align} p\left( y|x \right)=\frac{1}{\sqrt{2\pi { {\sigma }^{2}}}}{ {e}^{-\frac{ { {\left( y-\left( 1-2x \right) \right)}^{2}}}{2{ {\sigma }^{2}}}}} \end{align}接收符号 的对数似然比（LLR）定义为\begin{align} L\left( y \right)=\ln \frac{p\left( y|0 \right)}{p\left( y|1 \right)}=\frac{2y}{ { {\sigma }^{2}}} \end{align}由于此时信道满足了对称性条件，那么译码错误概率与传输的码字无关，因此不失一般性，我们可以假设码字为全零发送，则LLR是服从均值为$\frac{2}{ { {\sigma }^{2}}}$，方差为$\frac{4}{ { {\sigma }^{2}}}$的高斯分布。高斯近似假设GA assumption：每个子信道的LLR都服从方差为均值2倍的高斯分布，即\begin{align} L_{N}^{\left( i \right)}\sim N\left( m_{N}^{\left( i \right)},2m_{N}^{\left( i \right)} \right) \end{align}其中，$m_{1}^{\left( 1 \right)}=\frac{2}{ { {\sigma }^{2}}}$。基于这样的高斯近似假设，唯一需要考虑的问题就是如何计算均值。根据密度进化中的设定，令$a_{N}^{\left( i \right)}$表示$L_{N}^{\left( i \right)}\left( y_{1}^{N},0_{1}^{i-1} \right)$的概率密度函数，那么$a_{N}^{\left( i \right)}$是服从$N\left( m_{N}^{\left( i \right)},2m_{N}^{\left( i \right)} \right)$的高斯分布。再根据高斯近似的构造理论，将密度进化的计算转化为对均值$m_{N}^{\left( i \right)}$的递归计算：\begin{align} m_{2N}^{\left( 2i\text{-}1 \right)}={ {\varphi }^{-1}}\left( 1-{ {\left[ 1-\varphi \left( m_{N}^{\left( i \right)} \right) \right]}^{2}} \right) \end{align}\begin{align} m_{2N}^{\left( 2i \right)}=2m_{N}^{\left( i \right)} \end{align}\begin{align} m_{1}^{\left( 1 \right)}={2}/{ { {\sigma }^{2}}}\; \end{align}其中函数\begin{align} \varphi \left( x \right)=\left\{ \begin{matrix} 1-\frac{1}{\sqrt{4\pi x}}\int_{-\infty }^{\infty }{\tanh \frac{u}{2}\cdot \exp \left( -\frac{ { {\left( u-x \right)}^{2}}}{4x} \right)du,x>0} \\ 1\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,x=0 \\ \end{matrix} \right. \end{align}$\varphi \left( x \right)$在$\left[ 0,\infty \right)$上连续单调递减，$\varphi \left( 0 \right)\text{=}1$，$\varphi \left( +\infty \right)\text{=0}$，其反函数用${ {\varphi }^{-1}}\left( x \right)$表示。一般情况下，函数$\varphi \left( x \right)$可以使用如下GA近似式（AGA）[1]计算\begin{align} \varphi \left( x \right)=\left\{ \begin{matrix} \sqrt{\frac{\pi }{x}}\left( 1-\frac{10}{7x} \right)\exp \left( -\frac{x}{4} \right),x\ge 10 \\ \exp \left( -0.4527{ {x}^{0.86}}+0.0218 \right),0]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（7）SCL译码算法]]></title>
      <url>%2F2017%2F03%2F15%2Fpolar-code-7-scl-decoder%2F</url>
      <content type="text"><![CDATA[前言Polar Code在码长趋于无穷时，信道极化才越完全。但在有限码长下，由于信道极化并不完全，依然会存在一些信息比特无法被正确译码。当前面$i-1$个信息比特的译码中发生错误之后，由于SC译码器在对后面的信息比特译码时需要用到之前的信息比特的估计值，这就会导致较为严重的错误传递。SC译码算法是一种贪婪算法，对码树的每一层仅仅搜索到最优路径就进行下一层，所以无法对错误进行修改。SCL译码算法就是对SC算法的改进。但在SCL之前，先来看看SC译码算法的码树表示。SC译码算法的码树表示根据极化码在SC译码下各个比特判决之间的依赖关系，能够构造一颗码树$\Gamma =\left( \varepsilon ,V \right)$，其中$\varepsilon $和$V$分别表示码树中的边和节点集合。定义节点的深度为该节点到根节点的最短路径长度，对于一个码长为$N$的极化码，其码树节点集合$V$能够按照深度$d$划分成$N+1$个子集，记作${ {V}_{d}}$，其中$d=0,1,…,N$。特别地，${ {V}_{0}}$仅包含根节点，即$\left| { {V}_{0}} \right|=1$。除了叶节点（即$d=N$时），码树$\Gamma $中的每一个节点$v\in { {V}_{d}}$均分别通过两条标记着0、1的边与两个${ {V}_{d+1}}$中的后继节点相连。某一个节点$v$所对应的序列$u_{1}^{d}$的值定义为从根节点开始到达该节点$v$所需经过的各个边的标记序列。例如，若某一个节点$v$表示了序列$u_{1}^{i}$，则其左、右后继节点分别代表了路径$\left( u_{1}^{i},u_{1}^{i+1}=0 \right)$与$\left( u_{1}^{i},u_{1}^{i+1}=1 \right)$。于是，从根节点到每一个深度为$d$的节点$v\in { {V}_{d}}$的路径，均对应了一种$u_{1}^{d}$可能的取值，由于信源序列为二进制比特序列，所以$\left| { {V}_{d}} \right|={ {2}^{d}}$。定义连接着深度为$i-1$和$i$的节点的边所构成的集合为第$i$层边，记作${ {\varepsilon }_{i}}$。显然，对任意$i\in \left\{ 1,2,…,N \right\}$，有$\left| { {\varepsilon }_{i}} \right|={ {2}^{i}}$。从根节点到任何一个节点所形成的路径，均对应一个路径度量值（PM）。值得注意的是，该码树结构仅与码长$N$有关。极化码译码码树实质上是一个满二叉树，因此译码过程也就是在满二叉树上寻找合适的路径。如图1所示，给出了一个当$N=4$时极化码码树的示例，各节点旁的数字指示了对应的转移概率，在每个节点处选择转移概率最大的路径，最终译码序列为$\hat{u}_{1}^{N}=\left[ \begin{matrix}0 &amp; 0 &amp; 1 &amp; 1 \\\end{matrix} \right]$。SCL译码算法针对SC译码算法的缺点，一个直接的改进方案是，增加每一层路径搜索后允许保留的候选路径数量，从仅允许选择“最好的一条路径进行下一步扩展”改为“最大允许选择最好的 条路径进行下一步扩展”，其中$L\ge 1$。与SC算法一样，改进的算法依然从码树根节点开始，逐层依次向叶子节点层进行路径搜索。不同的是，每一层扩展后，尽可能多地保留后继路径（每一层保留的路径数不大于$L$）。完成一层的路径扩展后，选择路径度量值（Path Metrics，PM）最小的$L$条，保存在一个列表中，等待进行下一层的扩展。因此称该算法为串行抵消列表（Successive Cancellation List，SCL）译码算法，并称参数$L$为搜索宽度。当$L=1$时，SCL译码算法退化为SC译码算法；当$L\ge { {2}^{K}}$时，SCL译码等价于最大似然译码。思考现在思考一个问题：如图2所示，当Polar Code编译码结构用“蝶形图”表示时，在译码时只需要在每个节点处计算相应的对数似然比，从右到左依次计算，并最终得到$L_{N}^{\left( i \right)}\left( y_{1}^{N},u_{1}^{i-1} \right)$，若LLR值为非负则判决${ {\hat{u}}_{i}}=0$，否则判决${ {\hat{u}}_{i}}=1$。一共有$N\log N$个节点，因此相应地也要计算$N\log N$个LLR。对于图2来说这一过程没有任何问题。现在转换思路，将译码结构用二叉树表示，一个LLR值指示了每个节点两条支路上的转移概率的比值关系。如果像图1那样，每条支路就用转移概率来表征，向左是发送为比特0的转移概率，向右是发送为比特1的转移概率。当然这样也可以，对于SC译码来说，图1使用转移概率和图2使用对数似然比实际上是等价的。但随着码长的增加，转移概率函数的数值会越来越小，译码器存在着下溢的风险，所以通常不直接使用转移概率。由于SC译码过程实质上是二值判决，因此通常还是要采用转移概率的对数似然比。现在可以明确两点：一是使用对数似然比，二是在满二叉树上使用对数似然比。但仍然存在的问题是：SC算法实际上是SCL算法的特例，即搜索宽度$L=1$的情况；对于$L\ge 2$的情况，单单依靠LLR是无法在$2L$个后继节点中挑选$L$个最优节点作为后继译码路径的。这就需要在LLR的基础上对$2L$条路径度量值进行计算，以便可以实现在对数似然域上的SCL译码算法。因此需要明确的第三点就是：重新定义路径度量值（PM）。路径度量值在SCL译码过程中，存在$L$条路径同时进行译码搜索，对于任意一条路径$l\in \left\{ 1,2,…,L \right\}$以及任意发送比特${ {u}_{i}}$（$i\in \left\{ 1,2,…,N \right\}$），其对应的路径度量值定义如下：\begin{align} PM_{l}^{\left( i \right)}\triangleq \sum\limits_{j=1}^{i}{\ln \left( 1+\exp \left( -\left( 1-2{ { {\hat{u}}}_{j}}\left[ l \right] \right)\cdot L_{N}^{\left( j \right)} \right) \right)} \end{align}其中，$L_{N}^{\left( j \right)}\left[ l \right]=\ln \frac{W_{N}^{\left( i \right)}\left( y_{1}^{N},\hat{u}_{1}^{i-1}\left[ l \right]|0 \right)}{W_{N}^{\left( i \right)}\left( y_{1}^{N},\hat{u}_{1}^{i-1}\left[ l \right]|1 \right)}$。如果发送端所有信息比特在$\left\{ 0,1 \right\}$上均匀分布，那么对于任意两条不同路径${ {l}_{1}},{ {l}_{2}}\in \left\{ 1,2,…,L \right\}$，当且仅当$PM_{ { {l}_{1}}}^{\left( i \right)}&gt;PM_{ { {l}_{2}}}^{\left( i \right)}$成立时，有如下关系成立：\begin{align} W_{N}^{\left( i \right)}\left( y_{1}^{N},\hat{u}_{1}^{i-1}\left[ { {l}_{1}} \right]|\hat{u}_{1}^{i}\left[ { {l}_{1}} \right] \right)]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（6）SC译码算法]]></title>
      <url>%2F2017%2F03%2F13%2Fpolar-code-6-sc-decoder%2F</url>
      <content type="text"><![CDATA[前言Arikan在文献[1]中给出了Polar Code译码算法，即串行抵消（Successive Cancellation，SL）译码算法。由Polar Code编码原理可知，极化码的构造就是一个极化信道的选择问题，而极化信道的选择实际上是按照最优化SC译码性能为标准的。根据极化信道转移概率函数式，各个极化信道并不是相互独立的，而是具有确定的依赖关系的：信道序号大的极化信道依赖于所有比其序号小的极化信道。基于极化信道之间的这一依赖关系，SC译码算法对各个比特进行译码判决时，需要假设之前步骤的译码得到的结果都是正确的。并且正是在这种译码算法下，极化码被证明了是信道容量可达的。因此对极化码而言，最合适的译码算法应当是基于SC译码的，只有这类译码算法才能充分利用极化码的结构，并且同时保证在码长足够长时容量可达。SC译码算法在进行译码时，从式（1）的转移概率可以看出，序号$i$极化信道$W_{N}^{\left( i \right)}$的输出包括信道接收信号$y_{1}^{N}$以及前$i-1$个极化信道的输入$u_{1}^{i-1}$两个部分。\begin{align} W_{N}^{\left( i \right)}\left( y_{1}^{N},u_{1}^{i-1}|{ {u}_{i}} \right)\triangleq \sum\limits_{u_{i+1}^{N}\in { {X}^{N-i}}}{\frac{1}{ { {2}^{N-1}}}{ {W}_{N}}\left( y_{1}^{N}|u_{1}^{N} \right)} \end{align}因此，对于$i\in \left\{ 1,2,…,N \right\}$，比特${ {u}_{i}}$的估计值${ {\hat{u}}_{i}}$可以根据接收信号$y_{1}^{N}$和部分估计序列$u_{1}^{i-1}$通过计算当${ {\hat{u}}_{i}}=0$或${ {\hat{u}}_{i}}=1$时$W_{N}^{\left( i \right)}$的转移概率进行逐个地判断。这种译码算法称为串行抵消（SC）译码算法：对信道序号$i$从1到N取值，各个比特的估计值根据以下公式得到：\begin{align} { {\hat{u}}_{i}}=\left\{ \begin{matrix} { {h}_{i}}\left( y_{1}^{N},\hat{u}_{1}^{i-1} \right),\ \ if\ i\in A \\ { {u}_{i}},\ \ if\ i\in { {A}^{c}} \\ \end{matrix} \right. \end{align}其中，当$i\in { {A}^{c}}$时，表明该比特为冻结比特，即收发端事先约定的比特，因此直接判决为${ {\hat{u}}_{i}}={ {u}_{i}}$；当$i\in A$时，表明该比特为承载信息的信息比特，判决函数为\begin{align} { {h}_{i}}\left( y_{1}^{N},\hat{u}_{1}^{i-1} \right)=\left\{ \begin{matrix} 0,\ \ if\ L_{N}^{\left( i \right)}\left( y_{1}^{N},\hat{u}_{1}^{i-1} \right)\ge 0 \\ 1,\ \ if\ L_{N}^{\left( i \right)}\left( y_{1}^{N},\hat{u}_{1}^{i-1} \right)]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（5）编码之信道转移概率]]></title>
      <url>%2F2017%2F03%2F12%2Fpolar-code-5-encoding-chan-trans-prob%2F</url>
      <content type="text"><![CDATA[前言极化信道的可靠性估计是Polar Code编码的第一步，对于BEC信道，若计算巴氏参数，转移概率是绕不开的一步。此外对于译码判决来说，计算转移概率也是必须的。本文就尝试梳理一下极化信道的转移概率$W_{N}^{\left( i \right)}\left( y_{1}^{N},u_{1}^{i-1}|{ {u}_{i}} \right)$。离散信道的数学模型信道是信号传输的媒介，是传送信息的通道。在信息论研究中不考虑信道的物理特性，而只是考虑它的概率特性。研究信道的目的主要是为了解决信息如何通过信道实现有效和可靠传输的问题。香农第二定理指出，信息传输速率小于信道容量是实现可靠传输的充分与必要的条件。信道容量是信息能够可靠传输的最大信息传输速率，是信道研究中的一个重要内容。信道容量定义为信道输入与输出平均互信息的最大值，它是信道本身固有特性的反映，仅与信道的转移概率有关，与信道的输入概率无关，但是信道输人概率必须与信道匹配才能达到容量。设信道的输入符号集合$X$为随机变量集合，则输出符号集合$Y$也为随机变量集合。因为信道有随机噪声干扰，使$Y$在$X$给定条件下为随机变量，所以用条件概率或转移概率$P\left( y|x \right)$描述$Y$与$X$ 之间的关系，其中$x\in X,y\in Y$。信道模型如图1所示。一般的信道输入与输出均为随机矢量，设输入集合为${ {X}^{N}}={ {X}_{1}},{ {X}_{2}},…,{ {X}_{N}}$，集合中的矢量$\mathbf{x}={ {x}_{1}},{ {x}_{2}},…{ {x}_{N}},\mathbf{x}\in { {X}^{N}}$，输入单符号集为$A=\left\{ { {a}_{1}},{ {a}_{2}},…,{ {a}_{r}} \right\}$，其中${ {a}_{1}},{ {a}_{2}},…,{ {a}_{r}}$的概率分别是${ {p}_{1}},{ {p}_{2}},…{ {p}_{r}}$，且${ {x}_{n}}$取自$A$，$1\le n\le N$，输入矢量的符号集为${ {A}^{N}}$。输出集合为${ {Y}^{N}}={ {Y}_{1}},{ {Y}_{2}},…,{ {Y}_{N}}$，集合中的矢量为$\mathbf{y}={ {y}_{1}},{ {y}_{2}},…,{ {y}_{N}},\mathbf{y}\in { {Y}^{N}}$，输出单符号集为$B=\left\{ { {b}_{1}},{ {b}_{2}},…,{ {b}_{s}} \right\}$，其中${ {b}_{1}},{ {b}_{2}},…,{ {b}_{s}}$的概率分别是${ {q}_{1}},{ {q}_{2}},…,{ {q}_{s}}$，且${ {y}_{n}}$取自$B$，$1\le n\le N$，输出矢量的符号集为${ {B}^{N}}$。这种信道模型表示为$\left\{ { {X}^{N}},p\left( \mathbf{y}|\mathbf{x} \right),{ {Y}^{N}} \right\}$，其中$p\left( \mathbf{y}|\mathbf{x} \right)=p\left( { {y}_{1}},…,{ {y}_{N}}|{ {x}_{1}},…,{ {x}_{N}} \right)$。二进制离散无记忆信道设信道的输入和输出分别是长为$N$的序列，若信道的转移概率满足p\left( \mathbf{y}|\mathbf{x} \right)=\prod\limits_{n=1}^{N}{p\left( { {y}_{n}}|{ {x}_{n}} \right)}则称此信道为离散无记忆信道（DMC），其数学模型为：$\left\{ X,p\left( { {y}_{n}}|{ {x}_{n}} \right),Y \right\}$。若输入单符号集为$A=\left\{ { {a}_{1}},{ {a}_{2}} \right\}\text{=}\left\{ 0,1 \right\}$，则此信道为二进制离散无记忆信道（B-DMC）。二进制对称信道二进制对称信道，简记为BSC（Binary Symmetric Channel），输入与输出符号集分别为$A=\left\{ 0,1 \right\}$，$B=\left\{ 0,1 \right\}$，信道转移概率满足${ {P}_{Y|X}}\left( 0|0 \right)={ {P}_{Y|X}}\left( 1|1 \right)=p$，${ {P}_{Y|X}}\left( 1|0 \right)={ {P}_{Y|X}}\left( 0|1 \right)=1-p$。BSC转移概率图如图2所示。二进制删除信道二进制删除信道，简记为BEC（Binary Erasure Channel），输入与输出符号集分别为$A=\left\{ 0,1 \right\}$，$B=\left\{ 0,2,1 \right\}$，信道转移概率满足${ {P}_{Y|X}}\left( 0|0 \right)={ {P}_{Y|X}}\left( 1|1 \right)=1-\varepsilon $，${ {P}_{Y|X}}\left( 2|0 \right)={ {P}_{Y|X}}\left( 2|1 \right)=\varepsilon $，$\varepsilon $称为错误率。BEC转移概率图如图3所示。极化信道Arikan在研究极化信道和极化码时是基于B-DMC的。原始信道$W:X\to Y$如图4（a）所示，其转移概率为$W\left( y|u \right),u\in X,y\in Y$。将原始信道$W$的$N$个独立副本经过联合与分裂操作之后就形成了新的极化信道$W_{N}^{\left( i \right)}:X\to { {Y}^{N}}\times { {X}^{i-1}}$，如图4（b）所示，其转移概率为$W_{N}^{\left( i \right)}\left( y_{1}^{N},u_{1}^{i-1}|{ {u}_{i}} \right)$。极化信道转移概率对任何$n\ge 0,N={ {2}^{n}},1\le i\le {N}/{2}\;$，有递归式\begin{align} & W_{N}^{\left( 2i-1 \right)}\left( y_{1}^{N},u_{1}^{2i-2}|{ {u}_{2i-1}} \right)=\sum\limits_{ { {u}_{2i}}}{\frac{1}{2}W_{ {N}/{2}\;}^{\left( i \right)}\left( y_{1}^{ {N}/{2}\;},u_{1,o}^{2i-2}\oplus u_{1,e}^{2i-2}|{ {u}_{2i-1}}\oplus { {u}_{2i}} \right)} \\ & \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \nonumber \cdot W_{ {N}/{2}\;}^{\left( i \right)}\left( y_{ {N}/{2}\;+1}^{N},u_{1,e}^{2i-2}|{ {u}_{2i}} \right) \\ \end{align}\begin{align} & W_{N}^{\left( 2i \right)}\left( y_{1}^{N},u_{1}^{2i-1}|{ {u}_{2i}} \right)=\frac{1}{2}W_{ {N}/{2}\;}^{\left( i \right)}\left( y_{1}^{ {N}/{2}\;},u_{1,o}^{2i-2}\oplus u_{1,e}^{2i-2}|{ {u}_{2i-1}}\oplus { {u}_{2i}} \right) \\ & \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \nonumber \cdot W_{ {N}/{2}\;}^{\left( i \right)}\left( y_{ {N}/{2}\;+1}^{N},u_{1,e}^{2i-2}|{ {u}_{2i}} \right) \\ \end{align}递归计算过程中对于任意$a_{i}^{j}$，只有$i\le j$的情况，如遇到$a_{i}^{j},i&gt;j$的情况则视为无效，并定义$W_{1}^{\left( 1 \right)}\triangleq { {W}_{1}}=W$，$y_{1}^{1}\triangleq { {y}_{1}}$，$u_{1}^{1}\triangleq { {u}_{1}}$。下面以$N=4$为例详细说明。下面以BSC信道为例，计算各极化信道转移概率。$W_{1}^{\left( 1 \right)}$当$N=1,i=1$时，利用式（1）计算信道$W_{1}^{\left( 1 \right)}\text{=}W$的转移概率：\begin{align} W_{1}^{\left( 1 \right)}\left( y_{1}^{1},u_{1}^{0}|{ {u}_{1}} \right)=W\left( { {y}_{1}}|{ {u}_{1}} \right)=p \end{align}此时的信道即为如图4（a）所示的原始信道。类似的有$W\left( { {y}_{2}}|{ {u}_{2}} \right)=W\left( { {y}_{N}}|{ {u}_{N}} \right)=p$。$W_{2}^{\left( 1 \right)}$当$N=2,i=1$时，利用式（1）计算信道$W_{2}^{\left( 1 \right)}$的转移概率：\begin{align} \nonumber W_{2}^{\left( 1 \right)}\left( y_{1}^{2},u_{1}^{0}|{ {u}_{1}} \right)=\sum\limits_{ { {u}_{2}}}{\frac{1}{2}}W_{1}^{\left( 1 \right)}\left( y_{1}^{1},u_{1,o}^{0}\oplus u_{1,e}^{0}|{ {u}_{1}}\oplus { {u}_{2}} \right)\cdot W_{1}^{\left( 1 \right)}\left( y_{2}^{2},u_{1,e}^{0}|{ {u}_{2}} \right) \\ \downarrow \\ \nonumber W_{2}^{\left( 1 \right)}\left( y_{1}^{2}|{ {u}_{1}} \right)=\sum\limits_{ { {u}_{2}}}{\frac{1}{2}}W\left( { {y}_{1}}|{ {u}_{1}}\oplus { {u}_{2}} \right)\cdot W\left( { {y}_{2}}|{ {u}_{2}} \right) \\ \end{align}此时的信道即为如图4（b）所示的第1个极化信道。考察对${ {u}_{1}}$的译码可知，根据运算关系有${ {u}_{1}}={ {y}_{1}}\oplus { {y}_{2}}$，当$\left\{ { {y}_{1}},{ {y}_{2}} \right\}$中有一个是错误符号时，${ {u}_{1}}$的值便无法获得，此时${ {u}_{1}}$译码失败，可以计算$W_{2}^{\left( 1 \right)}$的转移概率为\begin{align} W_{2}^{\left( 1 \right)}\left( y_{1}^{2}|{ {u}_{1}} \right)=p\times p={ {p}^{2}} \end{align}两个原始信道$W$的副本经过信道极化构成极化信道${ {W}_{2}}$。如图5所示，${ {W}_{2}}$的一个分裂子信道${ {v}_{1}}$的转移概率即为$W_{2}^{\left( 1 \right)}$，${ {v}_{2}}$是${ {W}_{2}}$的另一个分裂子信道。下面求${ {v}_{2}}$的转移概率。$W_{2}^{\left( 2 \right)}$当$N=2,i=1$时，利用式（2）计算信道$W_{2}^{\left( 2 \right)}$的转移概率：\begin{align} \nonumber W_{2}^{\left( 2 \right)}\left( y_{1}^{2},u_{1}^{1}|{ {u}_{2}} \right)=\frac{1}{2}W_{1}^{\left( 1 \right)}\left( y_{1}^{1},u_{1,o}^{0}\oplus u_{1,e}^{0}|{ {u}_{1}}\oplus { {u}_{2}} \right)\cdot W_{1}^{\left( 1 \right)}\left( y_{2}^{2},u_{1,e}^{0}|{ {u}_{2}} \right) \\ \downarrow \\ \nonumber W_{2}^{\left( 2 \right)}\left( y_{1}^{2},{ {u}_{1}}|{ {u}_{2}} \right)=\frac{1}{2}W\left( { {y}_{1}}|{ {u}_{1}}\oplus { {u}_{2}} \right)\cdot W\left( { {y}_{2}}|{ {u}_{2}} \right) \\ \end{align}此时的信道即为如图4（b）所示的第2个极化信道。考察对${ {u}_{2}}$的译码可知，根据运算关系有${ {u}_{2}}={ {y}_{1}}\oplus { {u}_{1}}$或${ {u}_{2}}={ {y}_{2}}$，只要这两个式子的任意一个提供了正确符号，那么${ {u}_{2}}$将必定被正确译码。即当${ {u}_{1}}$被正确译码时，只有$\left\{ { {y}_{1}},{ {y}_{2}} \right\}$全部是错误符号时，${ {u}_{2}}$才会译码失败。可以计算$W_{2}^{\left( 2 \right)}$的转移概率为\begin{align} W_{2}^{\left( 2 \right)}\left( y_{1}^{2},{ {u}_{1}}|{ {u}_{2}} \right)=1-{ {\left( 1-p \right)}^{2}} \end{align}两个极化信道${ {W}_{2}}$的副本又进一步经过信道极化构成了极化信道${ {W}_{4}}$。${ {v}_{1}}$和${ {v}_{3}}$的转移概率相同，${ {v}_{2}}$和${ {v}_{4}}$的转移概率相同，如图6所示。$W_{4}^{\left( 1 \right)}$当$N=4,i=1$时，利用式（1）计算信道$W_{4}^{\left( 1 \right)}$的转移概率：\begin{align} \nonumber W_{4}^{\left( 1 \right)}\left( y_{1}^{4},u_{1}^{0}|{ {u}_{1}} \right)=\sum\limits_{ { {u}_{2}}}{\frac{1}{2}W_{2}^{\left( 1 \right)}\left( y_{1}^{2},u_{1,o}^{0}\oplus u_{1,e}^{0}|{ {u}_{1}}\oplus { {u}_{2}} \right)\cdot W_{2}^{\left( 1 \right)}\left( y_{3}^{4},u_{1,e}^{0}|{ {u}_{2}} \right)} \\ \downarrow \\ \nonumber W_{4}^{\left( 1 \right)}\left( y_{1}^{4}|{ {u}_{1}} \right)=\sum\limits_{ { {u}_{2}}}{\frac{1}{2}W_{2}^{\left( 1 \right)}\left( y_{1}^{2}|{ {u}_{1}}\oplus { {u}_{2}} \right)\cdot W_{2}^{\left( 1 \right)}\left( y_{3}^{4}|{ {u}_{2}} \right)} \\ \end{align}利用递归思想，将（4）式$W_{2}^{\left( 1 \right)}\left( y_{1}^{2}|{ {u}_{1}} \right)$的计算结果作为新的“原始信道”的转移概率，即根据$\left\{ \begin{matrix}{ {y}_{1}}=v{}_{1}\oplus { {v}_{3}} \\{ {y}_{2}}={ {v}_{3}} \\\end{matrix} \right.$递归计算$W_{4}^{\left( 1 \right)}\left( y_{1}^{4}|{ {u}_{1}} \right)$的转移概率为${ {\left( { {p}^{2}} \right)}^{2}}$，如图7所示。$W_{4}^{\left( 2 \right)}$当$N=4,i=1$时，利用式（2）计算信道$W_{4}^{\left( 2 \right)}$的转移概率：\begin{align} \nonumber & W_{4}^{\left( 2 \right)}\left( y_{1}^{4},{ {u}_{1}}|{ {u}_{2}} \right)=\frac{1}{2}W_{2}^{\left( 1 \right)}\left( y_{1}^{2}|{ {u}_{1}}\oplus { {u}_{2}} \right)\cdot W_{2}^{\left( 1 \right)}\left( y_{3}^{4}|{ {u}_{2}} \right) \\ & =1-{ {\left( 1-{ {p}^{2}} \right)}^{2}} \\ \end{align}$W_{4}^{\left( 3 \right)}$当$N=4,i=2$时，利用式（1）计算信道$W_{4}^{\left( 3 \right)}$的转移概率：\begin{align} \nonumber & W_{4}^{\left( 3 \right)}\left( y_{1}^{4},u_{1}^{2}|{ {u}_{3}} \right)=\sum\limits_{ { {u}_{4}}}{\frac{1}{2}W_{2}^{\left( 2 \right)}\left( y_{1}^{2},{ {u}_{1}}\oplus { {u}_{2}}|{ {u}_{3}}\oplus { {u}_{4}} \right)\cdot W_{2}^{\left( 2 \right)}\left( y_{3}^{4},{ {u}_{2}}|{ {u}_{4}} \right)} \\ & ={ {\left( 1-{ {\left( 1-p \right)}^{2}} \right)}^{2}} \\ \end{align}$W_{4}^{\left( 4 \right)}$当$N=4,i=2$时，利用式（2）计算信道$W_{4}^{\left( 4 \right)}$的转移概率：\begin{align} \nonumber & W_{4}^{\left( 4 \right)}\left( y_{1}^{4},u_{1}^{3}|{ {u}_{4}} \right)=\frac{1}{2}W_{2}^{\left( 2 \right)}\left( y_{1}^{2},{ {u}_{1}}\oplus { {u}_{2}}|{ {u}_{3}}\oplus { {u}_{4}} \right)\cdot W_{2}^{\left( 2 \right)}\left( y_{3}^{4},{ {u}_{2}}|{ {u}_{4}} \right) \\ & =1-{ {\left( { {\left( 1-p \right)}^{2}} \right)}^{2}} \\ \end{align}小结经过以上运算得到了极化信道${ {W}_{4}}$的各个分裂子信道的转移概率：\begin{align} \left\{ \begin{matrix} W_{4}^{\left( 1 \right)}\left( y_{1}^{4}|{ {u}_{1}} \right)={ {\left( { {p}^{2}} \right)}^{2}} \\ W_{4}^{\left( 2 \right)}\left( y_{1}^{4},{ {u}_{1}}|{ {u}_{2}} \right)=1-{ {\left( 1-{ {p}^{2}} \right)}^{2}} \\ W_{4}^{\left( 3 \right)}\left( y_{1}^{4},u_{1}^{2}|{ {u}_{3}} \right)={ {\left( 1-{ {\left( 1-p \right)}^{2}} \right)}^{2}} \\ W_{4}^{\left( 4 \right)}\left( y_{1}^{4},u_{1}^{3}|{ {u}_{4}} \right)=1-{ {\left( { {\left( 1-p \right)}^{2}} \right)}^{2}} \\ \end{matrix} \right. \end{align}若信道为BSC，则${ {W}_{4}}$的各分裂子信道的转移概率即为式（12）。若信道为BEC，只需将$p$替换为$1-\varepsilon $，即\begin{align} \left\{ \begin{matrix} W_{4}^{\left( 1 \right)}\left( y_{1}^{4}|{ {u}_{1}} \right)={ {\left( { {\left( 1-\varepsilon \right)}^{2}} \right)}^{2}} \\ W_{4}^{\left( 2 \right)}\left( y_{1}^{4},{ {u}_{1}}|{ {u}_{2}} \right)=1-{ {\left( 1-{ {\left( 1-\varepsilon \right)}^{2}} \right)}^{2}} \\ W_{4}^{\left( 3 \right)}\left( y_{1}^{4},u_{1}^{2}|{ {u}_{3}} \right)={ {\left( 1-{ {\varepsilon }^{2}} \right)}^{2}} \\ W_{4}^{\left( 4 \right)}\left( y_{1}^{4},u_{1}^{3}|{ {u}_{4}} \right)=1-{ {\left( { {\varepsilon }^{2}} \right)}^{2}} \\ \end{matrix} \right. \end{align}验证假设对于删除概率为$\varepsilon =0.5$的BEC，原始信道$W$的对称容量$I\left( W \right)=0.5$，利用式（13）可得各分裂信道转移概率\begin{align} \left\{ \begin{matrix} W_{4}^{\left( 1 \right)}\left( y_{1}^{4}|{ {u}_{1}} \right)={ {\left( { {\left( 1-\varepsilon \right)}^{2}} \right)}^{2}}=0.0625 \\ W_{4}^{\left( 2 \right)}\left( y_{1}^{4},{ {u}_{1}}|{ {u}_{2}} \right)=1-{ {\left( 1-{ {\left( 1-\varepsilon \right)}^{2}} \right)}^{2}}=0.4375 \\ W_{4}^{\left( 3 \right)}\left( y_{1}^{4},u_{1}^{2}|{ {u}_{3}} \right)={ {\left( 1-{ {\varepsilon }^{2}} \right)}^{2}}=0.5625 \\ W_{4}^{\left( 4 \right)}\left( y_{1}^{4},u_{1}^{3}|{ {u}_{4}} \right)=1-{ {\left( { {\varepsilon }^{2}} \right)}^{2}}=0.9375 \\ \end{matrix} \right. \end{align}进而求得各分裂信道的对称容量\begin{align} \left\{ \begin{matrix} I\left( W_{4}^{\left( 1 \right)} \right)=0.0625 \\ I\left( W_{4}^{\left( 2 \right)} \right)=\text{0}\text{.4375} \\ I\left( W_{4}^{\left( 3 \right)} \right)=\text{0}\text{.5625} \\ I\left( W_{4}^{\left( 4 \right)} \right)=\text{0}\text{.9375} \\ \end{matrix} \right. \end{align}从式（15）可以看出原始信道$W$的4个独立副本经过信道极化以后，各分裂信道的容量呈现两极分化趋势。一部分子信道容量开始趋近于0，另一部分子信道容量开始趋近于1。并且信道总容量不变：$I\left( W_{4}^{\left( 1 \right)} \right)\text{+}I\left( W_{4}^{\left( 2 \right)} \right)\text{+}I\left( W_{4}^{\left( 3 \right)} \right)\text{+}I\left( W_{4}^{\left( 4 \right)} \right)\text{=}4\times I\left( W \right)$。总结本文首先引入离散信道的数学模型，进而定义二进制对称信道和二进制删除信道的转移概率，并延伸出极化信道的转移概率。之后以$N=4$为例，推导了极化信道${ {W}_{4}}$各分裂子信道的转移概率。最后由各分裂信道的转移概率计算相应的对称容量，验证了信道极化现象。参考文献[1] 田宝玉. 信息论基础.第2版[M]. 人民邮电出版社, 2016.[2] Arikan E. Channel Polarization: A Method for Constructing Capacity-Achieving Codes for Symmetric Binary-Input Memoryless Channels[J]. IEEE Transactions on Information Theory, 2008, 55(7):3051-3073.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Answer-Polar Code-定义错误概率]]></title>
      <url>%2F2017%2F03%2F07%2Fanswer-polar-code-def-error-prob%2F</url>
      <content type="text"><![CDATA[《Polar Code（4）编码之极化信道可靠性估计》提到，事件${ {A}_{i}}$表示序号为$i$的极化信道$W_{N}^{\left( i \right)}$所承载的比特经过传输后接收发生错误，即{ {A}_{i}}=\left\{ u_{1}^{N},y_{1}^{N}:W_{N}^{\left( i \right)}\left( y_{1}^{N},u_{1}^{i-1}|{ {u}_{i}} \right)]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（4）编码之极化信道可靠性估计]]></title>
      <url>%2F2017%2F03%2F07%2Fpolar-code-4-encoding-chan-rel-est%2F</url>
      <content type="text"><![CDATA[前言由Arikan发明的Polar Code经典编码算法已在《Polar Code（2）编码原理》中阐明，《Polar Code（3）编码实例》则是对前文的举例。在编码实例中，有两个前提假设：假设一个二进制删除信道（BEC）；假设采用计算巴氏参数来评估各分裂子信道的可靠性。Arikan在讨论信道极化时，针对的是二进制离散无记忆信道（B-DMC），然而在构造极化码时需要计算的巴氏参数$Z\left( W \right)$的适用范围是二进制删除信道。BEC是B-DMC的子集。因此在Polar Code编码时只能回落的BEC来进行构造。当信道不是BEC信道时，比如二元对称信道（BSC）或二进制高斯白噪声信道（BAWGNC），则超出了$Z\left( W \right)$的适用范围，各个分裂信道的$Z\left( W{}_{N}^{\left( i \right)} \right)$无法精确得到。为了更精确地估计信道极化中各分裂信道的可靠性，Mori等人提出了密度进化（Density Evolution，DE）的构造方法。该方法适用于所有类型的B-DMC。定义错误概率：对信道$W$的$N$个独立时隙上进行信道极化以后，得到极化信道$W_{N}^{\left( i \right)}$，其中$i=1,2,…,N$。令事件${ {A}_{i}}$表示序号为$i$的极化信道$W_{N}^{\left( i \right)}$所承载的比特经过传输后接收发生错误，即{ {A}_{i}}=\left\{ u_{1}^{N},y_{1}^{N}:W_{N}^{\left( i \right)}\left( y_{1}^{N},u_{1}^{i-1}|{ {u}_{i}} \right)0} \\ 1\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,x=0 \\ \end{matrix} \right. \end{equation}注：文献[2]中的公式有误。$\varphi \left( x \right)$在$\left[ 0,\infty \right)$上连续单调递减，$\varphi \left( 0 \right)\text{=}1$，$\varphi \left( \infty \right)\text{=0}$，其反函数用${ {\varphi }^{-1}}\left( x \right)$表示。一般情况下，函数$\varphi \left( x \right)$可以使用如下的近似形式计算\begin{equation} \varphi \left( x \right)=\left\{ \begin{matrix} \sqrt{\frac{\pi }{x}}\left( 1-\frac{10}{7x} \right)\exp \left( -\frac{x}{4} \right),x\ge 10 \\ \exp \left( -0.4527{ {x}^{0.86}}+0.0218 \right),0]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（3）编码实例]]></title>
      <url>%2F2017%2F03%2F05%2Fpolar-code-3-encoding-example%2F</url>
      <content type="text"><![CDATA[前言在《Polar Code（2）编码原理》中详细阐述了Polar Code编码原理，为更好地理解编码过程，本文将给出一个编码实例。设码长为$N=8$，消息比特数$K=4$。列出所有使用到的公式：c_{1}^{N}=u_{1}^{N}{G_{N}}{G_{N}}={B_{N}}{F^{\otimes n}}{F^{\otimes n}}=F\otimes {F^{\otimes \left( n-1 \right)}}F=\left[ \begin{matrix} 1 & 0 \\ 1 & 1 \\ \end{matrix} \right]{B_{N}}={R_{N}}\left( {I_{2}}\otimes {B_{N/{2}\;}} \right){B_{2}}={I_{2}}极化信道的可靠性估计假设对于各二进制删除信道（BEC），已计算出各个分裂信道的巴氏参数$Z\left( W_{N}^{\left( i \right)} \right)$。比特混合假设通过第一步得到巴氏参数最小的4个子信道序号为“4，6，7，8”，则消息比特序号集合记为A=\left\{ 4,6,7,8 \right\}则固定比特序号集合为{A^{c}}=\left\{ 1,2,3,5 \right\}设信息比特集合为$\left( {i_{1}},{i_{2}},{i_{3}},{i_{4}} \right)=\left( 1,1,1,1 \right)$，固定比特集合为$\left( 0,0,0,0 \right)$，则最终得到u_{1}^{8}=\left[ 0,0,0,{i_{1}},0,{i_{2}},{i_{3}},{i_{4}} \right]=\left[ 0,0,0,1,0,1,1,1 \right]构造生成矩阵求排序矩阵BN递归式：{B_{8}}={R_{8}}\left( {I_{2}}\otimes {B_{4}} \right){B_{4}}={R_{4}}\left( {I_{2}}\otimes {B_{2}} \right)计算：{B_{2}}=\left[ \begin{matrix} 1 & 0 \\ 0 & 1 \\ \end{matrix} \right]{I_{2}}\otimes {B_{2}}=\left[ \begin{matrix} 1 & 0 & 0 & 0 \\ 0 & 1 & 0 & 0 \\ 0 & 0 & 1 & 0 \\ 0 & 0 & 0 & 1 \\ \end{matrix} \right]${R_{4}}$由${I_{4}}$变换得来，先排${I_{4}}$的奇数列，再排${I_{4}}$的偶数列：{R_{4}}=\left[ \begin{matrix} 1 & 0 & 0 & 0 \\ 0 & 0 & 1 & 0 \\ 0 & 1 & 0 & 0 \\ 0 & 0 & 0 & 1 \\ \end{matrix} \right]\Leftarrow {I_{4}}=\left[ \begin{matrix} 1 & 0 & 0 & 0 \\ 0 & 1 & 0 & 0 \\ 0 & 0 & 1 & 0 \\ 0 & 0 & 0 & 1 \\ \end{matrix} \right]{ {B}_{4}}={ {R}_{4}}\left( { {I}_{2}}\otimes { {B}_{2}} \right)=\left[ \begin{matrix} 1 & 0 & 0 & 0 \\ 0 & 0 & 1 & 0 \\ 0 & 1 & 0 & 0 \\ 0 & 0 & 0 & 1 \\ \end{matrix} \right]\cdot \left[ \begin{matrix} 1 & 0 & 0 & 0 \\ 0 & 1 & 0 & 0 \\ 0 & 0 & 1 & 0 \\ 0 & 0 & 0 & 1 \\ \end{matrix} \right]\text{=}\left[ \begin{matrix} 1 & 0 & 0 & 0 \\ 0 & 0 & 1 & 0 \\ 0 & 1 & 0 & 0 \\ 0 & 0 & 0 & 1 \\ \end{matrix} \right]{I_{2}}\otimes {B_{4}}=\left[ \begin{matrix} 1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 1 & 0 & 0 & 0 & 0 & 0 \\ 0 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 0 & 1 & 0 \\ 0 & 0 & 0 & 0 & 0 & 1 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 0 & 0 & 1 \\ \end{matrix} \right]${R_{8}}$由${I_{8}}$变换得来，先排${I_{8}}$的奇数列，再排${I_{8}}$的偶数列：{R_{8}}=\left[ \begin{matrix} 1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\ 0 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 1 & 0 & 0 \\ 0 & 0 & 1 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 0 & 1 & 0 \\ 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 0 & 0 & 1 \\ \end{matrix} \right]\Leftarrow {I_{8}}=\left[ \begin{matrix} 1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ 0 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 1 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 1 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 0 & 1 & 0 \\ 0 & 0 & 0 & 0 & 0 & 0 & 0 & 1 \\ \end{matrix} \right]\begin{align} & { {B}_{8}}={ {R}_{8}}\left( { {I}_{2}}\otimes { {B}_{4}} \right)=\nonumber \left[ \begin{matrix} 1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\ 0 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 1 & 0 & 0 \\ 0 & 0 & 1 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 0 & 1 & 0 \\ 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 0 & 0 & 1 \\ \end{matrix} \right]\cdot \left[ \begin{matrix} 1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 1 & 0 & 0 & 0 & 0 & 0 \\ 0 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 0 & 1 & 0 \\ 0 & 0 & 0 & 0 & 0 & 1 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 0 & 0 & 1 \\ \end{matrix} \right] \\ & \begin{matrix} {} & {} & {} & \begin{matrix} {} & {} & = \nonumber \left[ \begin{matrix} 1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\ 0 & 0 & 1 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 0 & 1 & 0 \\ 0 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 1 & 0 & 0 \\ 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 0 & 0 & 1 \\ \end{matrix} \right] \\ \end{matrix} \\ \end{matrix} \\ \end{align}求F的n次克罗内克积递归式：{F^{\otimes 3}}=F\otimes {F^{\otimes 2}}{F^{\otimes 2}}=F\otimes {F^{\otimes 1}}计算：{F^{\otimes 1}}\text{=}F=\left[ \begin{matrix} 1 & 0 \\ 1 & 1 \\ \end{matrix} \right]{F^{\otimes 2}}=F\otimes {F^{\otimes 1}}=\left[ \begin{matrix} 1 & 0 \\ 1 & 1 \\ \end{matrix} \right]\otimes {F^{\otimes 1}}=\left[ \begin{matrix} {F^{\otimes 1}} & 0 \\ {F^{\otimes 1}} & {F^{\otimes 1}} \\ \end{matrix} \right]=\left[ \begin{matrix} 1 & 0 & 0 & 0 \\ 1 & 1 & 0 & 0 \\ 1 & 0 & 1 & 0 \\ 1 & 1 & 1 & 1 \\ \end{matrix} \right]{F^{\otimes 3}}=F\otimes {F^{\otimes 2}}=\left[ \begin{matrix} 1 & 0 \\ 1 & 1 \\ \end{matrix} \right]\otimes {F^{\otimes 2}}=\left[ \begin{matrix} {F^{\otimes 2}} & 0 \\ {F^{\otimes 2}} & {F^{\otimes 2}} \\ \end{matrix} \right]\text{=}\left[ \begin{matrix} 1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ 1 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\ 1 & 0 & 1 & 0 & 0 & 0 & 0 & 0 \\ 1 & 1 & 1 & 1 & 0 & 0 & 0 & 0 \\ 1 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\ 1 & 1 & 0 & 0 & 1 & 1 & 0 & 0 \\ 1 & 0 & 1 & 0 & 1 & 0 & 1 & 0 \\ 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\ \end{matrix} \right]求生成矩阵GN\begin{align} & { {G}_{8}}={ {B}_{8}}{ {F}^{\otimes 3}}=\nonumber \left[ \begin{matrix} 1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\ 0 & 0 & 1 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 0 & 1 & 0 \\ 0 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 1 & 0 & 0 \\ 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 & 0 & 0 & 0 & 1 \\ \end{matrix} \right]\cdot \left[ \begin{matrix} 1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ 1 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\ 1 & 0 & 1 & 0 & 0 & 0 & 0 & 0 \\ 1 & 1 & 1 & 1 & 0 & 0 & 0 & 0 \\ 1 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\ 1 & 1 & 0 & 0 & 1 & 1 & 0 & 0 \\ 1 & 0 & 1 & 0 & 1 & 0 & 1 & 0 \\ 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\ \end{matrix} \right] \\ & \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \text{=} \nonumber \left[ \begin{matrix} 1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ 1 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\ 1 & 0 & 1 & 0 & 0 & 0 & 0 & 0 \\ 1 & 0 & 1 & 0 & 1 & 0 & 1 & 0 \\ 1 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\ 1 & 1 & 0 & 0 & 1 & 1 & 0 & 0 \\ 1 & 1 & 1 & 1 & 0 & 0 & 0 & 0 \\ 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\ \end{matrix} \right] \\ \end{align}生成Polar Code\nonumber \begin{align} & c_{1}^{8}=u_{1}^{8}{G_{8}}=\left[ \begin{matrix} 0 & 0 & 0 & 1 & 0 & 1 & 1 & 1 \\ \end{matrix} \right]\cdot \left[ \begin{matrix} 1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ 1 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\ 1 & 0 & 1 & 0 & 0 & 0 & 0 & 0 \\ 1 & 0 & 1 & 0 & 1 & 0 & 1 & 0 \\ 1 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\ 1 & 1 & 0 & 0 & 1 & 1 & 0 & 0 \\ 1 & 1 & 1 & 1 & 0 & 0 & 0 & 0 \\ 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\ \end{matrix} \right] \\ & \ \ \ \ =\left[ \nonumber \begin{matrix} 0 & 1 & 1 & 0 & 1 & 0 & 0 & 1 \\ \end{matrix} \right] \\ \end{align}]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（2）编码原理]]></title>
      <url>%2F2017%2F03%2F04%2Fpolar-code-2-encoding-principle%2F</url>
      <content type="text"><![CDATA[前言在《Polar Code（1）概述》中建立了Polar Code初步印象，本文将详细阐述Polar Code编码原理。Polar Code是通过引入信道极化概念而构建的。信道极化分为两个阶段，分别是信道联合和信道分裂。通过信道的联合与分裂，各个子信道的对称容量将呈现两级分化的趋势：随着码长（也就是联合信道数）$N$的增加，一部分子信道的容量趋于1，而其余子信道的容量趋于0。Polar Code正是利用这一信道极化的现象，在容量趋于1的$K$个子信道上传输消息比特，在其余子信道上传输冻结比特（即收发双方已知的固定比特，通常设置为全零）。由此构成的编码即为Polar Code，码率为${K}/{N}\;$。预备知识一个二进制输入离散无记忆信道（B-DMC）可表示为$W:X\to Y$，$X$是输入符号集合，$Y$是输出符号集合，转移概率为$W\left( y|x \right),x\in X,y\in Y$。由于信道是二进制输入，集合$X=\left\{ 0,1 \right\}$；$Y$和$W\left( y|x \right)$是任意值。对信道$W$的$N$次使用后的信道可表示为${W^{N}}$，则信道${W^{N}}:{X^{N}}\to {Y^{N}}$的转移概率为${W^{N}}\left( y_1^{N}|x_{1}^{N} \right)=\prod\nolimits_{i=1}^{N}{W\left( y|x \right)}$。对于一个B-DMC $W$，有两个重要的信道参数：对称容量（Symmetric Capacity）I\left( W \right)\triangleq \sum\limits_{y\in Y}{\sum\limits_{x\in X}{\frac{1}{2}}}W\left( y|x \right)\log \frac{W\left( y|x \right)}{\frac{1}{2}W\left( y|0 \right)+\frac{1}{2}W\left( y|1 \right)}巴氏参数（Bhattacharyya Parameter）Z\left( W \right)\triangleq \sum\limits_{y\in Y}{\sqrt{W\left( y|0 \right)W\left( y|1 \right)}}$I\left( W \right)$是对信道速率的度量，$Z\left( W \right)$对信道可靠性的度量。$I\left( W \right)$是信道$W$在等概率输入下的可靠传输时的最大速率；而$Z\left( W \right)$是信道$W$只传输0或1下的最大似然判决错误概率的上限。$I\left( W \right)$与$Z\left( W \right)$的取值范围均为$\left[ 0,1 \right]$。由于对数以2为底，因此码率和信道容量的单位为bit。$I\left( W \right)$与$Z\left( W \right)$满足这样的关系：且仅当$Z\left( W \right)\approx 0$时，$I\left( W \right)\approx 1$；当且仅当$Z\left( W \right)\approx 1$时，$I\left( W \right)\approx 0$。当$W$为对称信道时，$I\left( W \right)$等于香农容量。所谓信道对称，即满足：对于任意$y\in Y$，有$W\left( y|0 \right)=W\left( -y|1 \right)$。二进制对称信道（Binary Symmetric Channel，BSC）和二进制删除信道（Binary Erasure Channel，BEC）都是满足对称性的B-DMC。具体地说，对于$Y=\left\{ 0,1 \right\}$，满足$W\left( 0|0 \right)=W\left( 1|1 \right)$且$W\left( 1|0 \right)=W\left( 0|1 \right)$的B-DMC是为BSC。对于$y\in Y$，满足$W\left( y|0 \right)W\left( y|1 \right)=0$或$W\left( y|0 \right)=W\left( y|1 \right)$的B-DMC是为BEC。对于BEC，符号$y$称为删除符号（Erasure Symbol）。行向量$\left( {a_{1}},…,{a_{N}} \right)$在这里简写为$a_{1}^{N}$。对于给定的行向量$a_{1}^{N}$，其子向量表示为$a_{i}^{j},1\le i,j\le N$，且$i\le j$。对于给定的$a_{1}^{N}$和$A\subset \left\{ 1,…,N \right\}$，记${a_{A}}$表示子向量$\left( {a_{i}}:i\in A \right)$。记$a_{1,o}^{j}$表示奇数索引的子向量$\left( {a_{k}}:1\le k\le j;\begin{matrix}k &amp; odd \\\end{matrix} \right)$，记$a_{1,e}^{j}$表示偶数索引的子向量$\left( {a_{k}}:1\le k\le j;\begin{matrix}k &amp; even \\\end{matrix} \right)$。例如，对于向量$a_{1}^{5}=\left( 5,4,6,2,1 \right)$，有$a_{2}^{4}=\left( 4,6,2 \right)$，$a_{1,e}^{5}=\left( 4,2 \right)$，$a_{1,o}^{4}\left( 5,6 \right)$。全零向量则记为$0_{1}^{N}$。在此所讨论的向量、矩阵的运算均是在二元域上的运算，即GF（2）。记$\oplus $为模2加，记$\otimes $为克罗内克积（Kronecker Power）。记${A^{\otimes n}}$表示$A$的$n$次克罗内克积，有递归式${A^{\otimes n}}=A\otimes {A^{\otimes \left( n-1 \right)}},n\ge 1$，并且定义${A^{\otimes 0}}=\left[ 1 \right]$。记$\left| A \right|$表示集合$A$中元素的个数。记${1_{A}}$表示集合$A$的指示函数，若$x\in A$，则${1_{A\left( x \right)}}=1$；若$x\notin A$，则${1_{A\left( x \right)}}=0$。信道极化信道极化分为两个阶段：信道联合阶段（Channel Combining）和信道分裂（Channel Splitting）阶段。信道联合在这一阶段，联合B-DMC $W$的$N$个独立副本，通过递归方式产生一个向量信道${W_{N}}:{X^{N}}\to {Y^{N}}$，其中$N$为2的幂次$N={2^{n}},n\ge 0$。递归开始于第0级（$n=0$），只使用$W$的1个副本，并定义${W_{1}}\triangleq W$。第1级（$n=1$）递归联合了2个独立副本，如图1所示，得到向量信道${W_{2}}:{X^{2}}\to {Y^{2}}$，其转移概率为{W_{2}}\left( {y_{1}},{y_{2}}|{u_{1}},{u_{2}} \right)=W\left( {y_{1}}|{u_{1}}\oplus {u_{2}} \right)W\left( {y_{2}}|{u_{2}} \right)第2级（$n=2$）递归如图2所示，联合信道${W_{2}}$的2个独立副本得到信道${W_{4}}:{X^{4}}\to {Y^{4}}$，其转移概率为{W_{4}}\left( y_{1}^{4}|u_{1}^{4} \right)={W_{2}}\left( y_{1}^{2}|{u_{1}}\oplus {u_{2}},{u_{3}}\oplus {u_{4}} \right){W_{2}}\left( y_{3}^{4}|{u_{2}},{u_{4}} \right)在图2中，${R_{4}}$是完成从$\left( {s_{1}},{s_{2}},{s_{3}},{s_{4}} \right)$到$v_{1}^{4}=\left( {s_{1}},{s_{3}},{s_{2}},{s_{4}} \right)$的置换操作（排序）。从信道${W_{4}}$的输入${W^{4}}$的输入的映射$u_{1}^{4}\to x_{1}^{4}$可用公式表示为$x_{1}^{4}=u_{1}^{4}{G_{4}}$，${G_{4}}=\left[ \begin{matrix}1 &amp; 0 &amp; 0 &amp; 0 \\1 &amp; 0 &amp; 1 &amp; 0 \\1 &amp; 1 &amp; 0 &amp; 0 \\1 &amp; 1 &amp; 1 &amp; 1 \\\end{matrix} \right]$。因此${W_{4}}$和${W^{4}}$的转移概率有关系式${W_{4}}\left( y_{1}^{4}|u_{1}^{4} \right)={W^{4}}\left( y_{1}^{4}|u_{1}^{4}{G_{4}} \right)$。图3所示为递归结构的一般形式。${W_{N/{2}\;}}$的2个独立副本联合产生信道${W_{N}}$。输入向量$u_{1}^{N}$进入信道${W_{N}}$，首先被转换为$s_{1}^{N}$：${s_{2i-1}}={u_{2i-1}}\oplus {u_{2i}}$，${s_{2i}}={u_{2i}}$，$1\le i\le {N}/{2}\;$。${R_{N}}$表示比特反转排序操作，输入为$s_{1}^{N}$，输出为$v_{1}^{N}=\left( {s_{1}},{s_{3}},…,{s_{N-1}},{s_{2}},{s_{4}},…,{s_{N}} \right)$。$v_{1}^{N}$则成为2个${W_{N/{2}\;}}$独立副本的输入。映射$u_{1}^{N}\to v_{1}^{N}$是二元域GF（2）上的线性变换。$u_{1}^{N}\to x_{1}^{N}$是由复合信道${W_{N}}$的输入到原始信道${W^{N}}$的输入的映射，其映射过程也是线性变换。因此有$x_{1}^{N}=u_{1}^{N}{G_{N}}$。称${G_{N}}$为$N$维生成矩阵。信道${W_{N}}$和${W^{N}}$的转移概率有如下关系：{W_{N}}\left( y_{1}^{N}|u_{1}^{N} \right)={W^{N}}\left( y_{1}^{N}|u_{1}^{N}{G_{N}} \right)其中$y_{1}^{N}\in {Y^{N}},u_{1}^{N}\in {X^{N}}$。信道分裂这是信道极化的第二阶段。将信道联合构成的复合信道${W_{N}}$分裂为$N$个二进制输入的坐标信道（Coordinate Channels）$W_{N}^{\left( i \right)}:X\to {Y^{N}}\times {X^{i-1}},1\le i\le N$，定义其转移概率为W_{N}^{\left( i \right)}\left( y_{1}^{N},u_{1}^{i-1}|{u_{i}} \right)\triangleq \sum\limits_{u_{i+1}^{N}\in {X^{N-i}}}{\frac{1}{2^{N-1}}{W_{N}}\left( y_{1}^{N}|u_{1}^{N} \right)}其中$\left( y_{1}^{N},u_{1}^{i-1} \right)$表示$W_{N}^{\left( i \right)}$的输出，而${u_{i}}$表示$W_{N}^{\left( i \right)}$的输入。奇序分裂子信道和偶序分裂子信道的转移概率由两个递归式得到。对任何$n\ge 0,N={2^{n}},1\le i\le {N}/{2}\;$，有W_{N}^{\left( 2i-1 \right)}\left( y_{1}^{N},u_{1}^{2i-2}|{u_{2i-1}} \right)=\sum\limits_{u_{2i}}{\frac{1}{2}W_{N/{2}\;}^{\left( i \right)}\left( y_{1}^{N/{2}\;},u_{1,o}^{2i-2}\oplus u_{1,e}^{2i-2}|{u_{2i-1}}\oplus {u_{2i}} \right)\cdot W_{N/{2}\;}^{\left( i \right)}\left( y_{N/{2}\;+1}^{N},u_{1,e}^{2i-2}|{u_{2i}} \right)}W_{N}^{\left( 2i \right)}\left( y_{1}^{N},u_{1}^{2i-1}|{u_{2i}} \right)=\frac{1}{2}W_{N/{2}\;}^{\left( i \right)}\left( y_{1}^{N/{2}\;},u_{1,o}^{2i-2}\oplus u_{1,e}^{2i-2}|{u_{2i-1}}\oplus {u_{2i}} \right)\cdot W_{N/{2}\;}^{\left( i \right)}\left( y_{N/{2}\;+1}^{N},u_{1,e}^{2i-2}|{u_{2i}} \right)信道极化定理定理1：对任意B-DMC $W$与任意$\delta \in \left( 0,1 \right)$，当$N$以2的幂次趋近于无穷大时，极化信道$W_{N}^{\left( i \right)}$中，满足$I\left( W_{N}^{\left( i \right)} \right)\in \left( 1-\delta ,1 \right]$的信道数占总信道数$N$的比例趋于$I\left( W \right)$；满足$I\left( W_{N}^{\left( i \right)} \right)\in \left[ 0,\delta \right)$的信道所占的比例趋于$1-I\left( W \right)$。定理2：对任意B-DMC $W$，$I\left( W \right)&gt;0$，且对任意$R&lt;I\left( W \right)$，存在一个序列集合${A_{N}}\subset \left\{ 1,…,N \right\},N\in \left\{ 1,2,…,{2^{n}},… \right\}$，对所有$i\in {A_{N}}$有$\left| {A_{N}} \right|\ge NR$且$Z\left( W_{N}^{\left( i \right)} \right)\le O\left( {N^{-5/{4}\;}} \right)$。极化编码利用极化现象构建的编码可以达到对称容量$I\left( W \right)$，称为极化编码（Polar Coding）。极化编码的基本思想是：只在$Z\left( W_{N}^{\left( i \right)} \right)$近于0的坐标信道$W_{N}^{\left( i \right)}$上发送数据比特。极化码具有一般的二元线性分组码的基本编码要素，因而可以通过显示地写出其生成矩阵来完成编码：x_{1}^{N}=u_{1}^{N}{G_{N}}其中$u_{1}^{N}$为原始比特序列，$x_{1}^{N}$为编码后的比特序列，${G_{N}}$为生成矩阵，码长为$N={2^{n}}$。极化编码步骤：极化信道可靠性估计比特混合构造生成矩阵极化信道可靠性估计对于BEC，Arikan给出的方法是计算巴氏参数Z\left( W_{N}^{\left( i \right)} \right)=\sum\limits_{y_{1}^{N}\in {Y^{N}}}{\sum\limits_{u_{1}^{i-1}\in {X^{i-1}}}{\sqrt{W_{N}^{\left( i \right)}\left( y_{1}^{N},u_{1}^{i-1}|0 \right)W_{N}^{\left( i \right)}\left( y_{1}^{N},u_{1}^{i-1}|1 \right)}}}$Z\left( W_{N}^{\left( i \right)} \right)$越小，相应的对称容量$I\left( W_{N}^{\left( i \right)} \right)$越大；反之，$Z\left( W_{N}^{\left( i \right)} \right)$越大，说明该信道越不可靠。对于非BEC，如BSC信道或AWGNC，不能得到精确的巴氏参数，需要采用密度进化或高斯近似法估计信道的可靠性，详见《Polar Code（4）编码之极化信道可靠性估计》。比特混合在这一步的规则是：选择可靠性最大的$K$个分裂子信道传输消息比特，其他分裂子信道传输冻结比特。这一步的输出即为编码的原始比特$u_{1}^{N}$。对于BEC来说，选择巴氏参数最小的$K$个子信道放置消息比特。构造生成矩阵生成矩阵表示为{G_{N}}\text{=}{B_{N}}{F^{\otimes n}}其中${F^{\otimes n}}$表示对矩阵$F=\left[ \begin{matrix}1 &amp; 0 \\1 &amp; 1 \\\end{matrix} \right]$的$n$次克罗内克积，有递归式${F^{\otimes n}}\text{=}F\otimes {F^{\otimes \left( n-1 \right)}}$。${B_{N}}$是排序矩阵，用以完成比特反序重排操作。所有比特反序重排，就是将每个原序列的十进制序号$i\in \left\{ 1,2,…,N \right\}$按二进制表示为$\left( i-1 \right)\to \left( {b_{n}},{b_{n-1}},…,{b_{1}} \right)$，其中${b_{n}}$为最高有效位；再将该二进制序列反序，得到$\left( {b_{1}},{b_{2}},…,{b_{n}} \right)$；最后以${b_{1}}$为最高有效位重新按十进制表示成$\left( {b_{1}},{b_{2}},…,{b_{n}} \right)\to \left( j-1 \right)$，令输出序列的第$j$个元素取值为原序列的第$i$个元素。${B_{N}}$的递归式定义为{B_{N}}={R_{N}}\left( {I_{2}}\otimes {B_{N/{2}\;}} \right)其中${I_{2}}$为2维单位阵，${B_{2}}={I_{2}}$；矩阵${R_{N}}$为置换矩阵，对输入序列完成奇序元素和偶序元素的分离，即先排奇序元素，再排偶序元素，其作为效果如下\left( {u_{1}},{u_{2}},{u_{3}},{u_{4}},...,u{}_{N} \right)\times {R_{N}}=\left( {u_{1}},{u_{3}},{u_{5}},...,{u_{N-1}},{u_{2}},{u_{4}},{u_{6}},...,{u_{N}} \right)总结本文首先介绍了Polar Code的预备知识，如对称容量、巴氏参数以及所涉及的数学符号的表示。其次介绍了信道极化的两个阶段：信道联合与信道分裂。最后阐述了Polar Code的编码过程：通过构造生成矩阵获得${G_{N}}$，通过计算各个分裂子信道的错误概率用以判断消息比特位置从而获得$u_{1}^{N}$；两者相乘$u_{1}^{N}{G_{N}}$即为Polar Code。极化码是一种线性分组码，通过构造生成矩阵而获得编码。只要给定码长$N$，编译码结构就唯一确定。极化码基于信道极化现象，做到了扬长而避短。在最可靠的子信道上传输消息比特是为扬长，在最不可靠的子信道上传输冻结比特是为避短。参考文献[1] Arikan E. Channel Polarization: A Method for Constructing Capacity-Achieving Codes for Symmetric Binary-Input Memoryless Channels[J]. IEEE Transactions on Information Theory, 2008, 55(7):3051-3073.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Polar Code（1）概述]]></title>
      <url>%2F2017%2F03%2F01%2Fpolar-code-1-summary%2F</url>
      <content type="text"><![CDATA[2016年11月18日，在美国内华达州里诺召开的3GPP RAN1 #87次会议，确定Polar Code作为5G eMBB（增强移动宽带）场景下控制信道编码方案。2008年，Erdal Arikan在国际信息论ISIT会议上首次提出了信道极化（Channel Polarization）的概念；2009年在“IEEE Transaction on Information Theory”期刊上发表了一篇长达23页的论文更加详细地阐述了信道极化，并基于信道极化给出了一种新的编码方式，名称为极化码（Polar Code）。极化码具有确定性的构造方法，并且是已知的唯一一种能够被严格证明“达到”信道容量的信道编码方法。从代数编码和概率编码的角度来说，极化码具备了两者各自的特点。首先，只要给定编码长度，极化码的编译码结构就唯一确定了，而且可以通过生成矩阵的形式完成编码过程，这一点和代数编码的常见思维是一致的。其次，极化码在设计时并没有考虑最小距离特性，而是利用了信道联合（Channel Combination）与信道分裂（Channel Splitting）的过程来选择具体的编码方案，而且在译码时也是采用概率算法，这一点比较符合概率编码的思想。对于长度为$N={2^{n}}$（$n$为任意正整数）的极化码，它利用信道$W$的N个独立副本，进行信道联合和信道分裂，得到新的N个分裂之后的信道$\left\{ W_{N}^{\left( 1 \right)},W_{N}^{\left( 2 \right)},…,W_{N}^{\left( N \right)} \right\}$。随着码长N的增加，分裂之后的信道将向两个极端发展：其中一部分分裂信道会趋近于完美信道，即信道容量趋近于1的无噪声信道；而另一部分分裂信道会趋近于完全噪声信道，即信道容量趋近于0的信道。假设原信道$W$的二进制输入对称容量记作$I\left(W\right)$，那么当码长N趋近于无穷大时，信道容量趋近于1的分裂信道比例约为$K=N\times I\left( W \right)$，而信道容量趋近于0的比例约为$N\times \left( 1-I\left( W \right) \right)$。对于信道容量为1的可靠信道，可以直接放置消息比特而不采用任何编码，即相当于编码速率为$R=1$；而对于信道容量为0的不可靠信道，可以放置发送端和接收端都事先已知的冻结比特，即相当于编码速率为$R=0$。那么当码长$N\to \infty $时，极化码的可达编码速率$R=N\times I\left(W\right)/N=I\left(W\right)$，即在理论上，极化码可以被证明是可达信道容量的。在极化码编码时，首先要区分出N个分裂信道的可靠程度，即哪些属于可靠信道，哪些属于不可靠信道。对各个极化信道的可靠性进行度量常用的有三种方法：巴氏参数（Bhattacharyya Parameter）法、密度进化（Density Evolution，DE）法和高斯近似（Gaussian Approximation）法：最初，极化码采用巴氏参数$Z\left( W \right)$来作为每个分裂信道的可靠性度量，$Z\left( W \right)$越大表示信道的可靠程度越低。当信道$W$是二元删除信道（Binary Erasure Channel，BEC）时，每个$Z\left( W_{N}^{\left( i \right)} \right)$都可以采用递归的方式计算出来，复杂度为$O\left( N\log N \right)$。然而，对于其他信道，如二进制输入对称信道（Binary-input Symmeric Channel，BSC）或者二进制输入加性高斯白噪声信道（Binary-input Additive White Gaussian Channel，BAWGNC）并不存在准确的能够计算$Z\left( W_{N}^{\left( i \right)} \right)$的方法。因此，Mori等人提出了一种采用密度进化方法跟踪每个子信道概率密度函数（Probability Density Function，PDF），从而估计每个子信道错误概率的方法。这种方法适用于所有类型的二进制输入离散无记忆信道（Binary-input Discrete Memoryless Channel，B-DMC）信道。在大多数研究场景下，信道编码的传输信道模型均为BAWGNC信道。在BAWGNC信道下，可以将密度进化中的对数似然比（Likelihood Rate，LLR）的概率密度函数用一族方差为均值2倍的高斯分布来近似，从而简化成了对一维均值的计算，大大降低计算量，这种对DE的简化计算即为高斯近似。参考文献：[1] Arikan E. Channel polarization: A method for constructing capacity-achieving codes[C]// IEEE International Symposium on Information Theory. IEEE, 2008:1173-1177.[2] Arikan E. Channel Polarization: A Method for Constructing Capacity-Achieving Codes for Symmetric Binary-Input Memoryless Channels[J]. IEEE Transactions on Information Theory, 2008, 55(7):3051-3073.[3] 陈凯. 极化编码理论与实用方案研究[D]. 北京邮电大学, 2014.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[开宗明义]]></title>
      <url>%2F2017%2F03%2F01%2Fhello-world%2F</url>
      <content type="text"><![CDATA[首篇博文，开宗明义这是有关无线通信技术的个人博客，用于梳理无线通信知识，记录研究笔记或进行阶段性总结。博客内容涉及但不限于5G技术预研、LTE物理层算法。工作中每个阶段都有各自的研究任务，随着研究广度与深度的增加，知识碎片也在不断增加。若不及时整理，长此以往难免混乱，更不利于日后的工作，故开博以记之。联系方式Weibo: @Marshall_MSEmail: marshallcomm@163.com]]></content>
    </entry>

    
  
  
</search>
